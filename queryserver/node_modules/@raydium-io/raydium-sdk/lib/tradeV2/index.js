"use strict";var ao=Object.create;var Pt=Object.defineProperty,co=Object.defineProperties,uo=Object.getOwnPropertyDescriptor,mo=Object.getOwnPropertyDescriptors,lo=Object.getOwnPropertyNames,Dn=Object.getOwnPropertySymbols,po=Object.getPrototypeOf,On=Object.prototype.hasOwnProperty,bo=Object.prototype.propertyIsEnumerable;var sn=Math.pow,Nn=(d,e,t)=>e in d?Pt(d,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):d[e]=t,q=(d,e)=>{for(var t in e||(e={}))On.call(e,t)&&Nn(d,t,e[t]);if(Dn)for(var t of Dn(e))bo.call(e,t)&&Nn(d,t,e[t]);return d},we=(d,e)=>co(d,mo(e));var yo=(d,e)=>{for(var t in e)Pt(d,t,{get:e[t],enumerable:!0})},Un=(d,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of lo(e))!On.call(d,i)&&i!==t&&Pt(d,i,{get:()=>e[i],enumerable:!(n=uo(e,i))||n.enumerable});return d};var ue=(d,e,t)=>(t=d!=null?ao(po(d)):{},Un(e||!d||!d.__esModule?Pt(t,"default",{value:d,enumerable:!0}):t,d)),fo=d=>Un(Pt({},"__esModule",{value:!0}),d);var E=(d,e,t)=>new Promise((n,i)=>{var r=c=>{try{a(t.next(c))}catch(u){i(u)}},o=c=>{try{a(t.throw(c))}catch(u){i(u)}},a=c=>c.done?n(c.value):Promise.resolve(c.value).then(r,o);a((t=t.apply(d,e)).next())});var rr={};yo(rr,{TradeV2:()=>Kt});module.exports=fo(rr);var Le=require("@solana/web3.js"),gt=ue(require("bn.js"));var Kn=require("@solana/web3.js"),st=ue(require("bn.js"));var C=require("@solana/buffer-layout"),an=C.Layout,En=C.Structure;var cn=C.UInt;var Mn=C.u8,rt=C.u16;var Re=C.s32;var qn=C.seq;var Ie=C.blob;var Tt=class extends an{constructor(t,n,i){super(t,i);this.blob=Ie(t),this.signed=n}decode(t,n=0){let i=new st.default(this.blob.decode(t,n),10,"le");return this.signed?i.fromTwos(this.span*8).clone():i}encode(t,n,i=0){return typeof t=="number"&&(t=new st.default(t)),this.signed&&(t=t.toTwos(this.span*8)),this.blob.encode(t.toArrayLike(Buffer,"le",this.span),n,i)}};function F(d){return new cn(1,d)}function Be(d){return new cn(4,d)}function S(d){return new Tt(8,!1,d)}function M(d){return new Tt(16,!1,d)}function Vn(d){return new Tt(16,!0,d)}var vt=class extends an{constructor(t,n,i,r){super(t.span,r);this.layout=t,this.decoder=n,this.encoder=i}decode(t,n){return this.decoder(this.layout.decode(t,n))}encode(t,n,i){return this.layout.encode(this.encoder(t),n,i)}getSpan(t,n){return this.layout.getSpan(t,n)}};function B(d){return new vt(Ie(32),e=>new Kn.PublicKey(e),e=>e.toBuffer(),d)}function Ft(d){return new vt(Mn(),Ao,So,d)}function Ao(d){if(d===0)return!1;if(d===1)return!0;throw new Error("Invalid bool: "+d)}function So(d){return d?1:0}var un=class extends En{decode(e,t){return super.decode(e,t)}};function O(d,e,t){return new un(d,e,t)}function ne(d,e,t){let n,i=typeof e=="number"?e:(0,st.isBN)(e)?e.toNumber():new Proxy(e,{get(r,o){if(!n){let a=Reflect.get(r,"count");n=(0,st.isBN)(a)?a.toNumber():a,Reflect.set(r,"count",n)}return Reflect.get(r,o)},set(r,o,a){return o==="count"&&(n=a),Reflect.set(r,o,a)}});return qn(d,i,t)}var gn=ue(require("bn.js"));var ci=require("@solana/web3.js");var oi=require("@solana/web3.js"),ri=require("bn.js");var Xn=ue(require("big.js")),xt=ue(require("bn.js"));var wt=ue(require("bn.js"));var qe=ue(require("bn.js"));var U=new qe.default(0),te=new qe.default(1),Sr=new qe.default(2),gr=new qe.default(3),kr=new qe.default(5),Wt=new qe.default(10),_n=new qe.default(100),Pr=new qe.default(1e3),Tr=new qe.default(1e4);var Gt=Q.from("entity/bignumber"),vn=9007199254740991;function H(d){return d instanceof wt.default?d:typeof d=="string"?d.match(/^-?[0-9]+$/)?new wt.default(d):Gt.throwArgumentError("invalid BigNumberish string","value",d):typeof d=="number"?d%1?Gt.throwArgumentError("BigNumberish number underflow","value",d):d>=vn||d<=-vn?Gt.throwArgumentError("BigNumberish number overflow","value",d):new wt.default(String(d)):typeof d=="bigint"?new wt.default(d.toString()):Gt.throwArgumentError("invalid BigNumberish value","value",d)}function mn(d){return Wt.pow(H(d))}function ln(d,e){let t=d.divmod(e);return t.mod.isZero()?t.div:t.div.isNeg()?t.div.isubn(1):t.div.iaddn(1)}var at={symbol:"SOL",name:"Solana",decimals:9},ge={symbol:"WSOL",name:"Wrapped SOL",mint:"So11111111111111111111111111111111111111112",decimals:9,extensions:{coingeckoId:"solana"}};var s={WSOL:q({},ge),BTC:{symbol:"BTC",name:"Bitcoin",mint:"9n4nbM75f5Ui33ZbPYXn59EwSgE8CGsHtAeTH5YFeJ9E",decimals:6,extensions:{coingeckoId:"bitcoin"}},ETH:{symbol:"ETH",name:"Ethereum",mint:"2FPyTwcZLUg1MDrwsyoP4D6s1tM7hAkHYRjkNb5w6Pxk",decimals:6,extensions:{coingeckoId:"ethereum"}},USDT:{symbol:"USDT",name:"Tether",mint:"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB",decimals:6,extensions:{coingeckoId:"tether"}},WUSDT:{symbol:"WUSDT",name:"Wrapped USDT",mint:"BQcdHdAQW1hczDbBi9hiegXAR7A98Q9jx3X3iBBBDiq4",decimals:6,extensions:{coingeckoId:"tether"}},USDC:{symbol:"USDC",name:"USD Coin",mint:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",decimals:6,extensions:{coingeckoId:"usd-coin"}},WUSDC:{symbol:"WUSDC",name:"Wrapped USDC",mint:"BXXkv6z8ykpG1yuvUDPgh732wzVHB69RnB9YgSYh3itW",decimals:6,extensions:{coingeckoId:"usd-coin"}},YFI:{symbol:"YFI",name:"YFI",mint:"3JSf5tPeuscJGtaCp5giEiDhv51gQ4v3zWg8DGgyLfAB",decimals:6,extensions:{coingeckoId:"yearn-finance"}},LINK:{symbol:"LINK",name:"Chainlink",mint:"CWE8jPTUYhdCTZYWPTe1o5DFqfdjzWKc9WKz6rSjQUdG",decimals:6,extensions:{coingeckoId:"chainlink"}},XRP:{symbol:"XRP",name:"XRP",mint:"Ga2AXHpfAF6mv2ekZwcsJFqu7wB4NV331qNH7fW9Nst8",decimals:6,extensions:{coingeckoId:"ripple"}},SUSHI:{symbol:"SUSHI",name:"SUSHI",mint:"AR1Mtgh7zAtxuxGd2XPovXPVjcSdY3i4rQYisNadjfKy",decimals:6,extensions:{coingeckoId:"sushi"}},ALEPH:{symbol:"ALEPH",name:"ALEPH",mint:"CsZ5LZkDS7h9TDKjrbL7VAwQZ9nsRu8vJLhRYfmGaN8K",decimals:6,extensions:{coingeckoId:"aleph"}},SXP:{symbol:"SXP",name:"SXP",mint:"SF3oTvfWzEP3DTwGSvUXRrGTvr75pdZNnBLAH9bzMuX",decimals:6,extensions:{coingeckoId:"swipe"}},HGET:{symbol:"HGET",name:"HGET",mint:"BtZQfWqDGbk9Wf2rXEiWyQBdBY1etnUUn6zEphvVS7yN",decimals:6,extensions:{coingeckoId:"hedget"}},CREAM:{symbol:"CREAM",name:"CREAM",mint:"5Fu5UUgbjpUvdBveb3a1JTNirL8rXtiYeSMWvKjtUNQv",decimals:6,extensions:{coingeckoId:"cream-2"}},UNI:{symbol:"UNI",name:"UNI",mint:"DEhAasscXF4kEGxFgJ3bq4PpVGp5wyUxMRvn6TzGVHaw",decimals:6,extensions:{coingeckoId:"uniswap"}},SRM:{symbol:"SRM",name:"Serum",mint:"SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt",decimals:6,extensions:{coingeckoId:"serum"}},FTT:{symbol:"FTT",name:"FTX Token",mint:"AGFEad2et2ZJif9jaGpdMixQqvW5i81aBdvKe7PHNfz3",decimals:6,extensions:{coingeckoId:"ftx-token"}},MSRM:{symbol:"MSRM",name:"MegaSerum",mint:"MSRMcoVyrFxnSgo5uXwone5SKcGhT1KEJMFEkMEWf9L",decimals:0,extensions:{coingeckoId:"megaserum"}},TOMO:{symbol:"TOMO",name:"TOMO",mint:"GXMvfY2jpQctDqZ9RoU3oWPhufKiCcFEfchvYumtX7jd",decimals:6,extensions:{coingeckoId:"tomochain"}},KARMA:{symbol:"KARMA",name:"KARMA",mint:"EcqExpGNFBve2i1cMJUTR4bPXj4ZoqmDD2rTkeCcaTFX",decimals:4,extensions:{coingeckoId:"karma-dao"}},LUA:{symbol:"LUA",name:"LUA",mint:"EqWCKXfs3x47uVosDpTRgFniThL9Y8iCztJaapxbEaVX",decimals:6,extensions:{coingeckoId:"lua-token"}},MATH:{symbol:"MATH",name:"MATH",mint:"GeDS162t9yGJuLEHPWXXGrb1zwkzinCgRwnT8vHYjKza",decimals:6,extensions:{coingeckoId:"math"}},KEEP:{symbol:"KEEP",name:"KEEP",mint:"GUohe4DJUA5FKPWo3joiPgsB7yzer7LpDmt1Vhzy3Zht",decimals:6,extensions:{coingeckoId:"keep-network"}},SWAG:{symbol:"SWAG",name:"SWAG",mint:"9F9fNTT6qwjsu4X4yWYKZpsbw5qT7o6yR2i57JF2jagy",decimals:6,extensions:{coingeckoId:"swag-finance"}},FIDA:{symbol:"FIDA",name:"Bonfida",mint:"EchesyfXePKdLtoiZSL8pBe8Myagyy8ZRqsACNCFGnvp",decimals:6,extensions:{coingeckoId:"bonfida"}},KIN:{symbol:"KIN",name:"Kin",mint:"kinXdEcpDQeHPEuQnqmUgtYykqKGVFq6CeVX5iAHJq6",decimals:5,extensions:{coingeckoId:"kin"}},MAPS:{symbol:"MAPS",name:"MAPS",mint:"MAPS41MDahZ9QdKXhVa4dWB9RuyfV4XqhyAZ8XcYepb",decimals:6,extensions:{coingeckoId:"maps"}},OXY:{symbol:"OXY",name:"Oxygen",mint:"z3dn17yLaGMKffVogeFHQ9zWVcXgqgf3PQnDsNs2g6M",decimals:6,extensions:{coingeckoId:"oxygen"}},RAY:{symbol:"RAY",name:"Raydium",mint:"4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R",decimals:6,extensions:{coingeckoId:"raydium"}},xCOPE:{symbol:"xCOPE",name:"xCOPE",mint:"3K6rftdAaQYMPunrtNRHgnK2UAtjm2JwyT2oCiTDouYE",decimals:0,extensions:{coingeckoId:"cope"}},COPE:{symbol:"COPE",name:"Cope",mint:"8HGyAAB1yoM1ttS7pXjHMa3dukTFGQggnFFH3hJZgzQh",decimals:6,extensions:{coingeckoId:"cope"}},STEP:{symbol:"STEP",name:"Step Finance",mint:"StepAscQoEioFxxWGnh2sLBDFp9d8rvKz2Yp39iDpyT",decimals:9,extensions:{coingeckoId:"step-finance"}},MEDIA:{symbol:"MEDIA",name:"Media Network",mint:"ETAtLmCmsoiEEKfNrHKJ2kYy3MoABhU6NQvpSfij5tDs",decimals:6,extensions:{coingeckoId:"media-network"}},ROPE:{symbol:"ROPE",name:"Rope Token",mint:"8PMHT4swUMtBzgHnh5U564N5sjPSiUz2cjEQzFnnP1Fo",decimals:9,extensions:{coingeckoId:"rope-token"}},MER:{symbol:"MER",name:"Mercurial",mint:"MERt85fc5boKw3BW1eYdxonEuJNvXbiMbs6hvheau5K",decimals:6,extensions:{coingeckoId:"mercurial"}},TULIP:{symbol:"TULIP",name:"Tulip Protocol",mint:"TuLipcqtGVXP9XR62wM8WWCm6a9vhLs7T1uoWBk6FDs",decimals:6,extensions:{coingeckoId:"solfarm"}},SNY:{symbol:"SNY",name:"SNY",mint:"4dmKkXNHdgYsXqBHCuMikNQWwVomZURhYvkkX5c4pQ7y",decimals:6,extensions:{coingeckoId:"synthetify-token"}},SLRS:{symbol:"SLRS",name:"SLRS",mint:"SLRSSpSLUTP7okbCUBYStWCo1vUgyt775faPqz8HUMr",decimals:6,extensions:{coingeckoId:"solrise-finance"}},WOO:{symbol:"WOO",name:"WOO Network",mint:"E5rk3nmgLUuKUiS94gg4bpWwWwyjCMtddsAXkTFLtHEy",decimals:6,extensions:{coingeckoId:"woo-network"}},BOP:{symbol:"BOP",name:"Boring Protocol",mint:"BLwTnYKqf7u4qjgZrrsKeNs2EzWkMLqVCu6j8iHyrNA3",decimals:8,extensions:{coingeckoId:"boring-protocol"}},SAMO:{symbol:"SAMO",name:"Samoyedcoin",mint:"7xKXtg2CW87d97TXJSDpbD5jBkheTqA83TZRuJosgAsU",decimals:9,extensions:{coingeckoId:"samoyedcoin"}},renBTC:{symbol:"renBTC",name:"renBTC",mint:"CDJWUqTcYTVAKXAVXoQZFes5JUFc7owSeq7eMQcDSbo5",decimals:8,extensions:{coingeckoId:"renbtc"}},renDOGE:{symbol:"renDOGE",name:"renDOGE",mint:"ArUkYE2XDKzqy77PRRGjo4wREWwqk6RXTfM9NeqzPvjU",decimals:8,extensions:{coingeckoId:"rendoge"}},LIKE:{symbol:"LIKE",name:"Only1",mint:"3bRTivrVsitbmCTGtqwp7hxXPsybkjn4XLNtPsHqa3zR",decimals:9,extensions:{coingeckoId:"only1"}},DXL:{symbol:"DXL",name:"Dexlab",mint:"GsNzxJfFn6zQdJGeYsupJWzUAm57Ba7335mfhWvFiE9Z",decimals:6,extensions:{coingeckoId:"dexlab"}},mSOL:{symbol:"mSOL",name:"Marinade staked SOL",mint:"mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So",decimals:9,extensions:{coingeckoId:"msol"}},PAI:{symbol:"PAI",name:"Parrot USD",mint:"Ea5SjE2Y6yvCeW5dYTn7PYMuW5ikXkvbGdcmSnXeaLjS",decimals:6,extensions:{coingeckoId:"parrot-usd"}},PORT:{symbol:"PORT",name:"Port Finance",mint:"PoRTjZMPXb9T7dyU7tpLEZRQj7e6ssfAE62j2oQuc6y",decimals:6,extensions:{coingeckoId:"port-finance"}},MNGO:{symbol:"MNGO",name:"Mango",mint:"MangoCzJ36AjZyKwVj3VnYU4GTonjfVEnJmvvWaxLac",decimals:6,extensions:{coingeckoId:"mango-markets"}},CRP:{symbol:"CRP",name:"CropperFinance",mint:"DubwWZNWiNGMMeeQHPnMATNj77YZPZSAz2WVR5WjLJqz",decimals:9,extensions:{coingeckoId:"cropperfinance"}},ATLAS:{symbol:"ATLAS",name:"Star Atlas",mint:"ATLASXmbPQxBUYbxPsV97usA3fPQYEqzQBUHgiFCUsXx",decimals:8,extensions:{coingeckoId:"star-atlas"}},POLIS:{symbol:"POLIS",name:"Star Atlas DAO",mint:"poLisWXnNRwC6oBu1vHiuKQzFjGL4XDSu4g9qjz9qVk",decimals:8,extensions:{coingeckoId:"star-atlas-dao"}},GRAPE:{symbol:"GRAPE",name:"Grape Protocol",mint:"8upjSpvjcdpuzhfR1zriwg5NXkwDruejqNE9WNbPRtyA",decimals:6,extensions:{coingeckoId:"grape-2"}},GENE:{symbol:"GENE",name:"Genopets",mint:"GENEtH5amGSi8kHAtQoezp1XEXwZJ8vcuePYnXdKrMYz",decimals:9,extensions:{coingeckoId:"genopets"}},DFL:{symbol:"DFL",name:"DeFi Land",mint:"DFL1zNkaGPWm1BqAVqRjCZvHmwTFrEaJtbzJWgseoNJh",decimals:9,extensions:{coingeckoId:"defi-land"}},CHEEMS:{symbol:"CHEEMS",name:"Cheems",mint:"3FoUAsGDbvTD6YZ4wVKJgTB76onJUKz7GPEBNiR5b8wc",decimals:4,extensions:{coingeckoId:"cheems"}},stSOL:{symbol:"stSOL",name:"Lido Staked SOL",mint:"7dHbWXmci3dT8UFYWYZweBLXgycu7Y3iL6trKn1Y7ARj",decimals:9,extensions:{coingeckoId:"lido-staked-sol"}},LARIX:{symbol:"LARIX",name:"Larix",mint:"Lrxqnh6ZHKbGy3dcrCED43nsoLkM1LTzU2jRfWe8qUC",decimals:6,extensions:{coingeckoId:"larix"}},RIN:{symbol:"RIN",name:"Aldrin",mint:"E5ndSkaB17Dm7CsD22dvcjfrYSDLCxFcMd6z8ddCk5wp",decimals:9,extensions:{coingeckoId:"aldrin"}},APEX:{symbol:"APEX",name:"ApeXit Finance",mint:"51tMb3zBKDiQhNwGqpgwbavaGH54mk8fXFzxTc1xnasg",decimals:9,extensions:{coingeckoId:"apexit-finance"}},MNDE:{symbol:"MNDE",name:"Marinade",mint:"MNDEFzGvMt87ueuHvVU9VcTqsAP5b3fTGPsHuuPA5ey",decimals:9,extensions:{coingeckoId:"marinade"}},LIQ:{symbol:"LIQ",name:"LIQ Protocol",mint:"4wjPQJ6PrkC4dHhYghwJzGBVP78DkBzA2U3kHoFNBuhj",decimals:6,extensions:{coingeckoId:"liq-protocol"}},WAG:{symbol:"WAG",name:"Waggle Network",mint:"5tN42n9vMi6ubp67Uy4NnmM5DMZYN8aS8GeB3bEDHr6E",decimals:9,extensions:{coingeckoId:"waggle-network"}},wLDO:{symbol:"wLDO",name:"wLDO",mint:"HZRCwxP2Vq9PCpPXooayhJ2bxTpo5xfpQrwB1svh332p",decimals:8,extensions:{}},SLIM:{symbol:"SLIM",name:"Solanium",mint:"xxxxa1sKNGwFtw2kFn8XauW9xq8hBZ5kVtcSesTT9fW",decimals:6,extensions:{coingeckoId:"solanium"}},PRT:{symbol:"PRT",name:"Parrot Protocol",mint:"PRT88RkA4Kg5z7pKnezeNH4mafTvtQdfFgpQTGRjz44",decimals:6,extensions:{coingeckoId:"parrot-protocol"}},SBR:{symbol:"SBR",name:"SBR",mint:"Saber2gLauYim4Mvftnrasomsv6NvAuncvMEZwcLpD1",decimals:6,extensions:{}},FAB:{symbol:"FAB",name:"Fabric",mint:"EdAhkbj5nF9sRM7XN7ewuW8C9XEUMs8P7cnoQ57SYE96",decimals:9,extensions:{coingeckoId:"fabric"}},ABR:{symbol:"ABR",name:"Allbridge",mint:"a11bdAAuV8iB2fu7X6AxAvDTo1QZ8FXB3kk5eecdasp",decimals:9,extensions:{coingeckoId:"allbridge"}},IVN:{symbol:"IVN",name:"Investin",mint:"iVNcrNE9BRZBC9Aqf753iZiZfbszeAVUoikgT9yvr2a",decimals:6,extensions:{coingeckoId:"investin"}},CYS:{symbol:"CYS",name:"Cyclos",mint:"BRLsMczKuaR5w9vSubF4j8HwEGGprVAyyVgS4EX7DKEg",decimals:6,extensions:{coingeckoId:"cyclos"}},FRKT:{symbol:"FRKT",name:"FRAKT Token",mint:"ErGB9xa24Szxbk1M28u2Tx8rKPqzL6BroNkkzk5rG4zj",decimals:8,extensions:{coingeckoId:"frakt-token"}},AURY:{symbol:"AURY",name:"Aurory",mint:"AURYydfxJib1ZkTir1Jn1J9ECYUtjb6rKQVmtYaixWPP",decimals:9,extensions:{coingeckoId:"aurory"}},SYP:{symbol:"SYP",name:"Sypool",mint:"FnKE9n6aGjQoNWRBZXy4RW6LZVao7qwBonUbiD7edUmZ",decimals:9,extensions:{coingeckoId:"sypool"}},WOOF:{symbol:"WOOF",name:"WOOF",mint:"9nEqaUcb16sQ3Tn1psbkWqyhPdLmfHWjKGymREjsAgTE",decimals:6,extensions:{coingeckoId:"woof-token"}},ORCA:{symbol:"ORCA",name:"Orca",mint:"orcaEKTdK7LKz57vaAYr9QeNsVEPfiu6QeMU1kektZE",decimals:6,extensions:{coingeckoId:"orca"}},SLND:{symbol:"SLND",name:"Solend",mint:"SLNDpmoWTVADgEdndyvWzroNL7zSi1dF9PC3xHGtPwp",decimals:6,extensions:{coingeckoId:"solend"}},weWETH:{symbol:"weWETH",name:"weWETH",mint:"7vfCXTUXx5WJV5JADk17DUJ4ksgau7utNKj4b963voxs",decimals:8,extensions:{}},weUNI:{symbol:"weUNI",name:"weUNI",mint:"8FU95xFJhUUkyyCLU13HSzDLs7oC4QZdXQHL6SCeab36",decimals:8,extensions:{}},weSUSHI:{symbol:"weSUSHI",name:"weSUSHI",mint:"ChVzxWRmrTeSgwd3Ui3UumcN8KX7VK3WaD4KGeSKpypj",decimals:8,extensions:{}},GOFX:{symbol:"GOFX",name:"GooseFX",mint:"GFX1ZjR2P15tmrSwow6FjyDYcEkoFb4p4gJCpLBjaxHD",decimals:9,extensions:{coingeckoId:"goosefx"}},IN:{symbol:"IN",name:"Invictus",mint:"inL8PMVd6iiW3RCBJnr5AsrRN6nqr4BTrcNuQWQSkvY",decimals:9,extensions:{coingeckoId:"invictus"}},weDYDX:{symbol:"weDYDX",name:"weDYDX",mint:"4Hx6Bj56eGyw8EJrrheM6LBQAvVYRikYCWsALeTrwyRU",decimals:8,extensions:{}},STARS:{symbol:"STARS",name:"StarLaunch",mint:"HCgybxq5Upy8Mccihrp7EsmwwFqYZtrHrsmsKwtGXLgW",decimals:6,extensions:{coingeckoId:"starlaunch"}},weAXS:{symbol:"weAXS",name:"weAXS",mint:"HysWcbHiYY9888pHbaqhwLYZQeZrcQMXKQWRqS7zcPK5",decimals:8,extensions:{}},weSHIB:{symbol:"weSHIB",name:"weSHIB",mint:"CiKu4eHsVrc1eueVQeHn7qhXTcVu95gSQmBpX4utjL9z",decimals:8,extensions:{}},OXS:{symbol:"OXS",name:"Oxbull Solana",mint:"4TGxgCSJQx2GQk9oHZ8dC5m3JNXTYZHjXumKAW3vLnNx",decimals:9,extensions:{coingeckoId:"oxbull-solana"}},CWAR:{symbol:"CWAR",name:"Cryowar",mint:"HfYFjMKNZygfMC8LsQ8LtpPsPxEJoXJx4M6tqi75Hajo",decimals:9,extensions:{coingeckoId:"cryowar-token"}},UPS:{symbol:"UPS",name:"UPFI Network",mint:"EwJN2GqUGXXzYmoAciwuABtorHczTA5LqbukKXV1viH7",decimals:6,extensions:{coingeckoId:"upfi-network"}},weSAND:{symbol:"weSAND",name:"weSAND",mint:"49c7WuCZkQgc3M4qH8WuEUNXfgwupZf1xqWkDQ7gjRGt",decimals:8,extensions:{}},weMANA:{symbol:"weMANA",name:"weMANA",mint:"7dgHoN8wBZCc5wbnQ2C47TDnBMAxG4Q5L3KjP67z8kNi",decimals:8,extensions:{}},CAVE:{symbol:"CAVE",name:"Crypto Cavemen",mint:"4SZjjNABoqhbd4hnapbvoEPEqT8mnNkfbEoAwALf1V8t",decimals:6,extensions:{coingeckoId:"cave"}},JSOL:{symbol:"JSOL",name:"JPool",mint:"7Q2afV64in6N6SeZsAAB81TJzwDoD6zpqmHkzi9Dcavn",decimals:9,extensions:{coingeckoId:"jpool"}},APT:{symbol:"APT",name:"Apricot",mint:"APTtJyaRX5yGTsJU522N4VYWg3vCvSb65eam5GrPT5Rt",decimals:6,extensions:{coingeckoId:"apricot"}},SONAR:{symbol:"SONAR",name:"SonarWatch",mint:"sonarX4VtVkQemriJeLm6CKeW3GDMyiBnnAEMw1MRAE",decimals:9,extensions:{coingeckoId:"sonarwatch"}},SHILL:{symbol:"SHILL",name:"SHILL Token",mint:"6cVgJUqo4nmvQpbgrDZwyfd6RwWw5bfnCamS3M9N1fd",decimals:6,extensions:{coingeckoId:"shill-token"}},TTT:{symbol:"TTT",name:"TabTrader",mint:"FNFKRV3V8DtA3gVJN6UshMiLGYA8izxFwkNWmJbFjmRj",decimals:6,extensions:{coingeckoId:"tabtrader"}},BOKU:{symbol:"BOKU",name:"Boryoku Dragonz",mint:"CN7qFa5iYkHz99PTctvT4xXUHnxwjQ5MHxCuTJtPN5uS",decimals:9,extensions:{coingeckoId:"boku"}},MIMO:{symbol:"MIMO",name:"Million Monke",mint:"9TE7ebz1dsFo1uQ2T4oYAKSm39Y6fWuHrd6Uk6XaiD16",decimals:9,extensions:{coingeckoId:"million-monke"}},wbWBNB:{symbol:"wbWBNB",name:"wbWBNB",mint:"9gP2kCy3wA1ctvYWQk75guqXuHfrEomqydHLtcTCqiLa",decimals:8,extensions:{}},wePEOPLE:{symbol:"wePEOPLE",name:"wePEOPLE",mint:"CobcsUrt3p91FwvULYKorQejgsm5HoQdv5T8RUZ6PnLA",decimals:8,extensions:{}},XTAG:{symbol:"XTAG",name:"xHashtag",mint:"5gs8nf4wojB5EXgDUWNLwXpknzgV2YWDhveAeBZpVLbp",decimals:6,extensions:{coingeckoId:"xhashtag"}},KKO:{symbol:"KKO",name:"Kineko",mint:"kiNeKo77w1WBEzFFCXrTDRWGRWGP8yHvKC9rX6dqjQh",decimals:9,extensions:{coingeckoId:"kineko"}},VI:{symbol:"VI",name:"Vybit",mint:"7zBWymxbZt7PVHQzfi3i85frc1YRiQc23K7bh3gos8ZC",decimals:9,extensions:{coingeckoId:"vybit"}},SOLC:{symbol:"SOLC",name:"Solcubator",mint:"Bx1fDtvTN6NvE4kjdPHQXtmGSg582bZx9fGy4DQNMmAT",decimals:9,extensions:{coingeckoId:"solcubator"}},STR:{symbol:"STR",name:"Solster",mint:"9zoqdwEBKWEi9G5Ze8BSkdmppxGgVv1Kw4LuigDiNr9m",decimals:9,extensions:{coingeckoId:"solster"}},SPWN:{symbol:"SPWN",name:"Bitspawn",mint:"5U9QqCPhqXAJcEv9uyzFJd5zhN93vuPk1aNNkXnUfPnt",decimals:9,extensions:{coingeckoId:"bitspawn"}},ISOLA:{symbol:"ISOLA",name:"Intersola",mint:"333iHoRM2Awhf9uVZtSyTfU8AekdGrgQePZsKMFPgKmS",decimals:6,extensions:{coingeckoId:"intersola"}},RUN:{symbol:"RUN",name:"Run",mint:"6F9XriABHfWhit6zmMUYAQBSy6XK5VF1cHXuW5LDpRtC",decimals:9,extensions:{coingeckoId:"run"}},REAL:{symbol:"REAL",name:"Realy Metaverse",mint:"AD27ov5fVU2XzwsbvnFvb1JpCBaCB5dRXrczV9CqSVGb",decimals:9,extensions:{coingeckoId:"realy-metaverse"}},CRWNY:{symbol:"CRWNY",name:"CRWNY",mint:"CRWNYkqdgvhGGae9CKfNka58j6QQkaD5bLhKXvUYqnc1",decimals:6,extensions:{}},BLOCK:{symbol:"BLOCK",name:"Blockasset",mint:"NFTUkR4u7wKxy9QLaX2TGvd9oZSWoMo4jqSJqdMb7Nk",decimals:6,extensions:{coingeckoId:"blockasset"}},SOLAR:{symbol:"SOLAR",name:"Solar",mint:"2wmKXX1xsxLfrvjEPrt2UHiqj8Gbzwxvffr9qmNjsw8g",decimals:9,extensions:{coingeckoId:"solar"}},BASIS:{symbol:"BASIS",name:"basis.markets",mint:"Basis9oJw9j8cw53oMV7iqsgo6ihi9ALw4QR31rcjUJa",decimals:6,extensions:{coingeckoId:"basis-markets"}},SOLX:{symbol:"SOLX",name:"Soldex",mint:"CH74tuRLTYcxG7qNJCsV9rghfLXJCQJbsu7i52a8F1Gn",decimals:9,extensions:{coingeckoId:"soldex"}},CHICKS:{symbol:"CHICKS",name:"SolChicks Token",mint:"cxxShYRVcepDudXhe7U62QHvw8uBJoKFifmzggGKVC2",decimals:9,extensions:{coingeckoId:"solchicks-token"}},GST:{symbol:"GST",name:"GST",mint:"AFbX8oGjGpmVFywbVouvhQSRmiW2aR1mohfahi4Y2AdB",decimals:9,extensions:{coingeckoId:"gst"}},MBS:{symbol:"MBS",name:"MonkeyBall",mint:"Fm9rHUTF5v3hwMLbStjZXqNBBoZyGriQaFM6sTFz3K8A",decimals:6,extensions:{coingeckoId:"monkeyball"}},PRISM:{symbol:"PRISM",name:"Prism",mint:"PRSMNsEPqhGVCH1TtWiJqPjJyh2cKrLostPZTNy1o5x",decimals:6,extensions:{coingeckoId:"prism"}},MEAN:{symbol:"MEAN",name:"Meanfi",mint:"MEANeD3XDdUmNMsRGjASkSWdC8prLYsoRJ61pPeHctD",decimals:6,extensions:{coingeckoId:"meanfi"}},TINY:{symbol:"TINY",name:"Tiny Colony",mint:"HKfs24UEDQpHS5hUyKYkHd9q7GY5UQ679q2bokeL2whu",decimals:6,extensions:{coingeckoId:"tiny-colony"}},SHDW:{symbol:"SHDW",name:"GenesysGo Shadow",mint:"SHDWyBxihqiCj6YekG2GUr7wqKLeLAMK1gHZck9pL6y",decimals:9,extensions:{coingeckoId:"genesysgo-shadow"}},SCY:{symbol:"SCY",name:"Synchrony",mint:"SCYfrGCw8aDiqdgcpdGjV6jp4UVVQLuphxTDLNWu36f",decimals:9,extensions:{coingeckoId:"synchrony"}},SLC:{symbol:"SLC",name:"Solice",mint:"METAmTMXwdb8gYzyCPfXXFmZZw4rUsXX58PNsDg7zjL",decimals:6,extensions:{coingeckoId:"solice"}}},Br={FIDA_RAY_V4:{symbol:"FIDA-RAY",name:"FIDA-RAY V4 LP",mint:"DsBuznXRTmzvEdb36Dx3aVLVo1XmH7r1PRZUFugLPTFv",base:s.FIDA,quote:s.RAY,decimals:s.FIDA.decimals,version:4},OXY_RAY_V4:{symbol:"OXY-RAY",name:"OXY-RAY V4 LP",mint:"FwaX9W7iThTZH5MFeasxdLpxTVxRcM7ZHieTCnYog8Yb",base:s.OXY,quote:s.RAY,decimals:s.OXY.decimals,version:4},MAPS_RAY_V4:{symbol:"MAPS-RAY",name:"MAPS-RAY V4 LP",mint:"CcKK8srfVdTSsFGV3VLBb2YDbzF4T4NM2C3UEjC39RLP",base:s.MAPS,quote:s.RAY,decimals:s.MAPS.decimals,version:4},KIN_RAY_V4:{symbol:"KIN-RAY",name:"KIN-RAY V4 LP",mint:"CHT8sft3h3gpLYbCcZ9o27mT5s3Z6VifBVbUiDvprHPW",base:s.KIN,quote:s.RAY,decimals:6,version:4},RAY_USDT_V4:{symbol:"RAY-USDT",name:"RAY-USDT V4 LP",mint:"C3sT1R3nsw4AVdepvLTLKr5Gvszr7jufyBWUCvy4TUvT",base:s.RAY,quote:s.USDT,decimals:s.RAY.decimals,version:4},SOL_USDC_V4:{symbol:"SOL-USDC",name:"SOL-USDC V4 LP",mint:"8HoQnePLqPj4M7PUDzfw8e3Ymdwgc7NLGnaTUapubyvu",base:s.WSOL,quote:s.USDC,decimals:s.WSOL.decimals,version:4},YFI_USDC_V4:{symbol:"YFI-USDC",name:"YFI-USDC V4 LP",mint:"865j7iMmRRycSYUXzJ33ZcvLiX9JHvaLidasCyUyKaRE",base:s.YFI,quote:s.USDC,decimals:s.YFI.decimals,version:4},SRM_USDC_V4:{symbol:"SRM-USDC",name:"SRM-USDC V4 LP",mint:"9XnZd82j34KxNLgQfz29jGbYdxsYznTWRpvZE3SRE7JG",base:s.SRM,quote:s.USDC,decimals:s.SRM.decimals,version:4},FTT_USDC_V4:{symbol:"FTT-USDC",name:"FTT-USDC V4 LP",mint:"75dCoKfUHLUuZ4qEh46ovsxfgWhB4icc3SintzWRedT9",base:s.FTT,quote:s.USDC,decimals:s.FTT.decimals,version:4},BTC_USDC_V4:{symbol:"BTC-USDC",name:"BTC-USDC V4 LP",mint:"2hMdRdVWZqetQsaHG8kQjdZinEMBz75vsoWTCob1ijXu",base:s.BTC,quote:s.USDC,decimals:s.BTC.decimals,version:4},SUSHI_USDC_V4:{symbol:"SUSHI-USDC",name:"SUSHI-USDC V4 LP",mint:"2QVjeR9d2PbSf8em8NE8zWd8RYHjFtucDUdDgdbDD2h2",base:s.SUSHI,quote:s.USDC,decimals:s.SUSHI.decimals,version:4},TOMO_USDC_V4:{symbol:"TOMO-USDC",name:"TOMO-USDC V4 LP",mint:"CHyUpQFeW456zcr5XEh4RZiibH8Dzocs6Wbgz9aWpXnQ",base:s.TOMO,quote:s.USDC,decimals:s.TOMO.decimals,version:4},LINK_USDC_V4:{symbol:"LINK-USDC",name:"LINK-USDC V4 LP",mint:"BqjoYjqKrXtfBKXeaWeAT5sYCy7wsAYf3XjgDWsHSBRs",base:s.LINK,quote:s.USDC,decimals:s.LINK.decimals,version:4},ETH_USDC_V4:{symbol:"ETH-USDC",name:"ETH-USDC V4 LP",mint:"13PoKid6cZop4sj2GfoBeujnGfthUbTERdE5tpLCDLEY",base:s.ETH,quote:s.USDC,decimals:s.ETH.decimals,version:4},xCOPE_USDC_V4:{symbol:"xCOPE-USDC",name:"xCOPE-USDC V4 LP",mint:"2Vyyeuyd15Gp8aH6uKE72c4hxc8TVSLibxDP9vzspQWG",base:s.xCOPE,quote:s.USDC,decimals:s.xCOPE.decimals,version:4},SOL_USDT_V4:{symbol:"SOL-USDT",name:"SOL-USDT V4 LP",mint:"Epm4KfTj4DMrvqn6Bwg2Tr2N8vhQuNbuK8bESFp4k33K",base:s.WSOL,quote:s.USDT,decimals:s.WSOL.decimals,version:4},YFI_USDT_V4:{symbol:"YFI-USDT",name:"YFI-USDT V4 LP",mint:"FA1i7fej1pAbQbnY8NbyYUsTrWcasTyipKreDgy1Mgku",base:s.YFI,quote:s.USDT,decimals:s.YFI.decimals,version:4},SRM_USDT_V4:{symbol:"SRM-USDT",name:"SRM-USDT V4 LP",mint:"HYSAu42BFejBS77jZAZdNAWa3iVcbSRJSzp3wtqCbWwv",base:s.SRM,quote:s.USDT,decimals:s.SRM.decimals,version:4},FTT_USDT_V4:{symbol:"FTT-USDT",name:"FTT-USDT V4 LP",mint:"2cTCiUnect5Lap2sk19xLby7aajNDYseFhC9Pigou11z",base:s.FTT,quote:s.USDT,decimals:s.FTT.decimals,version:4},BTC_USDT_V4:{symbol:"BTC-USDT",name:"BTC-USDT V4 LP",mint:"DgGuvR9GSHimopo3Gc7gfkbKamLKrdyzWkq5yqA6LqYS",base:s.BTC,quote:s.USDT,decimals:s.BTC.decimals,version:4},SUSHI_USDT_V4:{symbol:"SUSHI-USDT",name:"SUSHI-USDT V4 LP",mint:"Ba26poEYDy6P2o95AJUsewXgZ8DM9BCsmnU9hmC9i4Ki",base:s.SUSHI,quote:s.USDT,decimals:s.SUSHI.decimals,version:4},TOMO_USDT_V4:{symbol:"TOMO-USDT",name:"TOMO-USDT V4 LP",mint:"D3iGro1vn6PWJXo9QAPj3dfta6dKkHHnmiiym2EfsAmi",base:s.TOMO,quote:s.USDT,decimals:s.TOMO.decimals,version:4},LINK_USDT_V4:{symbol:"LINK-USDT",name:"LINK-USDT V4 LP",mint:"Dr12Sgt9gkY8WU5tRkgZf1TkVWJbvjYuPAhR3aDCwiiX",base:s.LINK,quote:s.USDT,decimals:s.LINK.decimals,version:4},ETH_USDT_V4:{symbol:"ETH-USDT",name:"ETH-USDT V4 LP",mint:"nPrB78ETY8661fUgohpuVusNCZnedYCgghzRJzxWnVb",base:s.ETH,quote:s.USDT,decimals:s.ETH.decimals,version:4},YFI_SRM_V4:{symbol:"YFI-SRM",name:"YFI-SRM V4 LP",mint:"EGJht91R7dKpCj8wzALkjmNdUUUcQgodqWCYweyKcRcV",base:s.YFI,quote:s.SRM,decimals:s.YFI.decimals,version:4},FTT_SRM_V4:{symbol:"FTT-SRM",name:"FTT-SRM V4 LP",mint:"AsDuPg9MgPtt3jfoyctUCUgsvwqAN6RZPftqoeiPDefM",base:s.FTT,quote:s.SRM,decimals:s.FTT.decimals,version:4},BTC_SRM_V4:{symbol:"BTC-SRM",name:"BTC-SRM V4 LP",mint:"AGHQxXb3GSzeiLTcLtXMS2D5GGDZxsB2fZYZxSB5weqB",base:s.BTC,quote:s.SRM,decimals:s.BTC.decimals,version:4},SUSHI_SRM_V4:{symbol:"SUSHI-SRM",name:"SUSHI-SRM V4 LP",mint:"3HYhUnUdV67j1vn8fu7ExuVGy5dJozHEyWvqEstDbWwE",base:s.SUSHI,quote:s.SRM,decimals:s.SUSHI.decimals,version:4},TOMO_SRM_V4:{symbol:"TOMO-SRM",name:"TOMO-SRM V4 LP",mint:"GgH9RnKrQpaMQeqmdbMvs5oo1A24hERQ9wuY2pSkeG7x",base:s.TOMO,quote:s.SRM,decimals:s.TOMO.decimals,version:4},LINK_SRM_V4:{symbol:"LINK-SRM",name:"LINK-SRM V4 LP",mint:"GXN6yJv12o18skTmJXaeFXZVY1iqR18CHsmCT8VVCmDD",base:s.LINK,quote:s.SRM,decimals:s.LINK.decimals,version:4},ETH_SRM_V4:{symbol:"ETH-SRM",name:"ETH-SRM V4 LP",mint:"9VoY3VERETuc2FoadMSYYizF26mJinY514ZpEzkHMtwG",base:s.ETH,quote:s.SRM,decimals:s.ETH.decimals,version:4},SRM_SOL_V4:{symbol:"SRM-SOL",name:"SRM-SOL V4 LP",mint:"AKJHspCwDhABucCxNLXUSfEzb7Ny62RqFtC9uNjJi4fq",base:s.SRM,quote:s.WSOL,decimals:s.SRM.decimals,version:4},STEP_USDC_V4:{symbol:"STEP-USDC",name:"STEP-USDC V4 LP",mint:"3k8BDobgihmk72jVmXYLE168bxxQUhqqyESW4dQVktqC",base:s.STEP,quote:s.USDC,decimals:s.STEP.decimals,version:4},MEDIA_USDC_V4:{symbol:"MEDIA-USDC",name:"MEDIA-USDC V4 LP",mint:"A5zanvgtioZGiJMdEyaKN4XQmJsp1p7uVxaq2696REvQ",base:s.MEDIA,quote:s.USDC,decimals:s.MEDIA.decimals,version:4},ROPE_USDC_V4:{symbol:"ROPE-USDC",name:"ROPE-USDC V4 LP",mint:"Cq4HyW5xia37tKejPF2XfZeXQoPYW6KfbPvxvw5eRoUE",base:s.ROPE,quote:s.USDC,decimals:s.ROPE.decimals,version:4},MER_USDC_V4:{symbol:"MER-USDC",name:"MER-USDC V4 LP",mint:"3H9NxvaZoxMZZDZcbBDdWMKbrfNj7PCF5sbRwDr7SdDW",base:s.MER,quote:s.USDC,decimals:s.MER.decimals,version:4},COPE_USDC_V4:{symbol:"COPE-USDC",name:"COPE-USDC V4 LP",mint:"Cz1kUvHw98imKkrqqu95GQB9h1frY8RikxPojMwWKGXf",base:s.COPE,quote:s.USDC,decimals:s.COPE.decimals,version:4},ALEPH_USDC_V4:{symbol:"ALEPH-USDC",name:"ALEPH-USDC V4 LP",mint:"iUDasAP2nXm5wvTukAHEKSdSXn8vQkRtaiShs9ceGB7",base:s.ALEPH,quote:s.USDC,decimals:s.ALEPH.decimals,version:4},TULIP_USDC_V4:{symbol:"TULIP-USDC",name:"TULIP-USDC V4 LP",mint:"2doeZGLJyACtaG9DCUyqMLtswesfje1hjNA11hMdj6YU",base:s.TULIP,quote:s.USDC,decimals:s.TULIP.decimals,version:4},WOO_USDC_V4:{symbol:"WOO-USDC",name:"WOO-USDC V4 LP",mint:"7cu42ao8Jgrd5A3y3bNQsCxq5poyGZNmTydkGfJYQfzh",base:s.WOO,quote:s.USDC,decimals:s.WOO.decimals,version:4},SNY_USDC_V4:{symbol:"SNY-USDC",name:"SNY-USDC V4 LP",mint:"G8qcfeFqxwbCqpxv5LpLWxUCd1PyMB5nWb5e5YyxLMKg",base:s.SNY,quote:s.USDC,decimals:s.SNY.decimals,version:4},BOP_RAY_V4:{symbol:"BOP-RAY",name:"BOP-RAY V4 LP",mint:"9nQPYJvysyfnXhQ6nkK5V7sZG26hmDgusfdNQijRk5LD",base:s.BOP,quote:s.RAY,decimals:s.BOP.decimals,version:4},SLRS_USDC_V4:{symbol:"SLRS-USDC",name:"SLRS-USDC V4 LP",mint:"2Xxbm1hdv5wPeen5ponDSMT3VqhGMTQ7mH9stNXm9shU",base:s.SLRS,quote:s.USDC,decimals:s.SLRS.decimals,version:4},SAMO_RAY_V4:{symbol:"SAMO-RAY",name:"SAMO-RAY V4 LP",mint:"HwzkXyX8B45LsaHXwY8su92NoRBS5GQC32HzjQRDqPnr",base:s.SAMO,quote:s.RAY,decimals:s.SAMO.decimals,version:4},renBTC_USDC_V4:{symbol:"renBTC-USDC",name:"renBTC-USDC V4 LP",mint:"CTEpsih91ZLo5gunvryLpJ3pzMjmt5jbS6AnSQrzYw7V",base:s.renBTC,quote:s.USDC,decimals:s.renBTC.decimals,version:4},renDOGE_USDC_V4:{symbol:"renDOGE-USDC",name:"renDOGE-USDC V4 LP",mint:"Hb8KnZNKvRxu7pgMRWJgoMSMcepfvNiBFFDDrdf9o3wA",base:s.renDOGE,quote:s.USDC,decimals:s.renDOGE.decimals,version:4},RAY_USDC_V4:{symbol:"RAY-USDC",name:"RAY-USDC V4 LP",mint:"FbC6K13MzHvN42bXrtGaWsvZY9fxrackRSZcBGfjPc7m",base:s.RAY,quote:s.USDC,decimals:s.RAY.decimals,version:4},RAY_SRM_V4:{symbol:"RAY-SRM",name:"RAY-SRM V4 LP",mint:"7P5Thr9Egi2rvMmEuQkLn8x8e8Qro7u2U7yLD2tU2Hbe",base:s.RAY,quote:s.SRM,decimals:s.RAY.decimals,version:4},RAY_ETH_V4:{symbol:"RAY-ETH",name:"RAY-ETH V4 LP",mint:"mjQH33MqZv5aKAbKHi8dG3g3qXeRQqq1GFcXceZkNSr",base:s.RAY,quote:s.ETH,decimals:s.RAY.decimals,version:4},RAY_SOL_V4:{symbol:"RAY-SOL",name:"RAY-SOL V4 LP",mint:"89ZKE4aoyfLBe2RuV6jM3JGNhaV18Nxh8eNtjRcndBip",base:s.RAY,quote:s.WSOL,decimals:s.RAY.decimals,version:4},DXL_USDC_V4:{symbol:"DXL-USDC",name:"DXL-USDC V4 LP",mint:"4HFaSvfgskipvrzT1exoVKsUZ174JyExEsA8bDfsAdY5",base:s.DXL,quote:s.USDC,decimals:s.DXL.decimals,version:4},LIKE_USDC_V4:{symbol:"LIKE-USDC",name:"LIKE-USDC V4 LP",mint:"cjZmbt8sJgaoyWYUttomAu5LJYU44ZrcKTbzTSEPDVw",base:s.LIKE,quote:s.USDC,decimals:s.LIKE.decimals,version:4},mSOL_USDC_V4:{symbol:"mSOL-USDC",name:"mSOL-USDC V4 LP",mint:"4xTpJ4p76bAeggXoYywpCCNKfJspbuRzZ79R7pRhbqSf",base:s.mSOL,quote:s.USDC,decimals:s.mSOL.decimals,version:4},mSOL_SOL_V4:{symbol:"mSOL-SOL",name:"mSOL-SOL V4 LP",mint:"5ijRoAHVgd5T5CNtK5KDRUBZ7Bffb69nktMj5n6ks6m4",base:s.mSOL,quote:s.WSOL,decimals:s.mSOL.decimals,version:4},MER_PAI_V4:{symbol:"MER-PAI",name:"MER-PAI V4 LP",mint:"DU5RT2D9EviaSmX6Ta8MZwMm85HwSEqGMRdqUiuCGfmD",base:s.MER,quote:s.PAI,decimals:s.MER.decimals,version:4},PORT_USDC_V4:{symbol:"PORT-USDC",name:"PORT-USDC V4 LP",mint:"9tmNtbUCrLS15qC4tEfr5NNeqcqpZ4uiGgi2vS5CLQBS",base:s.PORT,quote:s.USDC,decimals:s.PORT.decimals,version:4},MNGO_USDC_V4:{symbol:"MNGO-USDC",name:"MNGO-USDC V4 LP",mint:"DkiqCQ792n743xjWQVCbBUaVtkdiuvQeYndM53ReWnCC",base:s.MNGO,quote:s.USDC,decimals:s.MNGO.decimals,version:4},ATLAS_USDC_V4:{symbol:"ATLAS-USDC",name:"ATLAS-USDC V4 LP",mint:"9shGU9f1EsxAbiR567MYZ78WUiS6ZNCYbHe53WUULQ7n",base:s.ATLAS,quote:s.USDC,decimals:s.ATLAS.decimals,version:4},POLIS_USDC_V4:{symbol:"POLIS-USDC",name:"POLIS-USDC V4 LP",mint:"8MbKSBpyXs8fVneKgt71jfHrn5SWtX8n4wMLpiVfF9So",base:s.POLIS,quote:s.USDC,decimals:s.POLIS.decimals,version:4},ATLAS_RAY_V4:{symbol:"ATLAS-RAY",name:"ATLAS-RAY V4 LP",mint:"418MFhkaYQtbn529wmjLLqL6uKxDz7j4eZBaV1cobkyd",base:s.ATLAS,quote:s.RAY,decimals:s.ATLAS.decimals,version:4},POLIS_RAY_V4:{symbol:"POLIS-RAY",name:"POLIS-RAY V4 LP",mint:"9ysGKUH6WqzjQEUT4dxqYCUaFNVK9QFEa24pGzjFq8xg",base:s.POLIS,quote:s.RAY,decimals:s.POLIS.decimals,version:4},ALEPH_RAY_V4:{symbol:"ALEPH-RAY",name:"ALEPH-RAY V4 LP",mint:"n76skjqv4LirhdLok2zJELXNLdRpYDgVJQuQFbamscy",base:s.ALEPH,quote:s.RAY,decimals:s.ALEPH.decimals,version:4},TULIP_RAY_V4:{symbol:"TULIP-RAY",name:"TULIP-RAY V4 LP",mint:"3AZTviji5qduMG2s4FfWGR3SSQmNUCyx8ao6UKCPg3oJ",base:s.TULIP,quote:s.RAY,decimals:s.TULIP.decimals,version:4},SLRS_RAY_V4:{symbol:"SLRS-RAY",name:"SLRS-RAY V4 LP",mint:"2pk78vsKT3jfJAcN2zbpMUnrR57SZrxHqaZYyFgp92mM",base:s.SLRS,quote:s.RAY,decimals:s.SLRS.decimals,version:4},MER_RAY_V4:{symbol:"MER-RAY",name:"MER-RAY V4 LP",mint:"214hxy3AbKoaEKgqcg2aC1cP5R67cGGAyDEg5GDwC7Ub",base:s.MER,quote:s.RAY,decimals:s.MER.decimals,version:4},MEDIA_RAY_V4:{symbol:"MEDIA-RAY",name:"MEDIA-RAY V4 LP",mint:"9Aseg5A1JD1yCiFFdDaNNxCiJ7XzrpZFmcEmLjXFdPaH",base:s.MEDIA,quote:s.RAY,decimals:s.MEDIA.decimals,version:4},SNY_RAY_V4:{symbol:"SNY-RAY",name:"SNY-RAY V4 LP",mint:"2k4quTuuLUxrSEhFH99qcoZzvgvVEc3b5sz3xz3qstfS",base:s.SNY,quote:s.RAY,decimals:s.SNY.decimals,version:4},LIKE_RAY_V4:{symbol:"LIKE-RAY",name:"LIKE-RAY V4 LP",mint:"7xqDycbFSCpUpzkYapFeyPJWPwEpV7zdWbYf2MVHTNjv",base:s.LIKE,quote:s.RAY,decimals:s.LIKE.decimals,version:4},COPE_RAY_V4:{symbol:"COPE-RAY",name:"COPE-RAY V4 LP",mint:"A7GCVHA8NSsbdFscHdoNU41tL1TRKNmCH4K94CgcLK9F",base:s.COPE,quote:s.RAY,decimals:s.COPE.decimals,version:4},ETH_SOL_V4:{symbol:"ETH-SOL",name:"ETH-SOL V4 LP",mint:"GKfgC86iJoMjwAtcyiLu6nWnjggqUXsDQihXkP14fDez",base:s.ETH,quote:s.WSOL,decimals:s.ETH.decimals,version:4},stSOL_USDC_V4:{symbol:"stSOL-USDC",name:"stSOL-USDC V4 LP",mint:"HDUJMwYZkjUZre63xUeDhdCi8c6LgUDiBqxmP3QC3VPX",base:s.stSOL,quote:s.USDC,decimals:s.stSOL.decimals,version:4},GRAPE_USDC_V4:{symbol:"GRAPE-USDC",name:"GRAPE-USDC V4 LP",mint:"A8ZYmnZ1vwxUa4wpJVUaJgegsuTEz5TKy5CiJXffvmpt",base:s.GRAPE,quote:s.USDC,decimals:s.GRAPE.decimals,version:4},LARIX_USDC_V4:{symbol:"LARIX-USDC",name:"LARIX-USDC V4 LP",mint:"7yieit4YsNsZ9CAK8H5ZEMvvk35kPEHHeXwp6naoWU9V",base:s.LARIX,quote:s.USDC,decimals:s.LARIX.decimals,version:4},RIN_USDC_V4:{symbol:"RIN-USDC",name:"RIN-USDC V4 LP",mint:"GfCWfrZez7BDmCSEeMERVDVUaaM2TEreyYUgb2cpuS3w",base:s.RIN,quote:s.USDC,decimals:s.RIN.decimals,version:4},APEX_USDC_V4:{symbol:"APEX-USDC",name:"APEX-USDC V4 LP",mint:"444cVqYyDxJNo6FqiMb9qQWFUd7tYzFRdDuJRFrSAGnU",base:s.APEX,quote:s.USDC,decimals:s.APEX.decimals,version:4},mSOL_RAY_V4:{symbol:"mSOL-RAY",name:"mSOL-RAY V4 LP",mint:"De2EHBAdkgfc72DpShqDGG42cV3iDWh8wvvZdPsiEcqP",base:s.mSOL,quote:s.RAY,decimals:s.mSOL.decimals,version:4},MNDE_mSOL_V4:{symbol:"MNDE-mSOL",name:"MNDE-mSOL V4 LP",mint:"4bh8XCzTHSbqbWN8o1Jn4ueBdz1LvJFoEasN6K6CQ8Ny",base:s.MNDE,quote:s.mSOL,decimals:s.MNDE.decimals,version:4},LARIX_RAY_V4:{symbol:"LARIX-RAY",name:"LARIX-RAY V4 LP",mint:"ZRDfSLgWGeaYSmhdPvFNKQQhDcYdZQaue2N8YDmHX4q",base:s.LARIX,quote:s.RAY,decimals:s.LARIX.decimals,version:4},LIQ_USDC_V4:{symbol:"LIQ-USDC",name:"LIQ-USDC V4 LP",mint:"GWpD3eTfhJB5KDCcnE85dBQrjAk2CsrgDF9b52R9CrjV",base:s.LIQ,quote:s.USDC,decimals:s.LIQ.decimals,version:4},WAG_USDC_V4:{symbol:"WAG-USDC",name:"WAG-USDC V4 LP",mint:"4yykyPugitUVRewNPXXCviRvxGfsfsRMoP32z3b6FmUC",base:s.WAG,quote:s.USDC,decimals:s.WAG.decimals,version:4},ETH_mSOL_V4:{symbol:"ETH-mSOL",name:"ETH-mSOL V4 LP",mint:"HYv3grQfi8QbV7nG7EFgNK1aJSrsJ7HynXJKJVPLL2Uh",base:s.ETH,quote:s.mSOL,decimals:s.ETH.decimals,version:4},mSOL_USDT_V4:{symbol:"mSOL-USDT",name:"mSOL-USDT V4 LP",mint:"69NCmEW9mGpiWLjAcAWHq51k4ionJZmzgRfRT3wQaCCf",base:s.mSOL,quote:s.USDT,decimals:s.mSOL.decimals,version:4},BTC_mSOL_V4:{symbol:"BTC-mSOL",name:"BTC-mSOL V4 LP",mint:"92bcERNtUmuaJ6mwLSxYHZYSph37jdKxRdoYNxpcYNPp",base:s.BTC,quote:s.mSOL,decimals:s.BTC.decimals,version:4},SLIM_SOL_V4:{symbol:"SLIM-SOL",name:"SLIM-SOL V4 LP",mint:"9X4EK8E59VAVi6ChnNvvd39m6Yg9RtkBbAPq1mDVJT57",base:s.SLIM,quote:s.WSOL,decimals:s.SLIM.decimals,version:4},AURY_USDC_V4:{symbol:"AURY-USDC",name:"AURY-USDC V4 LP",mint:"Gub5dvTy4nzP82qpmpNkBxmRqjtqRddBTBqHSdNcf2oS",base:s.AURY,quote:s.USDC,decimals:s.AURY.decimals,version:4},PRT_SOL_V4:{symbol:"PRT-SOL",name:"PRT-SOL V4 LP",mint:"EcJ8Wgwt1AzSPiDpVr6aaSur8TKAsNTPmmzRACeqT68Z",base:s.PRT,quote:s.WSOL,decimals:s.PRT.decimals,version:4},LIQ_RAY_V4:{symbol:"LIQ-RAY",name:"LIQ-RAY V4 LP",mint:"49YUsDrThJosHSagCn1F59Uc9NRxbr9thVrZikUnQDXy",base:s.LIQ,quote:s.RAY,decimals:s.LIQ.decimals,version:4},SYP_SOL_V4:{symbol:"SYP-SOL",name:"SYP-SOL V4 LP",mint:"KHV6dfj2bDntzJ9z1S26cDfqWfUZdJRFmteLR6LxHwW",base:s.SYP,quote:s.WSOL,decimals:s.SYP.decimals,version:4},SYP_RAY_V4:{symbol:"SYP-RAY",name:"SYP-RAY V4 LP",mint:"FT2KZqxxM8F2h9pZtTF4PyjK88bM4YbuBzd7ZPwQ5wMB",base:s.SYP,quote:s.RAY,decimals:s.SYP.decimals,version:4},SYP_USDC_V4:{symbol:"SYP-USDC",name:"SYP-USDC V4 LP",mint:"2xJGuLAivAR1WkARRA6zP1v4jaA9jV2Qis8JfMNvrVyZ",base:s.SYP,quote:s.USDC,decimals:s.SYP.decimals,version:4},FAB_USDC_V4:{symbol:"FAB-USDC",name:"FAB-USDC V4 LP",mint:"5rTCvZq6BcApsC3VV1EEUuTJfaVd8uYhcGjwTy1By6P8",base:s.FAB,quote:s.USDC,decimals:s.FAB.decimals,version:4},WOOF_RAY_V4:{symbol:"WOOF-RAY",name:"WOOF-RAY V4 LP",mint:"H2FAnazDaGFutcmnrwDxhmdncR1Bd7GG4mhPCSUiamDX",base:s.WOOF,quote:s.RAY,decimals:s.WOOF.decimals,version:4},WOOF_USDC_V4:{symbol:"WOOF-USDC",name:"WOOF-USDC V4 LP",mint:"EFSu5TMc1ijRevaYCxUkS7uGvbhsymDHEaTK3UVdNE3q",base:s.WOOF,quote:s.USDC,decimals:s.WOOF.decimals,version:4},SLND_USDC_V4:{symbol:"SLND-USDC",name:"SLND-USDC V4 LP",mint:"EunE9uDh2cGsyJcsGuGKc6wte7kBn8iye2gzC4w2ePHn",base:s.SLND,quote:s.USDC,decimals:s.SLND.decimals,version:4},FRKT_SOL_V4:{symbol:"FRKT-SOL",name:"FRKT-SOL V4 LP",mint:"HYUKXgpjaxMXHttyrFYtv3z2rdhZ1U9QDH8zEc8BooQC",base:s.FRKT,quote:s.WSOL,decimals:s.FRKT.decimals,version:4},weWETH_SOL_V4:{symbol:"weWETH-SOL",name:"weWETH-SOL V4 LP",mint:"3hbozt2Por7bcrGod8N7kEeJNMocFFjCJrQR16TQGBrE",base:s.weWETH,quote:s.WSOL,decimals:s.weWETH.decimals,version:4},weWETH_USDC_V4:{symbol:"weWETH-USDC",name:"weWETH-USDC V4 LP",mint:"3529SBnMCDW3S3xQ52aABbRHo7PcHvpQA4no8J12L5eK",base:s.weWETH,quote:s.USDC,decimals:s.weWETH.decimals,version:4},weUNI_USDC_V4:{symbol:"weUNI-USDC",name:"weUNI-USDC V4 LP",mint:"EEC4QnT41py39QaYnzQnoYQEtDUDNa6Se8SBDgfPSN2a",base:s.weUNI,quote:s.USDC,decimals:s.weUNI.decimals,version:4},weSUSHI_USDC_V4:{symbol:"weSUSHI-USDC",name:"weSUSHI-USDC V4 LP",mint:"3wVrtQZsiDNp5yTPyfEzQHPU6iuJoMmpnWg6CTt4V8sR",base:s.weSUSHI,quote:s.USDC,decimals:s.weSUSHI.decimals,version:4},CYS_USDC_V4:{symbol:"CYS-USDC",name:"CYS-USDC V4 LP",mint:"GfV3QDzzdVUwCNSdfn6PjhmyJvjw18tn51RingWZYwk3",base:s.CYS,quote:s.USDC,decimals:s.CYS.decimals,version:4},SAMO_USDC_V4:{symbol:"SAMO-USDC",name:"SAMO-USDC V4 LP",mint:"B2PjGEP3vPf1999fUD14pYdxvSDRVBk43hxB2rgthwEY",base:s.SAMO,quote:s.USDC,decimals:s.SAMO.decimals,version:4},ABR_USDC_V4:{symbol:"ABR-USDC",name:"ABR-USDC V4 LP",mint:"ECHfxkf5zjjZFTX95QfFahNyzG7feyEKcfTdjsdrMSGU",base:s.ABR,quote:s.USDC,decimals:s.ABR.decimals,version:4},IN_USDC_V4:{symbol:"IN-USDC",name:"IN-USDC V4 LP",mint:"GbmJtVgg9fRmmmjKUYGMZeSt8wZ47cDDXasg5Y3iF4kz",base:s.IN,quote:s.USDC,decimals:s.IN.decimals,version:4},weDYDX_USDC_V4:{symbol:"weDYDX-USDC",name:"weDYDX-USDC V4 LP",mint:"BjkkMZnnzmgLqzGErzDbkk15ozv48iVKQuunpeM2Hqnk",base:s.weDYDX,quote:s.USDC,decimals:s.weDYDX.decimals,version:4},STARS_USDC_V4:{symbol:"STARS-USDC",name:"STARS-USDC V4 LP",mint:"FJ68q7NChhETcGVdinMbM2FF1Cy79dpmUi6HC83K55Hv",base:s.STARS,quote:s.USDC,decimals:s.STARS.decimals,version:4},weAXS_USDC_V4:{symbol:"weAXS-USDC",name:"weAXS-USDC V4 LP",mint:"6PSoJQ7myQ1BJtbQC6oiWR8HSecQGyoWsPYTZRJo2ci3",base:s.weAXS,quote:s.USDC,decimals:s.weAXS.decimals,version:4},weSHIB_USDC_V4:{symbol:"weSHIB-USDC",name:"weSHIB-USDC V4 LP",mint:"AcjX5pmTMGSgxkdxc3r82r6WMKBvS6eQXXFz5ck5KKUa",base:s.weSHIB,quote:s.USDC,decimals:s.weSHIB.decimals,version:4},SBR_USDC_V4:{symbol:"SBR-USDC",name:"SBR-USDC V4 LP",mint:"9FC8xTFRbgTpuZZYAYnZLxgnQ8r7FwfSBM1SWvGwgF7s",base:s.SBR,quote:s.USDC,decimals:s.SBR.decimals,version:4},OXS_USDC_V4:{symbol:"OXS-USDC",name:"OXS-USDC V4 LP",mint:"et9pdjWm97rbmsJoN183GkFV5qzTGru79GE1Zhe7NTU",base:s.OXS,quote:s.USDC,decimals:s.OXS.decimals,version:4},CWAR_USDC_V4:{symbol:"CWAR-USDC",name:"CWAR-USDC V4 LP",mint:"HjR23bxn2gtRDB2P1Tm3DLepAPPZgazsWJpLG9wqjnYR",base:s.CWAR,quote:s.USDC,decimals:s.CWAR.decimals,version:4},UPS_USDC_V4:{symbol:"UPS-USDC",name:"UPS-USDC V4 LP",mint:"9hSUZdREEsbaYaKY4FouvXr7xyAqtpdHRDoYCb6Mb28a",base:s.UPS,quote:s.USDC,decimals:s.UPS.decimals,version:4},weSAND_USDC_V4:{symbol:"weSAND-USDC",name:"weSAND-USDC V4 LP",mint:"3dADrQa7utyiCsaFeVk9r7oebW1WheowhKo5soBYKBVT",base:s.weSAND,quote:s.USDC,decimals:s.weSAND.decimals,version:4},weMANA_USDC_V4:{symbol:"weMANA-USDC",name:"weMANA-USDC V4 LP",mint:"HpUkVAPRJ5zNRuJ1ZwMXEhbMHL3gSuPb2QuSER9YUd3a",base:s.weMANA,quote:s.USDC,decimals:s.weMANA.decimals,version:4},CAVE_USDC_V4:{symbol:"CAVE-USDC",name:"CAVE-USDC V4 LP",mint:"5Gba1k3fU7Vh7UtAiBmie9vhQNNq1JfEwgn1DPGZ7NKQ",base:s.CAVE,quote:s.USDC,decimals:s.CAVE.decimals,version:4},GENE_USDC_V4:{symbol:"GENE-USDC",name:"GENE-USDC V4 LP",mint:"7GKvfHEXenNiWYbJBKae89mdaMPr5gGMYwZmyC8gBNVG",base:s.GENE,quote:s.USDC,decimals:s.GENE.decimals,version:4},GENE_RAY_V4:{symbol:"GENE-RAY",name:"GENE-RAY V4 LP",mint:"3HzXnc1qZ8mGqun18Ck3KA616XnZNqF1RWbgYE2nGRMA",base:s.GENE,quote:s.RAY,decimals:s.GENE.decimals,version:4},APT_USDC_V4:{symbol:"APT-USDC",name:"APT-USDC V4 LP",mint:"Hk8mDAJFq4E9kF3DtNgPFwzbo5kbeiusNFJgWmo3LoQ5",base:s.APT,quote:s.USDC,decimals:s.APT.decimals,version:4},GOFX_USDC_V4:{symbol:"GOFX-USDC",name:"GOFX-USDC V4 LP",mint:"4svqAwrLPGRDCQuuieYTmtLXF75wiahjeK2rEN9tY1YL",base:s.GOFX,quote:s.USDC,decimals:s.GOFX.decimals,version:4},SONAR_USDC_V4:{symbol:"SONAR-USDC",name:"SONAR-USDC V4 LP",mint:"2tAcfqJ1YYjpGLqwh76kyNt9VaNFDd4fJySfH6SmWfKt",base:s.SONAR,quote:s.USDC,decimals:s.SONAR.decimals,version:4},JSOL_SOL_V4:{symbol:"JSOL-SOL",name:"JSOL-SOL V4 LP",mint:"61z37rpHsU6d3Fq5sUjJ85K6tXGzkoYKDAG3kPJQNDRo",base:s.JSOL,quote:s.WSOL,decimals:s.JSOL.decimals,version:4},JSOL_USDC_V4:{symbol:"JSOL-USDC",name:"JSOL-USDC V4 LP",mint:"3JZqf2VPNxj1kDZQsfzC7myM6spsGQbGuFv1gVfdYosN",base:s.JSOL,quote:s.USDC,decimals:s.JSOL.decimals,version:4},SHILL_USDC_V4:{symbol:"SHILL-USDC",name:"SHILL-USDC V4 LP",mint:"CnUhYBtQEbSBZ76bgxAouVCTCb8rofZzwerVF5z5LREJ",base:s.SHILL,quote:s.USDC,decimals:s.SHILL.decimals,version:4},DFL_USDC_V4:{symbol:"DFL-USDC",name:"DFL-USDC V4 LP",mint:"Fffijd6UVJdQeLVXhenS8YcsnMUdWJqpbBeH42LFkXgS",base:s.DFL,quote:s.USDC,decimals:s.DFL.decimals,version:4},BOKU_USDC_V4:{symbol:"BOKU-USDC",name:"BOKU-USDC V4 LP",mint:"8jjQn5Yagb6Nm2WGAxPW1bcGqrTWpg5adf6QukXEarcP",base:s.BOKU,quote:s.USDC,decimals:s.BOKU.decimals,version:4},MIMO_SOL_V4:{symbol:"MIMO-SOL",name:"MIMO-SOL V4 LP",mint:"HUJ1opSk8AiPfDT47r7n4hTiK2EXgrR3Msy7T8q1BywS",base:s.MIMO,quote:s.WSOL,decimals:s.MIMO.decimals,version:4},wbWBNB_USDC_V4:{symbol:"wbWBNB-USDC",name:"wbWBNB-USDC V4 LP",mint:"FEsEfEJJSfiMQcshUgZ5UigfytfGRQ3z5puyF6DXDp9C",base:s.wbWBNB,quote:s.USDC,decimals:s.wbWBNB.decimals,version:4},wePEOPLE_USDC_V4:{symbol:"wePEOPLE-USDC",name:"wePEOPLE-USDC V4 LP",mint:"3e5ZCKi4etorpV4pv1fSckP5iJD67xcUkx3RtFCZhbzD",base:s.wePEOPLE,quote:s.USDC,decimals:s.wePEOPLE.decimals,version:4},ISOLA_USDT_V4:{symbol:"ISOLA-USDT",name:"ISOLA-USDT V4 LP",mint:"H8s1wQsZpRK61pyLF3XwyQc6E8vNUnwRDhy3TBDCDENQ",base:s.ISOLA,quote:s.USDT,decimals:s.ISOLA.decimals,version:4},SPWN_USDC_V4:{symbol:"SPWN-USDC",name:"SPWN-USDC V4 LP",mint:"B5uyCAQcX6nAjZypLgiivbEKabSptgUb8JK9tkaSnqdW",base:s.SPWN,quote:s.USDC,decimals:s.SPWN.decimals,version:4},STR_USDC_V4:{symbol:"STR-USDC",name:"STR-USDC V4 LP",mint:"8uDVKmVwNmbXHDB7rNKqtpcT9VAsFHTJ5pPYxjyoBbNg",base:s.STR,quote:s.USDC,decimals:s.STR.decimals,version:4},SOLC_USDT_V4:{symbol:"SOLC-USDT",name:"SOLC-USDT V4 LP",mint:"2g9JzTWycLzK4KEBBHsponAtZRee2ii63bRrJ8tefEyt",base:s.SOLC,quote:s.USDT,decimals:s.SOLC.decimals,version:4},VI_USDC_V4:{symbol:"VI-USDC",name:"VI-USDC V4 LP",mint:"3MwHyHCRfVqtH3ABFtdKXdY9dwemr9GGxQFaBkeq6NjY",base:s.VI,quote:s.USDC,decimals:s.VI.decimals,version:4},KKO_USDC_V4:{symbol:"KKO-USDC",name:"KKO-USDC V4 LP",mint:"7xr1Doc1NiMWbUg99YVFqQSLfYXNzo6YvacXUsSgBMNW",base:s.KKO,quote:s.USDC,decimals:s.KKO.decimals,version:4},XTAG_USDC_V4:{symbol:"XTAG-USDC",name:"XTAG-USDC V4 LP",mint:"GCEQbLg4ik5YJ4CMcbtuVqEc4sjLdSGy34rFk1CtGjdg",base:s.XTAG,quote:s.USDC,decimals:s.XTAG.decimals,version:4},TTT_USDC_V4:{symbol:"TTT-USDC",name:"TTT-USDC V4 LP",mint:"84fmrerHGohoRf4iLPDQ1KG4CjSjCRksYWGzjWfCRM8a",base:s.TTT,quote:s.USDC,decimals:s.TTT.decimals,version:4},RUN_USDC_V4:{symbol:"RUN-USDC",name:"RUN-USDC V4 LP",mint:"CjTLvvKSQdEujcSzeZRYgk4w1DpuXBbMppLHaxZyz11Y",base:s.RUN,quote:s.USDC,decimals:s.RUN.decimals,version:4},CRWNY_USDC_V4:{symbol:"CRWNY-USDC",name:"CRWNY-USDC V4 LP",mint:"H3D9Gyi4frRLW6bS9vBthDVDJyzyRJ6XhhpP6PJGWaDC",base:s.CRWNY,quote:s.USDC,decimals:s.CRWNY.decimals,version:4},CRWNY_RAY_V4:{symbol:"CRWNY-RAY",name:"CRWNY-RAY V4 LP",mint:"5Cz9wGStNjiUg81q8t6sJJeckuT2C14CYSfyQbtYirSX",base:s.CRWNY,quote:s.RAY,decimals:s.CRWNY.decimals,version:4},BLOCK_USDC_V4:{symbol:"BLOCK-USDC",name:"BLOCK-USDC V4 LP",mint:"8i44Y23GkkwDYZ5iSkVEqmrXUfwNmwo9grguTDWKM8wg",base:s.BLOCK,quote:s.USDC,decimals:s.BLOCK.decimals,version:4},REAL_USDC_V4:{symbol:"REAL-USDC",name:"REAL-USDC V4 LP",mint:"EN43tp8xdkcM8RYSJ4msFHMPTJRXKhUteVYBDJLwTvr3",base:s.REAL,quote:s.USDC,decimals:s.REAL.decimals,version:4},FRKT_USDC_V4:{symbol:"FRKT-USDC",name:"FRKT-USDC V4 LP",mint:"7MgzqVTGeA4wENme81QPTrPy45NJMKVL9XGwxmNT87cG",base:s.FRKT,quote:s.USDC,decimals:s.FRKT.decimals,version:4},MBS_USDC_V4:{symbol:"MBS-USDC",name:"MBS-USDC V4 LP",mint:"BAgSWaPZpsQKyZJdvB5KyvmCNj6hzczzentt5FhDCVHb",base:s.MBS,quote:s.USDC,decimals:s.MBS.decimals,version:4},PRISM_USDC_V4:{symbol:"PRISM-USDC",name:"PRISM-USDC V4 LP",mint:"3baYkTcudvSFMe25UpZcBfdp4FA5kL2E4pfaeJ8AiYJB",base:s.PRISM,quote:s.USDC,decimals:s.PRISM.decimals,version:4},CHICKS_USDC_V4:{symbol:"CHICKS-USDC",name:"CHICKS-USDC V4 LP",mint:"CPzmcw81a6PDasSXhVLfDRKuTJXZPUqocS9VFf5zCFhs",base:s.CHICKS,quote:s.USDC,decimals:s.CHICKS.decimals,version:4},MEAN_RAY_V4:{symbol:"MEAN-RAY",name:"MEAN-RAY V4 LP",mint:"H9wUyrxpAErmdNVPitpHSXgwoomoh91ggJKPWtQQoCn1",base:s.MEAN,quote:s.RAY,decimals:s.MEAN.decimals,version:4},TINY_USDC_V4:{symbol:"TINY-USDC",name:"TINY-USDC V4 LP",mint:"Hho6ZzRDj49L4z6zog8nQZFaxMSz6FX6wNzVpMeAMen",base:s.TINY,quote:s.USDC,decimals:s.TINY.decimals,version:4},SCY_USDC_V4:{symbol:"SCY-USDC",name:"SCY-USDC V4 LP",mint:"EcYk7t6Vw59HDnY2u6H1KDPkk8juMeA1NpGpHiGk1LDf",base:s.SCY,quote:s.USDC,decimals:s.SCY.decimals,version:4}};var Or={WSOL:q({},ge)};var qr={WSOL:q({},ge)};var vr=Q.from("token/util");var dn=class{constructor(e,t="UNKNOWN",n="UNKNOWN"){this.decimals=e,this.symbol=t,this.name=n}},Fe=dn;Fe.SOL=new dn(at.decimals,at.symbol,at.name);var pn=class extends Fe{constructor(t,n,i="UNKNOWN",r="UNKNOWN"){super(n,i,r);this.mint=ct(t)}equals(t){return this===t?!0:this.mint.equals(t.mint)}},h=pn;h.WSOL=new pn(ge.mint,ge.decimals,at.symbol,at.name);function We(d,e){return d instanceof h&&e instanceof h?d.equals(e):d instanceof h||e instanceof h?!1:d===e}var Wn=ue(require("big.js")),Gn=ue(require("decimal.js-light"));var Fn=ue(require("toformat")),go=Fn.default,It=go;var Yt=Q.from("entity/fraction"),ut=It(Wn.default),Lt=It(Gn.default),Po={[0]:Lt.ROUND_DOWN,[1]:Lt.ROUND_HALF_UP,[2]:Lt.ROUND_UP},To={[0]:ut.roundDown,[1]:ut.roundHalfUp,[2]:ut.roundUp},J=class{constructor(e,t=te){this.numerator=H(e),this.denominator=H(t)}get quotient(){return this.numerator.div(this.denominator)}invert(){return new J(this.denominator,this.numerator)}add(e){let t=e instanceof J?e:new J(H(e));return this.denominator.eq(t.denominator)?new J(this.numerator.add(t.numerator),this.denominator):new J(this.numerator.mul(t.denominator).add(t.numerator.mul(this.denominator)),this.denominator.mul(t.denominator))}sub(e){let t=e instanceof J?e:new J(H(e));return this.denominator.eq(t.denominator)?new J(this.numerator.sub(t.numerator),this.denominator):new J(this.numerator.mul(t.denominator).sub(t.numerator.mul(this.denominator)),this.denominator.mul(t.denominator))}mul(e){let t=e instanceof J?e:new J(H(e));return new J(this.numerator.mul(t.numerator),this.denominator.mul(t.denominator))}div(e){let t=e instanceof J?e:new J(H(e));return new J(this.numerator.mul(t.denominator),this.denominator.mul(t.numerator))}toSignificant(e,t={groupSeparator:""},n=1){Yt.assert(Number.isInteger(e),`${e} is not an integer.`),Yt.assert(e>0,`${e} is not positive.`),Lt.set({precision:e+1,rounding:Po[n]});let i=new Lt(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(e);return i.toFormat(i.decimalPlaces(),t)}toFixed(e,t={groupSeparator:""},n=1){return Yt.assert(Number.isInteger(e),`${e} is not an integer.`),Yt.assert(e>=0,`${e} is negative.`),ut.DP=e,ut.RM=To[n],new ut(this.numerator.toString()).div(this.denominator.toString()).toFormat(e,t)}};var Je=Q.from("entity/amount"),Yn=It(Xn.default);function wo(d,e){let t="0",n="0";if(d.includes(".")){let i=d.split(".");if(i.length===2)[t,n]=i,n=n.padEnd(e,"0");else return Je.throwArgumentError("invalid number string","num",d)}else t=d;return[t,n.slice(0,e)||n]}var me=class extends J{constructor(t,n,i=!0){let r=new xt.default(0),o=Wt.pow(new xt.default(t.decimals));if(i)r=H(n);else{let a=new xt.default(0),c=new xt.default(0);if(typeof n=="string"||typeof n=="number"||typeof n=="bigint"){let[u,m]=wo(n.toString(),t.decimals);a=H(u),c=H(m)}a=a.mul(o),r=a.add(c)}super(r,o);this.currency=t}get raw(){return this.numerator}isZero(){return this.raw.isZero()}gt(t){return Je.assert(We(this.currency,t.currency),"gt currency not equals"),this.raw.gt(t.raw)}lt(t){return Je.assert(We(this.currency,t.currency),"lt currency not equals"),this.raw.lt(t.raw)}add(t){return Je.assert(We(this.currency,t.currency),"add currency not equals"),new me(this.currency,this.raw.add(t.raw))}sub(t){return Je.assert(We(this.currency,t.currency),"sub currency not equals"),new me(this.currency,this.raw.sub(t.raw))}toSignificant(t=this.currency.decimals,n,i=0){return super.toSignificant(t,n,i)}toFixed(t=this.currency.decimals,n,i=0){return Je.assert(t<=this.currency.decimals,"decimals overflow"),super.toFixed(t,n,i)}toExact(t={groupSeparator:""}){return Yn.DP=this.currency.decimals,new Yn(this.numerator.toString()).div(this.denominator.toString()).toFormat(t)}},K=class extends me{constructor(t,n,i=!0){super(t,n,i);this.token=t}add(t){return Je.assert(We(this.token,t.token),"add token not equals"),new K(this.token,this.raw.add(t.raw))}subtract(t){return Je.assert(We(this.token,t.token),"sub token not equals"),new K(this.token,this.raw.sub(t.raw))}};var Hn=new J(_n),xe=class extends J{toSignificant(e=5,t,n){return this.mul(Hn).toSignificant(e,t,n)}toFixed(e=2,t,n){return this.mul(Hn).toFixed(e,t,n)}};var Io=Q.from("entity/price"),re=class extends J{constructor(t,n,i,r){super(r,n);this.baseCurrency=t,this.quoteCurrency=i,this.scalar=new J(mn(t.decimals),mn(i.decimals))}get raw(){return new J(this.numerator,this.denominator)}get adjusted(){return super.mul(this.scalar)}invert(){return new re(this.quoteCurrency,this.numerator,this.baseCurrency,this.denominator)}mul(t){Io.assert(We(this.quoteCurrency,t.baseCurrency),"mul currency not equals");let n=super.mul(t);return new re(this.baseCurrency,n.denominator,t.quoteCurrency,n.numerator)}toSignificant(t=this.quoteCurrency.decimals,n,i){return this.adjusted.toSignificant(t,n,i)}toFixed(t=this.quoteCurrency.decimals,n,i){return this.adjusted.toFixed(t,n,i)}};var Ge=require("@solana/web3.js");var $n=require("@solana/web3.js");var bn="1.1.0-beta.6";var vs=require("@colors/colors"),Qn=!1,zn=!1,Xt={debug:1,default:2,info:2,warning:3,error:4,off:5},Zn={},yn;function Lo(){try{let d=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch(t){d.push(e)}}),d.length)throw new Error("missing "+d.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(d){if(d instanceof Error)return d.message}return""}var Jn=Lo(),ei=(r=>(r.DEBUG="DEBUG",r.INFO="INFO",r.WARNING="WARNING",r.ERROR="ERROR",r.OFF="OFF",r))(ei||{}),ti=(f=>(f.UNKNOWN_ERROR="UNKNOWN_ERROR",f.NOT_IMPLEMENTED="NOT_IMPLEMENTED",f.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",f.NETWORK_ERROR="NETWORK_ERROR",f.RPC_ERROR="RPC_ERROR",f.TIMEOUT="TIMEOUT",f.BUFFER_OVERRUN="BUFFER_OVERRUN",f.NUMERIC_FAULT="NUMERIC_FAULT",f.MISSING_NEW="MISSING_NEW",f.INVALID_ARGUMENT="INVALID_ARGUMENT",f.MISSING_ARGUMENT="MISSING_ARGUMENT",f.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",f.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",f))(ti||{}),jn="0123456789abcdef";function ni(d,e=!1){let t=d;try{if(d instanceof Uint8Array){let n="";for(let i=0;i<d.length;i++)n+=jn[d[i]>>4],n+=jn[d[i]&15];t=`Uint8Array(0x${n})`}else if(d instanceof $n.PublicKey)t=`PublicKey(${d.toBase58()})`;else if(d instanceof Object&&!e){let n={};Object.entries(d).forEach(([i,r])=>{n[i]=ni(r,!0)}),t=JSON.stringify(n)}else e||(t=JSON.stringify(d))}catch(n){t=JSON.stringify(d.toString())}return t}var le=class{constructor(e){this.version=bn;this.moduleName=e}_log(e,t){let n=e.toLowerCase();Xt[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!((Zn[this.moduleName]||Xt.default)>Xt[n])&&console.log(...t)}debug(...e){this._log(le.levels.DEBUG,["[DEBUG]".blue,...e])}info(...e){this._log(le.levels.INFO,["[INFO]".green,...e])}warn(...e){this._log(le.levels.WARNING,["[WARN]".yellow,...e])}makeError(e,t,n){if(zn)return this.makeError("censored error",t,{});t||(t=le.errors.UNKNOWN_ERROR),n||(n={});let i=[];Object.entries(n).forEach(([a,c])=>{i.push(`${a}=${ni(c)})`)}),i.push(`code=${t}`),i.push(`module=${this.moduleName}`),i.push(`version=${this.version}`);let r=e;i.length&&(e+=" ("+i.join(", ")+")");let o=new Error(e);return o.reason=r,o.code=t,Object.entries(n).forEach(([a,c])=>{o[a]=c}),o}throwError(e,t,n){throw this.makeError(e,t,n)}throwArgumentError(e,t,n){return this.throwError(e,le.errors.INVALID_ARGUMENT,{argument:t,value:n})}assert(e,t,n,i){e||this.throwError(t,n,i)}assertArgument(e,t,n,i){e||this.throwArgumentError(t,n,i)}checkNormalize(e){e==null&&(e="platform missing String.prototype.normalize"),Jn&&this.throwError("platform missing String.prototype.normalize",le.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Jn})}checkSafeUint53(e,t){typeof e=="number"&&(t==null&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,le.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,le.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,n){n?n=": "+n:n="",e<t&&this.throwError("missing argument"+n,le.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+n,le.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||e==null)&&this.throwError("missing new",le.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",le.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",le.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return yn||(yn=new le(bn)),yn}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",le.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Qn){if(!e)return;this.globalLogger().throwError("error censorship permanent",le.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}zn=!!e,Qn=!!t}static setLogLevel(e,t){let n=Xt[t.toLowerCase()];if(n==null){le.globalLogger().warn("invalid log level - "+t);return}Zn[e]=n}static from(e){return new le(e)}},Q=le;Q.errors=ti,Q.levels=ei;var Z=require("@solana/spl-token"),tt=require("@solana/web3.js"),ii=Q.from("common/pubkey"),he=Ge.SystemProgram.programId,Gs=new Ge.PublicKey("Memo1UhkJRfHyvLMcVucJwxXeuD728EqVDDwQDxFMNo"),Ht=new Ge.PublicKey("SysvarRent111111111111111111111111111111111"),ht=new Ge.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");function ct(d){if(d instanceof Ge.PublicKey)return d;if(typeof d=="string")try{return new Ge.PublicKey(d)}catch(e){return ii.throwArgumentError("invalid public key","publicKey",d)}return ii.throwArgumentError("invalid public key","publicKey",d)}function ae(d,e){let[t,n]=Ge.PublicKey.findProgramAddressSync(d,e);return{publicKey:t,nonce:n}}function g(d,e){return{pubkey:d,isWritable:!0,isSigner:e}}function L(d,e){return{pubkey:d,isWritable:!1,isSigner:e}}var xo=[K,oi.PublicKey,J,ri.BN,Fe,me,re,xe];function ho(d){return typeof d=="object"&&d!==null&&!xo.some(e=>typeof e=="object"&&d instanceof e)}function Ce(d){return typeof d=="string"?ct(d):Array.isArray(d)?d.map(e=>Ce(e)):ho(d)?Object.fromEntries(Object.entries(d).map(([e,t])=>[e,Ce(t)])):d}var Ro=require("@solana/web3.js"),Bo=ue(require("bn.js"));function si(d,e=1,t=[]){let n=[...d];if(e<=0)return t;for(;n.length;)t.push(n.splice(0,e));return t}var Ke=require("@solana/web3.js");var Oe=Q.from("common/web3");function Ve(d,e,t){return E(this,null,function*(){let{batchRequest:n,commitment:i}=q({batchRequest:!1},t),r=si(e,100),o=new Array(r.length).fill([]);if(n){let a=r.map(u=>({methodName:"getMultipleAccounts",args:d._buildArgs([u.map(b=>b.toBase58())],i,"base64")}));o=(yield d._rpcBatchRequest(a)).map(u=>u.error?Oe.throwError("failed to get info for multiple accounts",Q.errors.RPC_ERROR,{message:u.error.message}):u.result.value.map(m=>{if(m){let{data:b,executable:l,lamports:f,owner:y,rentEpoch:p}=m;return b.length!==2&&b[1]!=="base64"?Oe.throwError("info must be base64 encoded",Q.errors.RPC_ERROR):{data:Buffer.from(b[0],"base64"),executable:l,lamports:f,owner:new Ke.PublicKey(y),rentEpoch:p}}else return null}))}else try{o=yield Promise.all(r.map(a=>d.getMultipleAccountsInfo(a,i)))}catch(a){if(a instanceof Error)return Oe.throwError("failed to get info for multiple accounts",Q.errors.RPC_ERROR,{message:a.message})}return o.flat()})}function ai(d,e,t){return E(this,null,function*(){let n=yield Ve(d,e.map(i=>i.pubkey),t);return e.map((i,r)=>we(q({},i),{accountInfo:n[r]}))})}function Rt(d,e){if(d.length<1)return Oe.throwArgumentError("no instructions provided","instructions",d);if(e.length<1)return Oe.throwArgumentError("no signers provided","signers",e);let t=new Ke.Transaction({recentBlockhash:"11111111111111111111111111111111",feePayer:e[0]});t.add(...d);try{return t.serialize({verifySignatures:!1}),!0}catch(n){return!1}}function Qt(d,e,t,n=!0){return E(this,null,function*(){let i=new Ke.PublicKey("RaydiumSimuLateTransaction11111111111111111"),r=[],o=new Ke.Transaction;o.feePayer=i;for(let u of e)Rt([...o.instructions,u],[i])||(r.push(o),o=new Ke.Transaction,o.feePayer=i),o.add(u);o.instructions.length>0&&r.push(o);let a=[];try{if(a=yield Co(d,r,n),a.find(u=>u.err!==null))throw Error("rpc simulateTransaction error")}catch(u){if(u instanceof Error)return Oe.throwError("failed to simulate for instructions",Q.errors.RPC_ERROR,{message:u.message})}let c=[];for(let u of a)if(Oe.debug("simulate result:",u),u.logs){let m=u.logs.filter(b=>b&&b.includes(t));Oe.debug("filteredLog:",c),Oe.assertArgument(m.length!==0,"simulate log not match keyword","keyword",t),c.push(...m)}return c})}function zt(d,e){let t=d.match(/{["\w:,]+}/g);return!t||t.length!==1?Oe.throwArgumentError("simulate log fail to match json","keyword",e):t[0]}function pe(d,e){let n=new RegExp(`"${e}":(\\d+)`,"g").exec(d);return!n||n.length!==2?Oe.throwArgumentError("simulate log fail to match key","key",e):n[1]}function Co(d,e,t){return E(this,null,function*(){let n=[];if(t){let i=yield d.getLatestBlockhash(),r=[];for(let u of e){u.recentBlockhash=i.blockhash,u.lastValidBlockHeight=i.lastValidBlockHeight;let b=u._compile().serialize(),f=u._serialize(b).toString("base64");r.push(f)}let o=r.map(u=>({methodName:"simulateTransaction",args:d._buildArgs([u],void 0,"base64")})),a=[],c=20;for(let u=0;u<Math.ceil(o.length/c);u++)a.push(o.slice(u*c,(u+1)*c));n=yield(yield Promise.all(a.map(u=>E(this,null,function*(){return(yield d._rpcBatchRequest(u)).map(m=>m.result.value)})))).flat()}else try{n=yield Promise.all(e.map(i=>E(this,null,function*(){return yield(yield d.simulateTransaction(i)).value})))}catch(i){if(i instanceof Error)return Oe.throwError("failed to get info for multiple accounts",Q.errors.RPC_ERROR,{message:i.message})}return n})}function fn({instructions:d,signers:e,payer:t}){let n={};for(let o of e)n[o.publicKey.toString()]=o;let i=[],r=[];for(let o of d){let a=[...r,o],c=new Set(a.map(m=>m.keys.filter(b=>b.isSigner).map(b=>b.pubkey.toString())).flat()),u=[...c.values()].map(m=>new Ke.PublicKey(m));Rt(a,[t,...u])?r.push(o):(i.push({transaction:new Ke.Transaction().add(...r),signer:[...c.values()].map(m=>n[m]).filter(m=>m!==void 0)}),r=[o])}if(r.length>0){let o=new Set(r.map(a=>a.keys.filter(c=>c.isSigner).map(c=>c.pubkey.toString())).flat());i.push({transaction:new Ke.Transaction().add(...r),signer:[...o.values()].map(a=>n[a]).filter(a=>a!==void 0)})}return i}function Zt(d){let e=new ArrayBuffer(4);return new DataView(e).setInt32(0,d,!1),new Uint8Array(e)}var Pa=Buffer.from("amm_config","utf8"),Do=Buffer.from("pool","utf8"),No=Buffer.from("pool_vault","utf8"),Oo=Buffer.from("pool_reward_vault","utf8"),ui=Buffer.from("position","utf8"),Uo=Buffer.from("tick_array","utf8"),Eo=Buffer.from("operation","utf8");function mi(d,e,t,n){return ae([Do,e.toBuffer(),t.toBuffer(),n.toBuffer()],d)}function An(d,e,t){return ae([No,e.toBuffer(),t.toBuffer()],d)}function li(d,e,t){return ae([Oo,e.toBuffer(),t.toBuffer()],d)}function be(d,e,t){return ae([Uo,e.toBuffer(),Zt(t)],d)}function Jt(d,e,t,n){return ae([ui,e.toBuffer(),Zt(t),Zt(n)],d)}function mt(d,e){return ae([ui,e.toBuffer()],d)}function je(d,e){return ae([d.toBuffer(),Z.TOKEN_PROGRAM_ID.toBuffer(),e.toBuffer()],new ci.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"))}function di(d){return ae([Buffer.from("metadata","utf8"),ht.toBuffer(),d.toBuffer()],ht)}function jt(d){return ae([Eo],d)}var ye=60,Sn=1024,W=class{static getTickArrayAddressByTick(e,t,n,i){let r=W.getTickArrayStartIndexByTick(n,i),{publicKey:o}=be(e,t,r);return o}static getTickOffsetInArray(e,t){if(e%t!=0)throw new Error("tickIndex % tickSpacing not equal 0");let n=W.getTickArrayStartIndexByTick(e,t),i=Math.floor((e-n)/t);if(i<0||i>=ye)throw new Error("tick offset in array overflow");return i}static getTickArrayStartIndexByTick(e,t){let n=e/(ye*t);return e<0&&e%(ye*t)!=0?n=Math.ceil(n)-1:n=Math.floor(n),n*(t*ye)}static getTickArrayOffsetInBitmapByTick(e,t){let n=t*ye,i=Math.floor(e/n)+512;return Math.abs(i)}static checkTickArrayIsInitialized(e,t,n){let i=n*ye,r=Math.floor(t/i)+512,o=Math.abs(r);return{isInitialized:e.testn(o),startIndex:(o-512)*i}}static getNextTickArrayStartIndex(e,t,n){return n?e-t*ye:e+t*ye}static mergeTickArrayBitmap(e){return e[0].add(e[1].shln(64)).add(e[2].shln(128)).add(e[3].shln(192)).add(e[4].shln(256)).add(e[5].shln(320)).add(e[6].shln(384)).add(e[7].shln(448)).add(e[8].shln(512)).add(e[9].shln(576)).add(e[10].shln(640)).add(e[11].shln(704)).add(e[12].shln(768)).add(e[13].shln(832)).add(e[14].shln(896)).add(e[15].shln(960))}static getInitializedTickArrayInRange(e,t,n,i){if(n%(t*ye)!=0)throw new Error("Invild tickArrayStartIndex");let r=Math.floor(n/(t*ye))+512;return[...W.searchLowBitFromStart(e,r-1,0,i,t),...W.searchHightBitFromStart(e,r,Sn,i,t)]}static getAllInitializedTickArrayStartIndex(e,t){return W.searchHightBitFromStart(e,0,Sn,Sn,t)}static getAllInitializedTickArrayInfo(e,t,n,i){let r=[],o=W.getAllInitializedTickArrayStartIndex(n,i);for(let a of o){let{publicKey:c}=be(e,t,a);r.push({tickArrayStartIndex:a,tickArrayAddress:c})}return r}static getAllInitializedTickInTickArray(e){return e.ticks.filter(t=>t.liquidityGross.gtn(0))}static searchLowBitFromStart(e,t,n,i,r){let o=0,a=[];for(let c=t;c>=n;c--){if(e.shrn(c).and(new gn.default(1)).eqn(1)){let u=(c-512)*(r*ye);a.push(u),o++}if(o>=i)break}return a}static searchHightBitFromStart(e,t,n,i,r){let o=0,a=[];for(let c=t;c<n;c++){if(e.shrn(c).and(new gn.default(1)).eqn(1)){let u=(c-512)*(r*ye);a.push(u),o++}if(o>=i)break}return a}};var ha=O([Ie(8),F("bump"),rt("index"),B(""),Be("protocolFeeRate"),Be("tradeFeeRate"),rt("tickSpacing"),Be("fundFeeRate"),ne(Be(),1,"padding"),B("fundOwner"),ne(S(),3,"padding")]),Mo=O([Be("blockTimestamp"),M("sqrtPriceX64"),M("cumulativeTimePriceX64"),ne(M(),1,"")]),kn=O([Ie(8),Ft("initialized"),B("poolId"),ne(Mo,1e3,"observations"),ne(M(),5,"")]),qo=O([F("rewardState"),S("openTime"),S("endTime"),S("lastUpdateTime"),M("emissionsPerSecondX64"),S("rewardTotalEmissioned"),S("rewardClaimed"),B("tokenMint"),B("tokenVault"),B("creator"),M("rewardGrowthGlobalX64")]),pi=O([Ie(8),F("bump"),B("ammConfig"),B("creator"),B("mintA"),B("mintB"),B("vaultA"),B("vaultB"),B("observationId"),F("mintDecimalsA"),F("mintDecimalsB"),rt("tickSpacing"),M("liquidity"),M("sqrtPriceX64"),Re("tickCurrent"),rt("observationIndex"),rt("observationUpdateDuration"),M("feeGrowthGlobalX64A"),M("feeGrowthGlobalX64B"),S("protocolFeesTokenA"),S("protocolFeesTokenB"),M("swapInAmountTokenA"),M("swapOutAmountTokenB"),M("swapInAmountTokenB"),M("swapOutAmountTokenA"),F("status"),ne(F(),7,""),ne(qo,3,"rewardInfos"),ne(S(),16,"tickArrayBitmap"),S("totalFeesTokenA"),S("totalFeesClaimedTokenA"),S("totalFeesTokenB"),S("totalFeesClaimedTokenB"),S("fundFeesTokenA"),S("fundFeesTokenB"),ne(S(),15*4-2,"padding")]),Ko=O([M("growthInsideLastX64"),S("rewardAmountOwed")]),bi=O([Ie(8),F("bump"),B("nftMint"),B("poolId"),Re("tickLower"),Re("tickUpper"),M("liquidity"),M("feeGrowthInsideLastX64A"),M("feeGrowthInsideLastX64B"),S("tokenFeesOwedA"),S("tokenFeesOwedB"),ne(Ko,3,"rewardInfos"),ne(S(),8,"")]),Ra=O([Ie(8),F("bump"),B("poolId"),Re("tickLowerIndex"),Re("tickUpperIndex"),M("liquidity"),M("feeGrowthInsideLastX64A"),M("feeGrowthInsideLastX64B"),S("tokenFeesOwedA"),S("tokenFeesOwedB"),ne(M(),3,"rewardGrowthInside"),ne(S(),8,"")]),Vo=O([Re("tick"),Vn("liquidityNet"),M("liquidityGross"),M("feeGrowthOutsideX64A"),M("feeGrowthOutsideX64B"),ne(M(),3,"rewardGrowthsOutsideX64"),ne(Be(),13,"")]),Bt=O([Ie(8),B("poolId"),Re("startTickIndex"),ne(Vo,ye,"ticks"),F("initializedTickCount"),ne(F(),115,"")]),yi=O([Ie(329),ne(B(),100,"whitelistMints")]);var De=require("@solana/web3.js");var Ye={createPool:[233,146,209,142,207,104,64,188],initReward:[95,135,192,196,242,129,230,68],setRewardEmissions:[112,52,167,75,32,201,211,137],openPosition:[135,128,47,77,15,152,240,49],closePosition:[123,134,81,0,49,68,98,98],increaseLiquidity:[46,156,243,118,13,205,251,178],decreaseLiquidity:[160,38,208,111,104,91,44,1],swap:[248,198,158,145,225,117,135,200],collectReward:[18,237,166,197,34,16,213,144]};function fi(d,e,t,n,i,r,o,a,c,u){let m=O([M("sqrtPriceX64")]),b=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:Z.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:he,isSigner:!1,isWritable:!1},{pubkey:Ht,isSigner:!1,isWritable:!1}],l=Buffer.alloc(m.span);m.encode({sqrtPriceX64:u},l);let f=Buffer.from([...Ye.createPool,...l]);return new De.TransactionInstruction({keys:b,programId:d,data:f})}function Ai(d,e,t,n,i,r,o,a,c,u,m,b,l,f,y,p,A,k,T,I,P,w){let N=O([Re("tickLowerIndex"),Re("tickUpperIndex"),Re("tickArrayLowerStartIndex"),Re("tickArrayUpperStartIndex"),M("liquidity"),S("amountMinA"),S("amountMinB")]),R=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!0},{pubkey:Ht,isSigner:!1,isWritable:!1},{pubkey:he,isSigner:!1,isWritable:!1},{pubkey:Z.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:Z.ASSOCIATED_TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:ht,isSigner:!1,isWritable:!1}],D=Buffer.alloc(N.span);N.encode({tickLowerIndex:p,tickUpperIndex:A,tickArrayLowerStartIndex:k,tickArrayUpperStartIndex:T,liquidity:I,amountMinA:P,amountMinB:w},D);let V=Buffer.from([...Ye.openPosition,...D]);return new De.TransactionInstruction({keys:R,programId:d,data:V})}function Si(d,e,t,n,i){let r=O([]),o=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:he,isSigner:!1,isWritable:!1},{pubkey:Z.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}],a=Buffer.alloc(r.span);r.encode({},a);let c=Buffer.from([...Ye.closePosition,...a]);return new De.TransactionInstruction({keys:o,programId:d,data:c})}function gi(d,e,t,n,i,r,o,a,c,u,m,b,l,f,y){let p=O([M("liquidity"),S("amountMaxA"),S("amountMaxB")]),A=[{pubkey:e,isSigner:!0,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:Z.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}],k=Buffer.alloc(p.span);p.encode({liquidity:l,amountMaxA:f,amountMaxB:y},k);let T=Buffer.from([...Ye.increaseLiquidity,...k]);return new De.TransactionInstruction({keys:A,programId:d,data:T})}function ki(d,e,t,n,i,r,o,a,c,u,m,b,l,f,y,p){let A=O([M("liquidity"),S("amountMinA"),S("amountMinB")]),k=[{pubkey:e,isSigner:!0,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:Z.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},...l.map(P=>[{pubkey:P.poolRewardVault,isSigner:!1,isWritable:!0},{pubkey:P.ownerRewardVault,isSigner:!1,isWritable:!0}]).flat()],T=Buffer.alloc(A.span);A.encode({liquidity:f,amountMinA:y,amountMinB:p},T);let I=Buffer.from([...Ye.decreaseLiquidity,...T]);return new De.TransactionInstruction({keys:k,programId:d,data:I})}function Pi(d,e,t,n,i,r,o,a,c,u,m,b,l,f){let y=O([S("amount"),S("otherAmountThreshold"),M("sqrtPriceLimitX64"),Ft("isBaseInput")]),p=[{pubkey:e,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:Z.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},...c.map(T=>({pubkey:T,isSigner:!1,isWritable:!0}))],A=Buffer.alloc(y.span);y.encode({amount:m,otherAmountThreshold:b,sqrtPriceLimitX64:l,isBaseInput:f},A);let k=Buffer.from([...Ye.swap,...A]);return new De.TransactionInstruction({keys:p,programId:d,data:k})}function Ti(d,e,t,n,i,r,o,a,c,u,m){let b=O([S("openTime"),S("endTime"),M("emissionsPerSecondX64")]),l=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:Z.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:he,isSigner:!1,isWritable:!1},{pubkey:Ht,isSigner:!1,isWritable:!1}],f=Buffer.alloc(b.span);b.encode({openTime:H(c),endTime:H(u),emissionsPerSecondX64:m},f);let y=Buffer.from([...Ye.initReward,...f]);return new De.TransactionInstruction({keys:l,programId:d,data:y})}function wi(d,e,t,n,i,r,o,a,c,u,m){let b=O([F("rewardIndex"),M("emissionsPerSecondX64"),S("openTime"),S("endTime")]),l=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Z.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}],f=Buffer.alloc(b.span);b.encode({rewardIndex:a,emissionsPerSecondX64:m,openTime:H(c),endTime:H(u)},f);let y=Buffer.from([...Ye.setRewardEmissions,...f]);return new De.TransactionInstruction({keys:l,programId:d,data:y})}function Ii(d,e,t,n,i,r){let o=O([F("rewardIndex")]),a=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:Z.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}],c=Buffer.alloc(o.span);o.encode({rewardIndex:r},c);let u=Buffer.from([...Ye.collectReward,...c]);return new De.TransactionInstruction({keys:a,programId:d,data:u})}function Ue(){return new De.TransactionInstruction({programId:new De.PublicKey("ComputeBudget111111111111111111111111111111"),data:Buffer.from([0,128,26,6,0,0,0,0,0]),keys:[]})}var $=require("@solana/web3.js"),Ae=ue(require("bn.js")),ee=ue(require("decimal.js"));var dt=require("@solana/spl-token"),$t=require("@solana/web3.js");var Ma=O([Be("mintAuthorityOption"),B("mintAuthority"),S("supply"),F("decimals"),F("isInitialized"),Be("freezeAuthorityOption"),B("freezeAuthority")]),Ct=O([B("mint"),B("owner"),S("amount"),Be("delegateOption"),B("delegate"),F("state"),Be("isNativeOption"),S("isNative"),S("delegatedAmount"),Be("closeAuthorityOption"),B("closeAuthority")]);var Ee=require("@solana/spl-token"),lt=require("@solana/web3.js"),Li=ue(require("bn.js"));var ce=class{static getAssociatedTokenAccount({mint:e,owner:t}){return je(t,e).publicKey}static makeCreateAssociatedTokenAccountInstruction({mint:e,associatedAccount:t,owner:n,payer:i}){return(0,Ee.createAssociatedTokenAccountInstruction)(i,t,n,e)}static makeCreateWrappedNativeAccountInstructions(o){return E(this,arguments,function*({connection:e,owner:t,payer:n,amount:i,commitment:r}){let a=[],c=yield e.getMinimumBalanceForRentExemption(Ct.span,r),u=H(i).add(new Li.default(c)),m=lt.Keypair.generate();return a.push(lt.SystemProgram.createAccount({fromPubkey:n,newAccountPubkey:m.publicKey,lamports:u.toNumber(),space:Ct.span,programId:Z.TOKEN_PROGRAM_ID})),a.push(this.makeInitAccountInstruction({mint:ct(ge.mint),tokenAccount:m.publicKey,owner:t})),{newAccount:m,instructions:a}})}static insertCreateWrappedNativeAccountInstructions(c){return E(this,arguments,function*({connection:e,owner:t,payer:n,amount:i,instructions:r,signers:o,commitment:a}){let{newAccount:u,instructions:m}=yield this.makeCreateWrappedNativeAccountInstructions({connection:e,owner:t,payer:n,amount:i,commitment:a});return r.push(...m),o.push(u),u.publicKey})}static makeInitMintInstruction({mint:e,decimals:t,mintAuthority:n,freezeAuthority:i=null}){return(0,Ee.createInitializeMintInstruction)(e,t,n,i)}static makeMintToInstruction({mint:e,dest:t,authority:n,amount:i,multiSigners:r=[]}){return(0,Ee.createMintToInstruction)(e,t,n,BigInt(String(i)),r)}static makeInitAccountInstruction({mint:e,tokenAccount:t,owner:n}){return(0,Ee.createInitializeAccountInstruction)(t,e,n)}static makeTransferInstruction({source:e,destination:t,owner:n,amount:i,multiSigners:r=[]}){return(0,Ee.createTransferInstruction)(e,t,n,BigInt(String(i)),r)}static makeCloseAccountInstruction({tokenAccount:e,owner:t,payer:n,multiSigners:i=[]}){return(0,Ee.createCloseAccountInstruction)(e,n,t,i)}static createInitAccountInstruction(e,t,n,i){let r=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:tt.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],o=F("instruction"),a=Buffer.alloc(o.span);return o.encode(1,a),new lt.TransactionInstruction({keys:r,programId:e,data:a})}};var _e=class{static _selectTokenAccount(e){let{tokenAccounts:t,mint:n,owner:i,config:r}=e,{associatedOnly:o}=q({associatedOnly:!0},r),a=t.filter(({accountInfo:u})=>u.mint.equals(n)).sort((u,m)=>u.accountInfo.amount.lt(m.accountInfo.amount)?1:-1),c=ce.getAssociatedTokenAccount({mint:n,owner:i});for(let u of a){let{pubkey:m}=u;if(o){if(c.equals(m))return m}else return m}return null}static _handleTokenAccount(e){return E(this,null,function*(){let{connection:t,side:n,amount:i,mint:r,tokenAccount:o,owner:a,payer:c=a,frontInstructions:u,endInstructions:m,signers:b,bypassAssociatedCheck:l}=e,f=ce.getAssociatedTokenAccount({mint:r,owner:a});if(h.WSOL.mint.equals(r)){let y=yield ce.insertCreateWrappedNativeAccountInstructions({connection:t,owner:a,payer:c,instructions:u,signers:b,amount:i});return m&&m.push(ce.makeCloseAccountInstruction({tokenAccount:y,owner:a,payer:c})),y}else if(!o||n==="out"&&!f.equals(o)&&!l)return u.push(ce.makeCreateAssociatedTokenAccountInstruction({mint:r,associatedAccount:f,owner:a,payer:c})),f;return o})}static _selectOrCreateTokenAccount(e){return E(this,null,function*(){var u,m;let{mint:t,tokenAccounts:n,createInfo:i,associatedOnly:r,owner:o}=e,a=ce.getAssociatedTokenAccount({mint:t,owner:o}),c=n.filter(b=>b.accountInfo.mint.equals(t)&&(!r||b.pubkey.equals(a))).sort((b,l)=>b.accountInfo.amount.lt(l.accountInfo.amount)?1:-1);if(i===void 0||c.length>0)return c.length>0?c[0].pubkey:void 0;if(r){if(i.frontInstructions.push(ce.makeCreateAssociatedTokenAccountInstruction({mint:t,associatedAccount:a,owner:o,payer:i.payer})),t.equals(h.WSOL.mint)){let b=yield ce.insertCreateWrappedNativeAccountInstructions({connection:i.connection,owner:o,payer:i.payer,instructions:i.frontInstructions,signers:i.signers,amount:(u=i.amount)!=null?u:0});i.endInstructions&&i.endInstructions.push(ce.makeCloseAccountInstruction({tokenAccount:b,owner:o,payer:i.payer})),i.amount&&i.frontInstructions.push(ce.makeTransferInstruction({source:b,destination:a,owner:o,amount:i.amount}))}return i.endInstructions&&i.endInstructions.push(ce.makeCloseAccountInstruction({tokenAccount:a,owner:o,payer:i.payer})),a}else if(t.equals(h.WSOL.mint)){let b=yield ce.insertCreateWrappedNativeAccountInstructions({connection:i.connection,owner:o,payer:i.payer,instructions:i.frontInstructions,signers:i.signers,amount:(m=i.amount)!=null?m:0});return i.endInstructions&&i.endInstructions.push(ce.makeCloseAccountInstruction({tokenAccount:b,owner:o,payer:i.payer})),b}else{let b=$t.Keypair.generate(),l=yield i.connection.getMinimumBalanceForRentExemption(dt.AccountLayout.span),f=$t.SystemProgram.createAccount({fromPubkey:o,newAccountPubkey:b.publicKey,lamports:l,space:dt.AccountLayout.span,programId:dt.TOKEN_PROGRAM_ID}),y=ce.createInitAccountInstruction(dt.TOKEN_PROGRAM_ID,t,b.publicKey,o);return i.frontInstructions.push(f,y),i.signers.push(b),i.endInstructions&&i.endInstructions.push(ce.makeCloseAccountInstruction({tokenAccount:b.publicKey,owner:o,payer:i.payer})),b.publicKey}})}};var _o=require("@solana/web3.js"),vo=require("bn.js");var $e=ue(require("bn.js"));var et=new $e.default(-1),ve=new $e.default(1).shln(64),en=new $e.default(1).shln(128),Pn=ve.sub(te),Dt=64,xi=en.subn(1),pt=-307200,Nt=-pt,Xe=new $e.default("3939943522091"),He=new $e.default("86367321006760116002434269"),hi=-307200,Ri=306600,Bi=14,Ci="59543866431248",Di="184467440737095516",Ni="15793534762490258745",tn=new $e.default(10).pow(new $e.default(6));var _=ue(require("bn.js")),bt=ue(require("decimal.js"));var Tn=15,nn=class{static getTickArrays(e,t,n,i,r,o){return E(this,null,function*(){let a=W.mergeTickArrayBitmap(o),c=[],u=W.getTickArrayStartIndexByTick(i,r),m=W.getInitializedTickArrayInRange(a,r,u,Math.floor(Tn/2));for(let f=0;f<m.length;f++){let{publicKey:y}=be(t,n,m[f]);c.push(y)}let b=(yield Ve(e,c)).map(f=>f!==null?Bt.decode(f.data):null),l={};for(let f=0;f<c.length;f++){let y=b[f];y!==null&&(l[y.startTickIndex]=we(q({},y),{address:c[f]}))}return l})}static nextInitializedTick(e,t,n,i,r,o){let{initializedTick:a,tickArrayAddress:c,tickArrayStartTickIndex:u}=this.nextInitializedTickInOneArray(e,t,n,i,r,o);for(;a==null||a.liquidityGross.lten(0);){if(u=W.getNextTickArrayStartIndex(u,r,o),u<hi||u>Ri)throw new Error("No enough initialized tickArray");let m=n[u];if(m===void 0)continue;let{nextTick:b,tickArrayAddress:l,tickArrayStartTickIndex:f}=this.firstInitializedTickInOneArray(e,t,m,o);[a,c,u]=[b,l,f]}if(a==null)throw new Error("No invaild tickArray cache");return{nextTick:a,tickArrayAddress:c,tickArrayStartTickIndex:u}}static firstInitializedTickInOneArray(e,t,n,i){let r;if(i){let a=ye-1;for(;a>=0;){let c=n.ticks[a];if(c.liquidityGross.gtn(0)){r=c;break}a=a-1}}else{let a=0;for(;a<ye;){let c=n.ticks[a];if(c.liquidityGross.gtn(0)){r=c;break}a=a+1}}let{publicKey:o}=be(e,t,n.startTickIndex);return{nextTick:r,tickArrayAddress:o,tickArrayStartTickIndex:n.startTickIndex}}static nextInitializedTickInOneArray(e,t,n,i,r,o){let a=W.getTickArrayStartIndexByTick(i,r),c=Math.floor((i-a)/r),u=n[a];if(u==null)return{initializedTick:void 0,tickArrayAddress:void 0,tickArrayStartTickIndex:a};let m;if(o)for(;c>=0;){let l=u.ticks[c];if(l.liquidityGross.gtn(0)){m=l;break}c=c-1}else for(c=c+1;c<ye;){let l=u.ticks[c];if(l.liquidityGross.gtn(0)){m=l;break}c=c+1}let{publicKey:b}=be(e,t,a);return{initializedTick:m,tickArrayAddress:b,tickArrayStartTickIndex:u.startTickIndex}}};var v=class{static mulDivRoundingUp(e,t,n){let i=e.mul(t),r=i.div(n);return i.mod(n).eq(U)||(r=r.add(te)),r}static mulDivFloor(e,t,n){if(n.eq(U))throw new Error("division by 0");return e.mul(t).div(n)}static mulDivCeil(e,t,n){if(n.eq(U))throw new Error("division by 0");return e.mul(t).add(n.sub(te)).div(n)}static x64ToDecimal(e,t){return new bt.default(e.toString()).div(bt.default.pow(2,64)).toDecimalPlaces(t)}static decimalToX64(e){return new _.default(e.mul(bt.default.pow(2,64)).floor().toFixed())}static wrappingSubU128(e,t){return e.add(en).sub(t).mod(en)}};function fe(d,e){return wn(d.mul(e),64,256)}function Fo(d,e,t){let n=d.toTwos(t).shln(e);return n.imaskn(t+1),n.fromTwos(t)}function wn(d,e,t){let n=d.toTwos(t).shrn(e);return n.imaskn(t-e+1),n.fromTwos(t-e)}var G=class{static sqrtPriceX64ToPrice(e,t,n){return v.x64ToDecimal(e).pow(2).mul(bt.default.pow(10,t-n))}static priceToSqrtPriceX64(e,t,n){return v.decimalToX64(e.mul(bt.default.pow(10,n-t)).sqrt())}static getNextSqrtPriceX64FromInput(e,t,n,i){if(!e.gt(U))throw new Error("sqrtPriceX64 must greater than 0");if(!t.gt(U))throw new Error("liquidity must greater than 0");return i?this.getNextSqrtPriceFromTokenAmountARoundingUp(e,t,n,!0):this.getNextSqrtPriceFromTokenAmountBRoundingDown(e,t,n,!0)}static getNextSqrtPriceX64FromOutput(e,t,n,i){if(!e.gt(U))throw new Error("sqrtPriceX64 must greater than 0");if(!t.gt(U))throw new Error("liquidity must greater than 0");return i?this.getNextSqrtPriceFromTokenAmountBRoundingDown(e,t,n,!1):this.getNextSqrtPriceFromTokenAmountARoundingUp(e,t,n,!1)}static getNextSqrtPriceFromTokenAmountARoundingUp(e,t,n,i){if(n.eq(U))return e;let r=t.shln(Dt);if(i){let o=r,a=r.add(n.mul(e));return a.gte(o)?v.mulDivCeil(o,e,a):v.mulDivRoundingUp(o,te,o.div(e).add(n))}else{let o=n.mul(e);if(!r.gt(o))throw new Error("getNextSqrtPriceFromTokenAmountARoundingUp,liquidityLeftShift must gt amountMulSqrtPrice");let a=r.sub(o);return v.mulDivCeil(r,e,a)}}static getNextSqrtPriceFromTokenAmountBRoundingDown(e,t,n,i){let r=n.shln(Dt);if(i)return e.add(r.div(t));{let o=v.mulDivRoundingUp(r,te,t);if(!e.gt(o))throw new Error("getNextSqrtPriceFromTokenAmountBRoundingDown sqrtPriceX64 must gt amountDivLiquidity");return e.sub(o)}}static getSqrtPriceX64FromTick(e){if(!Number.isInteger(e))throw new Error("tick must be integer");if(e<pt||e>Nt)throw new Error("tick must be in MIN_TICK and MAX_TICK");let t=e<0?e*-1:e,n=(t&1)!=0?new _.default("18445821805675395072"):new _.default("18446744073709551616");return(t&2)!=0&&(n=fe(n,new _.default("18444899583751176192"))),(t&4)!=0&&(n=fe(n,new _.default("18443055278223355904"))),(t&8)!=0&&(n=fe(n,new _.default("18439367220385607680"))),(t&16)!=0&&(n=fe(n,new _.default("18431993317065453568"))),(t&32)!=0&&(n=fe(n,new _.default("18417254355718170624"))),(t&64)!=0&&(n=fe(n,new _.default("18387811781193609216"))),(t&128)!=0&&(n=fe(n,new _.default("18329067761203558400"))),(t&256)!=0&&(n=fe(n,new _.default("18212142134806163456"))),(t&512)!=0&&(n=fe(n,new _.default("17980523815641700352"))),(t&1024)!=0&&(n=fe(n,new _.default("17526086738831433728"))),(t&2048)!=0&&(n=fe(n,new _.default("16651378430235570176"))),(t&4096)!=0&&(n=fe(n,new _.default("15030750278694412288"))),(t&8192)!=0&&(n=fe(n,new _.default("12247334978884435968"))),(t&16384)!=0&&(n=fe(n,new _.default("8131365268886854656"))),(t&32768)!=0&&(n=fe(n,new _.default("3584323654725218816"))),(t&65536)!=0&&(n=fe(n,new _.default("696457651848324352"))),(t&131072)!=0&&(n=fe(n,new _.default("26294789957507116"))),(t&262144)!=0&&(n=fe(n,new _.default("37481735321082"))),e>0&&(n=xi.div(n)),n}static getTickFromPrice(e,t,n){return G.getTickFromSqrtPriceX64(G.priceToSqrtPriceX64(e,t,n))}static getTickFromSqrtPriceX64(e){if(e.gt(He)||e.lt(Xe))throw new Error("Provided sqrtPrice is not within the supported sqrtPrice range.");let t=e.bitLength()-1,n=new _.default(t-64),i=Fo(n,32,128),r=new _.default("8000000000000000","hex"),o=0,a=new _.default(0),c=t>=64?e.shrn(t-63):e.shln(63-t);for(;r.gt(new _.default(0))&&o<Bi;){c=c.mul(c);let y=c.shrn(127);c=c.shrn(63+y.toNumber()),a=a.add(r.mul(y)),r=r.shrn(1),o+=1}let u=a.shrn(32),b=i.add(u).mul(new _.default(Ci)),l=wn(b.sub(new _.default(Di)),64,128).toNumber(),f=wn(b.add(new _.default(Ni)),64,128).toNumber();return l==f?l:G.getSqrtPriceX64FromTick(f).lte(e)?f:l}},yt=class{static getTickWithPriceAndTickspacing(e,t,n,i){let o=G.getTickFromSqrtPriceX64(G.priceToSqrtPriceX64(e,n,i))/t;return o<0?o=Math.floor(o):o=Math.ceil(o),o*t}static roundPriceWithTickspacing(e,t,n,i){let r=yt.getTickWithPriceAndTickspacing(e,t,n,i),o=G.getSqrtPriceX64FromTick(r);return G.sqrtPriceX64ToPrice(o,n,i)}},X=class{static addDelta(e,t){return e.add(t)}static getTokenAmountAFromLiquidity(e,t,n,i){if(e.gt(t)&&([e,t]=[t,e]),!e.gt(U))throw new Error("sqrtPriceX64A must greater than 0");let r=n.ushln(Dt),o=t.sub(e);return i?v.mulDivRoundingUp(v.mulDivCeil(r,o,t),te,e):v.mulDivFloor(r,o,t).div(e)}static getTokenAmountBFromLiquidity(e,t,n,i){if(e.gt(t)&&([e,t]=[t,e]),!e.gt(U))throw new Error("sqrtPriceX64A must greater than 0");return i?v.mulDivCeil(n,t.sub(e),ve):v.mulDivFloor(n,t.sub(e),ve)}static getLiquidityFromTokenAmountA(e,t,n,i){e.gt(t)&&([e,t]=[t,e]);let r=n.mul(e).mul(t),o=t.sub(e),a=r.div(o);return i?v.mulDivRoundingUp(a,te,Pn):a.shrn(Dt)}static getLiquidityFromTokenAmountB(e,t,n){return e.gt(t)&&([e,t]=[t,e]),v.mulDivFloor(n,Pn,t.sub(e))}static getLiquidityFromTokenAmounts(e,t,n,i,r){if(t.gt(n)&&([t,n]=[n,t]),e.lte(t))return X.getLiquidityFromTokenAmountA(t,n,i,!1);if(e.lt(n)){let o=X.getLiquidityFromTokenAmountA(e,n,i,!1),a=X.getLiquidityFromTokenAmountB(t,e,r);return o.lt(a)?o:a}else return X.getLiquidityFromTokenAmountB(t,n,r)}static getAmountsFromLiquidity(e,t,n,i,r){if(t.gt(n)&&([t,n]=[n,t]),e.lte(t))return{amountA:X.getTokenAmountAFromLiquidity(t,n,i,r),amountB:new _.default(0)};if(e.lt(n)){let o=X.getTokenAmountAFromLiquidity(e,n,i,r),a=X.getTokenAmountBFromLiquidity(t,e,i,r);return{amountA:o,amountB:a}}else return{amountA:new _.default(0),amountB:X.getTokenAmountBFromLiquidity(t,n,i,r)}}static getAmountsFromLiquidityWithSlippage(e,t,n,i,r,o,a){let{amountA:c,amountB:u}=X.getAmountsFromLiquidity(e,t,n,i,o),m=r?1+a:1-a,b=c.muln(m),l=u.muln(m);return{amountSlippageA:b,amountSlippageB:l}}},ft=class{static swapCompute(e,t,n,i,r,o,a,c,u,m,b,l){if(m.eq(U))throw new Error("amountSpecified must not be 0");if(l||(l=i?Xe.add(te):He.sub(te)),i){if(l.lt(Xe))throw new Error("sqrtPriceX64 must greater than MIN_SQRT_PRICE_X64");if(l.gte(u))throw new Error("sqrtPriceX64 must smaller than current")}else{if(l.gt(He))throw new Error("sqrtPriceX64 must smaller than MAX_SQRT_PRICE_X64");if(l.lte(u))throw new Error("sqrtPriceX64 must greater than current")}let f=m.gt(U),y={amountSpecifiedRemaining:m,amountCalculated:U,sqrtPriceX64:u,tick:a,accounts:[],liquidity:o,feeAmount:new _.default(0)},p=0;for(;!y.amountSpecifiedRemaining.eq(U)&&y.sqrtPriceX64!=l&&y.tick<Nt&&y.tick>pt;){if(p>10)throw Error("liquidity limit");let A={};A.sqrtPriceStartX64=y.sqrtPriceX64;let{nextTick:k,tickArrayAddress:T,tickArrayStartTickIndex:I}=nn.nextInitializedTick(e,t,n,y.tick,c,i);A.tickNext=k.tick,A.initialized=k.liquidityGross.gtn(0),b!==I&&T&&(y.accounts.push(T),b=I),A.tickNext<pt?A.tickNext=pt:A.tickNext>Nt&&(A.tickNext=Nt),A.sqrtPriceNextX64=G.getSqrtPriceX64FromTick(A.tickNext);let P;if(i&&A.sqrtPriceNextX64.lt(l)||!i&&A.sqrtPriceNextX64.gt(l)?P=l:P=A.sqrtPriceNextX64,[y.sqrtPriceX64,A.amountIn,A.amountOut,A.feeAmount]=ft.swapStepCompute(y.sqrtPriceX64,P,y.liquidity,y.amountSpecifiedRemaining,r),y.feeAmount=y.feeAmount.add(A.feeAmount),f?(y.amountSpecifiedRemaining=y.amountSpecifiedRemaining.sub(A.amountIn.add(A.feeAmount)),y.amountCalculated=y.amountCalculated.sub(A.amountOut)):(y.amountSpecifiedRemaining=y.amountSpecifiedRemaining.add(A.amountOut),y.amountCalculated=y.amountCalculated.add(A.amountIn.add(A.feeAmount))),y.sqrtPriceX64.eq(A.sqrtPriceNextX64)){if(A.initialized){let w=k.liquidityNet;i&&(w=w.mul(et)),y.liquidity=X.addDelta(y.liquidity,w)}y.tick=i?A.tickNext-1:A.tickNext}else y.sqrtPriceX64!=A.sqrtPriceStartX64&&(y.tick=G.getTickFromSqrtPriceX64(y.sqrtPriceX64));++p}return{amountCalculated:y.amountCalculated,feeAmount:y.feeAmount,sqrtPriceX64:y.sqrtPriceX64,liquidity:y.liquidity,tickCurrent:y.tick,accounts:y.accounts}}static swapStepCompute(e,t,n,i,r){let o={sqrtPriceX64Next:new _.default(0),amountIn:new _.default(0),amountOut:new _.default(0),feeAmount:new _.default(0)},a=e.gte(t),c=i.gte(U);if(c){let m=v.mulDivFloor(i,tn.sub(new _.default(r.toString())),tn);o.amountIn=a?X.getTokenAmountAFromLiquidity(t,e,n,!0):X.getTokenAmountBFromLiquidity(e,t,n,!0),m.gte(o.amountIn)?o.sqrtPriceX64Next=t:o.sqrtPriceX64Next=G.getNextSqrtPriceX64FromInput(e,n,m,a)}else o.amountOut=a?X.getTokenAmountBFromLiquidity(t,e,n,!1):X.getTokenAmountAFromLiquidity(e,t,n,!1),i.mul(et).gte(o.amountOut)?o.sqrtPriceX64Next=t:o.sqrtPriceX64Next=G.getNextSqrtPriceX64FromOutput(e,n,i.mul(et),a);let u=t.eq(o.sqrtPriceX64Next);return a?(u&&c||(o.amountIn=X.getTokenAmountAFromLiquidity(o.sqrtPriceX64Next,e,n,!0)),u&&!c||(o.amountOut=X.getTokenAmountBFromLiquidity(o.sqrtPriceX64Next,e,n,!1))):(o.amountIn=u&&c?o.amountIn:X.getTokenAmountBFromLiquidity(e,o.sqrtPriceX64Next,n,!0),o.amountOut=u&&!c?o.amountOut:X.getTokenAmountAFromLiquidity(e,o.sqrtPriceX64Next,n,!1)),!c&&o.amountOut.gt(i.mul(et))&&(o.amountOut=i.mul(et)),c&&!o.sqrtPriceX64Next.eq(t)?o.feeAmount=i.sub(o.amountIn):o.feeAmount=v.mulDivCeil(o.amountIn,new _.default(r),tn.sub(new _.default(r))),[o.sqrtPriceX64Next,o.amountIn,o.amountOut,o.feeAmount]}};var Oi=require("@solana/web3.js"),Ui=ue(require("bn.js"));var Ot=class{static getOutputAmountAndRemainAccounts(e,t,n,i,r){let o=n.equals(e.mintA.mint),a=[],{isExist:c,startIndex:u,nextAccountMeta:m}=this.getFirstInitializedTickArray(e,o);if(!c||u===void 0||!m)throw new Error("Invalid tick array");a.push(m);let{amountCalculated:b,accounts:l,sqrtPriceX64:f,feeAmount:y}=ft.swapCompute(e.programId,e.id,t,o,e.ammConfig.tradeFeeRate,e.liquidity,e.tickCurrent,e.tickSpacing,e.sqrtPriceX64,i,u,r);return a.push(...l),{expectedAmountOut:b.mul(et),remainingAccounts:a,executionPrice:f,feeAmount:y}}static getFirstInitializedTickArray(e,t){let n=W.mergeTickArrayBitmap(e.tickArrayBitmap),{isInitialized:i,startIndex:r}=W.checkTickArrayIsInitialized(n,e.tickCurrent,e.tickSpacing);if(i){let{publicKey:c}=be(e.programId,e.id,r);return{isExist:!0,startIndex:r,nextAccountMeta:c}}let{isExist:o,nextStartIndex:a}=this.nextInitializedTickArrayStartIndex(e,t);if(o){let{publicKey:c}=be(e.programId,e.id,a);return{isExist:!0,startIndex:a,nextAccountMeta:c}}return{isExist:!1,nextAccountMeta:void 0,startIndex:void 0}}static nextInitializedTickArrayStartIndex(e,t){let n=W.mergeTickArrayBitmap(e.tickArrayBitmap),i=W.getTickArrayOffsetInBitmapByTick(e.tickCurrent,e.tickSpacing),r=t?W.searchLowBitFromStart(n,i-1,0,1,e.tickSpacing):W.searchHightBitFromStart(n,i,1024,1,e.tickSpacing);return r.length>0?{isExist:!0,nextStartIndex:r[0]}:{isExist:!1,nextStartIndex:0}}static updatePoolRewardInfos({chainTime:e,poolLiquidity:t,rewardInfos:n}){let i=[];for(let r of n){let o=we(q({},r),{perSecond:v.x64ToDecimal(r.emissionsPerSecondX64),remainingRewards:void 0});if(o.tokenMint.equals(Oi.PublicKey.default))continue;if(e<=o.openTime.toNumber()||t.eq(U)){i.push(o);continue}let a=new Ui.default(Math.min(o.endTime.toNumber(),e)),c=a.sub(o.lastUpdateTime),u=v.mulDivFloor(c,o.emissionsPerSecondX64,t),m=o.rewardGrowthGlobalX64.add(u),b=v.mulDivFloor(c,o.emissionsPerSecondX64,ve),l=o.rewardTotalEmissioned.add(b);i.push(we(q({},o),{rewardGrowthGlobalX64:m,rewardTotalEmissioned:l,lastUpdateTime:a}))}return i}};var nt=ue(require("bn.js"));var Ut=class{static getfeeGrowthInside(e,t,n){let i=new nt.default(0),r=new nt.default(0);e.tickCurrent>=t.tick?(i=t.feeGrowthOutsideX64A,r=t.feeGrowthOutsideX64B):(i=e.feeGrowthGlobalX64A.sub(t.feeGrowthOutsideX64A),r=e.feeGrowthGlobalX64B.sub(t.feeGrowthOutsideX64B));let o=new nt.default(0),a=new nt.default(0);e.tickCurrent<n.tick?(o=n.feeGrowthOutsideX64A,a=n.feeGrowthOutsideX64B):(o=e.feeGrowthGlobalX64A.sub(n.feeGrowthOutsideX64A),a=e.feeGrowthGlobalX64B.sub(n.feeGrowthOutsideX64B));let c=v.wrappingSubU128(v.wrappingSubU128(e.feeGrowthGlobalX64A,i),o),u=v.wrappingSubU128(v.wrappingSubU128(e.feeGrowthGlobalX64B,r),a);return{feeGrowthInsideX64A:c,feeGrowthInsideBX64:u}}static GetPositionFees(e,t,n,i){let{feeGrowthInsideX64A:r,feeGrowthInsideBX64:o}=this.getfeeGrowthInside(e,n,i),a=v.mulDivFloor(v.wrappingSubU128(r,t.feeGrowthInsideLastX64A),t.liquidity,ve),c=t.tokenFeesOwedA.add(a),u=v.mulDivFloor(v.wrappingSubU128(o,t.feeGrowthInsideLastX64B),t.liquidity,ve),m=t.tokenFeesOwedB.add(u);return{tokenFeeAmountA:c,tokenFeeAmountB:m}}static GetPositionRewards(e,t,n,i){let r=[],o=this.getRewardGrowthInside(e.tickCurrent,n,i,e.rewardInfos);for(let a=0;a<o.length;a++){let c=o[a],u=t.rewardInfos[a],m=v.wrappingSubU128(c,u.growthInsideLastX64),b=v.mulDivFloor(m,t.liquidity,ve),l=u.rewardAmountOwed.add(b);r.push(l)}return r}static getRewardGrowthInside(e,t,n,i){let r=[];for(let o=0;o<i.length;o++){let a=new nt.default(0);t.liquidityGross.eqn(0)?a=i[o].rewardGrowthGlobalX64:e<t.tick?a=i[o].rewardGrowthGlobalX64.sub(t.rewardGrowthsOutsideX64[o]):a=t.rewardGrowthsOutsideX64[o];let c=new nt.default(0);n.liquidityGross.eqn(0)||(e<n.tick?c=n.rewardGrowthsOutsideX64[o]:c=i[o].rewardGrowthGlobalX64.sub(n.rewardGrowthsOutsideX64[o])),r.push(v.wrappingSubU128(v.wrappingSubU128(i[o].rewardGrowthGlobalX64,a),c))}return r}};var ke=Q.from("AmmV3"),Qe=class extends _e{static makeCreatePoolTransaction(c){return E(this,arguments,function*({connection:e,programId:t,owner:n,mint1:i,mint2:r,ammConfig:o,initialPrice:a}){let[u,m,b]=i.mint._bn.gt(r.mint._bn)?[r,i,new ee.default(1).div(a)]:[i,r,a],l=G.priceToSqrtPriceX64(b,u.decimals,m.decimals),f=new $.Transaction;f.add(Ue());let y=yield this.makeCreatePoolInstructions({connection:e,programId:t,owner:n,mintA:u,mintB:m,ammConfigId:o.id,initialPriceX64:l});return f.add(...y.instructions),{signers:y.signers,transaction:f,mockPoolInfo:{id:y.address.poolId,mintA:{mint:u.mint,vault:y.address.mintAVault,decimals:u.decimals},mintB:{mint:m.mint,vault:y.address.mintBVault,decimals:m.decimals},ammConfig:o,observationId:y.address.observationId,creator:n,programId:t,version:6,tickSpacing:o.tickSpacing,liquidity:U,sqrtPriceX64:l,currentPrice:b,tickCurrent:0,observationIndex:0,observationUpdateDuration:0,feeGrowthGlobalX64A:U,feeGrowthGlobalX64B:U,protocolFeesTokenA:U,protocolFeesTokenB:U,swapInAmountTokenA:U,swapOutAmountTokenB:U,swapInAmountTokenB:U,swapOutAmountTokenA:U,tickArrayBitmap:[],rewardInfos:[],day:{volume:0,volumeFee:0,feeA:0,feeB:0,feeApr:0,rewardApr:{A:0,B:0,C:0},apr:0,priceMax:0,priceMin:0},week:{volume:0,volumeFee:0,feeA:0,feeB:0,feeApr:0,rewardApr:{A:0,B:0,C:0},apr:0,priceMax:0,priceMin:0},month:{volume:0,volumeFee:0,feeA:0,feeB:0,feeApr:0,rewardApr:{A:0,B:0,C:0},apr:0,priceMax:0,priceMin:0},tvl:0}}})}static makeOpenPositionTransaction(u){return E(this,arguments,function*({connection:e,poolInfo:t,ownerInfo:n,tickLower:i,tickUpper:r,liquidity:o,slippage:a,associatedOnly:c=!0}){let m=[],b=[],l=[],{amountSlippageA:f,amountSlippageB:y}=X.getAmountsFromLiquidityWithSlippage(t.sqrtPriceX64,G.getSqrtPriceX64FromTick(i),G.getSqrtPriceX64FromTick(r),o,!0,!0,a),p=n.useSOLBalance&&t.mintA.mint.equals(h.WSOL.mint),A=n.useSOLBalance&&t.mintB.mint.equals(h.WSOL.mint),k=yield this._selectOrCreateTokenAccount({mint:t.mintA.mint,tokenAccounts:p?[]:n.tokenAccounts,owner:n.wallet,createInfo:p?{connection:e,payer:n.feePayer,amount:f,frontInstructions:m,endInstructions:b,signers:l}:void 0,associatedOnly:p?!1:c}),T=yield this._selectOrCreateTokenAccount({mint:t.mintB.mint,tokenAccounts:A?[]:n.tokenAccounts,owner:n.wallet,createInfo:A?{connection:e,payer:n.feePayer,amount:y,frontInstructions:m,endInstructions:b,signers:l}:void 0,associatedOnly:A?!1:c});ke.assertArgument(k!==void 0&&T!==void 0,"cannot found target token accounts","tokenAccounts",n.tokenAccounts);let I=new $.Transaction;I.add(Ue());let P=this.makeOpenPositionInstructions({poolInfo:t,ownerInfo:we(q({},n),{tokenAccountA:k,tokenAccountB:T}),tickLower:i,tickUpper:r,liquidity:o,amountSlippageA:f,amountSlippageB:y});return I.add(...m,...P.instructions,...b),{signers:[...l,...P.signers],transaction:I,address:q({},P.address)}})}static makeIncreaseLiquidityTransaction(a){return E(this,arguments,function*({connection:e,poolInfo:t,ownerPosition:n,ownerInfo:i,liquidity:r,slippage:o}){let c=[],u=[],m=[],{amountSlippageA:b,amountSlippageB:l}=X.getAmountsFromLiquidityWithSlippage(t.sqrtPriceX64,G.getSqrtPriceX64FromTick(n.tickLower),G.getSqrtPriceX64FromTick(n.tickUpper),r,!0,!0,o),f,y;t.mintA.mint.equals(new $.PublicKey(ge.mint))&&i.useSOLBalance?f=yield this._handleTokenAccount({connection:e,side:"in",amount:b,mint:t.mintA.mint,tokenAccount:null,owner:i.wallet,payer:i.feePayer,frontInstructions:c,endInstructions:u,signers:m,bypassAssociatedCheck:!0}):f=this._selectTokenAccount({tokenAccounts:i.tokenAccounts,mint:t.mintA.mint,owner:i.wallet,config:{associatedOnly:!1}}),t.mintB.mint.equals(new $.PublicKey(ge.mint))&&i.useSOLBalance?y=yield this._handleTokenAccount({connection:e,side:"in",amount:l,mint:t.mintB.mint,tokenAccount:null,owner:i.wallet,payer:i.feePayer,frontInstructions:c,endInstructions:u,signers:m,bypassAssociatedCheck:!0}):y=this._selectTokenAccount({tokenAccounts:i.tokenAccounts,mint:t.mintB.mint,owner:i.wallet,config:{associatedOnly:!1}}),ke.assertArgument(!!f||!!y,"cannot found target token accounts","tokenAccounts",i.tokenAccounts);let p=new $.Transaction;p.add(Ue());let A=this.makeIncreaseLiquidityInstructions({poolInfo:t,ownerPosition:n,ownerInfo:{wallet:i.wallet,tokenAccountA:f,tokenAccountB:y},liquidity:r,amountSlippageA:b,amountSlippageB:l});return p.add(...c,...A.instructions,...u),{signers:[...m,...A.signers],transaction:p,address:q({},A.address)}})}static makeDecreaseLiquidityTransaction(m){return E(this,arguments,function*({connection:e,poolInfo:t,ownerPosition:n,ownerInfo:i,liquidity:r,amountMinA:o,amountMinB:a,slippage:c,associatedOnly:u=!0}){let b=[],l=[],f=[],y,p;if(o!==void 0&&a!==void 0)y=o,p=a;else{let{amountSlippageA:R,amountSlippageB:D}=X.getAmountsFromLiquidityWithSlippage(t.sqrtPriceX64,G.getSqrtPriceX64FromTick(n.tickLower),G.getSqrtPriceX64FromTick(n.tickUpper),r,!1,!0,c!=null?c:0);y=R,p=D}let A=i.useSOLBalance&&t.mintA.mint.equals(h.WSOL.mint),k=i.useSOLBalance&&t.mintB.mint.equals(h.WSOL.mint),T=yield this._selectOrCreateTokenAccount({mint:t.mintA.mint,tokenAccounts:A?[]:i.tokenAccounts,owner:i.wallet,createInfo:{connection:e,payer:i.feePayer,amount:0,frontInstructions:b,signers:f},associatedOnly:A?!1:u}),I=yield this._selectOrCreateTokenAccount({mint:t.mintB.mint,tokenAccounts:k?[]:i.tokenAccounts,owner:i.wallet,createInfo:{connection:e,payer:i.feePayer,amount:0,frontInstructions:b,signers:f},associatedOnly:k?!1:u}),P=[];for(let R of t.rewardInfos){let D=i.useSOLBalance&&R.tokenMint.equals(h.WSOL.mint),V=yield this._selectOrCreateTokenAccount({mint:R.tokenMint,tokenAccounts:D?[]:i.tokenAccounts,owner:i.wallet,createInfo:{connection:e,payer:i.feePayer,amount:0,frontInstructions:b,endInstructions:D?l:[],signers:f},associatedOnly:D?!1:u});P.push(V)}ke.assertArgument(!!T||!!I,"cannot found target token accounts","tokenAccounts",i.tokenAccounts);let w=new $.Transaction;w.add(Ue());let N=this.makeDecreaseLiquidityInstructions({poolInfo:t,ownerPosition:n,ownerInfo:{wallet:i.wallet,tokenAccountA:T,tokenAccountB:I,rewardAccounts:P},liquidity:r,amountMinA:y,amountMinB:p});return w.add(...b,...N.instructions,...l),i.closePosition&&w.add(...this.makeClosePositionInstructions({poolInfo:t,ownerInfo:i,ownerPosition:n}).instructions),{signers:[...f,...N.signers],transaction:w,address:q({},N.address)}})}static makeSwapBaseInTransaction(u){return E(this,arguments,function*({connection:e,poolInfo:t,ownerInfo:n,inputMint:i,amountIn:r,amountOutMin:o,priceLimit:a,remainingAccounts:c}){let m=[],b=[],l=[],f;!a||a.equals(new ee.default(0))?f=i.equals(t.mintA.mint)?Xe.add(te):He.sub(te):f=G.priceToSqrtPriceX64(a,t.mintA.decimals,t.mintB.decimals);let y=t.mintA.mint.equals(i),p,A;t.mintA.mint.equals(new $.PublicKey(ge.mint))&&n.useSOLBalance?p=yield this._handleTokenAccount({connection:e,side:"in",amount:y?r:0,mint:t.mintA.mint,tokenAccount:null,owner:n.wallet,payer:n.feePayer,frontInstructions:m,endInstructions:b,signers:l,bypassAssociatedCheck:!0}):p=this._selectTokenAccount({tokenAccounts:n.tokenAccounts,mint:t.mintA.mint,owner:n.wallet,config:{associatedOnly:!1}}),t.mintB.mint.equals(new $.PublicKey(ge.mint))&&n.useSOLBalance?A=yield this._handleTokenAccount({connection:e,side:"in",amount:y?0:r,mint:t.mintB.mint,tokenAccount:null,owner:n.wallet,payer:n.feePayer,frontInstructions:m,endInstructions:b,signers:l,bypassAssociatedCheck:!0}):A=this._selectTokenAccount({tokenAccounts:n.tokenAccounts,mint:t.mintB.mint,owner:n.wallet,config:{associatedOnly:!1}}),ke.assertArgument(!!p||!!A,"cannot found target token accounts","tokenAccounts",n.tokenAccounts);let k=new $.Transaction;k.add(Ue());let T=this.makeSwapBaseInInstructions({poolInfo:t,ownerInfo:{wallet:n.wallet,tokenAccountA:p,tokenAccountB:A},inputMint:i,amountIn:r,amountOutMin:o,sqrtPriceLimitX64:f,remainingAccounts:c});return k.add(...m,...T.instructions,...b),{signers:[...l,...T.signers],transaction:k,address:q({},T.address)}})}static makeCLosePositionTransaction({poolInfo:e,ownerPosition:t,ownerInfo:n}){let i=this.makeClosePositionInstructions({poolInfo:e,ownerInfo:n,ownerPosition:t}),r=new $.Transaction;return r.add(...i.instructions),{signers:i.signers,transaction:r,address:q({},i.address)}}static makeInitRewardTransaction(o){return E(this,arguments,function*({connection:e,poolInfo:t,ownerInfo:n,rewardInfo:i,associatedOnly:r=!0}){ke.assertArgument(i.endTime>i.openTime,"reward time error","rewardInfo",i);let a=[],c=[],u=[],m=n.useSOLBalance&&i.mint.equals(h.WSOL.mint),b=yield this._selectOrCreateTokenAccount({mint:i.mint,tokenAccounts:m?[]:n.tokenAccounts,owner:n.wallet,createInfo:m?{connection:e,payer:n.feePayer,amount:new Ae.default(new ee.default(i.perSecond.sub(i.endTime-i.openTime).toFixed(0)).gte(i.perSecond.sub(i.endTime-i.openTime))?i.perSecond.sub(i.endTime-i.openTime).toFixed(0):i.perSecond.sub(i.endTime-i.openTime).add(1).toFixed(0)),frontInstructions:a,endInstructions:c,signers:u}:void 0,associatedOnly:m?!1:r});ke.assertArgument(b,"no money","ownerRewardAccount",n.tokenAccounts);let l=new $.Transaction;l.add(Ue());let f=this.makeInitRewardInstructions({poolInfo:t,ownerInfo:{wallet:n.wallet,tokenAccount:b},rewardInfo:{mint:i.mint,openTime:i.openTime,endTime:i.endTime,emissionsPerSecondX64:v.decimalToX64(i.perSecond)}});return l.add(...a,...f.instructions,...c),{signers:[...u,...f.signers],transaction:l,address:q({},f.address)}})}static makeInitRewardsTransaction(o){return E(this,arguments,function*({connection:e,poolInfo:t,ownerInfo:n,rewardInfos:i,associatedOnly:r=!0}){for(let l of i)ke.assertArgument(l.endTime>l.openTime,"reward time error","rewardInfo",l);let a=new $.Transaction;a.add(Ue());let c=[],u=[],m=[],b=[];for(let l of i){let f=n.useSOLBalance&&l.mint.equals(h.WSOL.mint),y=yield this._selectOrCreateTokenAccount({mint:l.mint,tokenAccounts:f?[]:n.tokenAccounts,owner:n.wallet,createInfo:f?{connection:e,payer:n.feePayer,amount:new Ae.default(new ee.default(l.perSecond.sub(l.endTime-l.openTime).toFixed(0)).gte(l.perSecond.sub(l.endTime-l.openTime))?l.perSecond.sub(l.endTime-l.openTime).toFixed(0):l.perSecond.sub(l.endTime-l.openTime).add(1).toFixed(0)),frontInstructions:c,endInstructions:u,signers:b}:void 0,associatedOnly:f?!1:r});ke.assertArgument(y,"no money","ownerRewardAccount",n.tokenAccounts);let p=this.makeInitRewardInstructions({poolInfo:t,ownerInfo:{wallet:n.wallet,tokenAccount:y},rewardInfo:{mint:l.mint,openTime:l.openTime,endTime:l.endTime,emissionsPerSecondX64:v.decimalToX64(l.perSecond)}});m.push(...p.instructions)}return a.add(...c,...m,...u),{signers:[...b],transaction:a,address:{}}})}static makeSetRewardTransaction(o){return E(this,arguments,function*({connection:e,poolInfo:t,ownerInfo:n,rewardInfo:i,associatedOnly:r=!0}){ke.assertArgument(i.endTime>i.openTime,"reward time error","rewardInfo",i);let a=[],c=[],u=[],m=n.useSOLBalance&&i.mint.equals(h.WSOL.mint),b=yield this._selectOrCreateTokenAccount({mint:i.mint,tokenAccounts:m?[]:n.tokenAccounts,owner:n.wallet,createInfo:m?{connection:e,payer:n.feePayer,amount:new Ae.default(new ee.default(i.perSecond.sub(i.endTime-i.openTime).toFixed(0)).gte(i.perSecond.sub(i.endTime-i.openTime))?i.perSecond.sub(i.endTime-i.openTime).toFixed(0):i.perSecond.sub(i.endTime-i.openTime).add(1).toFixed(0)),frontInstructions:a,endInstructions:c,signers:u}:void 0,associatedOnly:m?!1:r});ke.assertArgument(b,"no money","ownerRewardAccount",n.tokenAccounts);let l=new $.Transaction;l.add(Ue());let f=this.makeSetRewardInstructions({poolInfo:t,ownerInfo:{wallet:n.wallet,tokenAccount:b},rewardInfo:{mint:i.mint,openTime:i.openTime,endTime:i.endTime,emissionsPerSecondX64:v.decimalToX64(i.perSecond)}});return l.add(...a,...f.instructions,...c),{signers:[...u,...f.signers],transaction:l,address:q({},f.address)}})}static makeSetRewardsTransaction(o){return E(this,arguments,function*({connection:e,poolInfo:t,ownerInfo:n,rewardInfos:i,associatedOnly:r=!0}){let a=[],c=[],u=[],m=[],b=new $.Transaction;b.add(Ue());for(let l of i){ke.assertArgument(l.endTime>l.openTime,"reward time error","rewardInfo",l);let f=n.useSOLBalance&&l.mint.equals(h.WSOL.mint),y=yield this._selectOrCreateTokenAccount({mint:l.mint,tokenAccounts:f?[]:n.tokenAccounts,owner:n.wallet,createInfo:f?{connection:e,payer:n.feePayer,amount:new Ae.default(new ee.default(l.perSecond.sub(l.endTime-l.openTime).toFixed(0)).gte(l.perSecond.sub(l.endTime-l.openTime))?l.perSecond.sub(l.endTime-l.openTime).toFixed(0):l.perSecond.sub(l.endTime-l.openTime).add(1).toFixed(0)),frontInstructions:a,endInstructions:c,signers:m}:void 0,associatedOnly:f?!1:r});ke.assertArgument(y,"no money","ownerRewardAccount",n.tokenAccounts);let p=this.makeSetRewardInstructions({poolInfo:t,ownerInfo:{wallet:n.wallet,tokenAccount:y},rewardInfo:{mint:l.mint,openTime:l.openTime,endTime:l.endTime,emissionsPerSecondX64:v.decimalToX64(l.perSecond)}});u.push(...p.instructions)}return b.add(...a,...u,...c),{signers:[...m],transaction:b,address:{}}})}static makeCollectRewardTransaction(o){return E(this,arguments,function*({connection:e,poolInfo:t,ownerInfo:n,rewardMint:i,associatedOnly:r=!0}){let a=[],c=[],u=[],m=n.useSOLBalance&&i.equals(h.WSOL.mint),b=yield this._selectOrCreateTokenAccount({mint:i,tokenAccounts:m?[]:n.tokenAccounts,owner:n.wallet,createInfo:{connection:e,payer:n.feePayer,amount:0,frontInstructions:a,endInstructions:m?c:[],signers:u},associatedOnly:m?!1:r});ke.assertArgument(b,"no money","ownerRewardAccount",n.tokenAccounts);let l=new $.Transaction;l.add(Ue());let f=this.makeCollectRewardInstructions({poolInfo:t,ownerInfo:{wallet:n.wallet,tokenAccount:b},rewardMint:i});return l.add(...a,...f.instructions,...c),{signers:[...u,...f.signers],transaction:l,address:q({},f.address)}})}static makeCollectRewardsTransaction(o){return E(this,arguments,function*({connection:e,poolInfo:t,ownerInfo:n,rewardMints:i,associatedOnly:r=!0}){let a=[],c=[],u=[],m=new $.Transaction;m.add(Ue());let b=[];for(let l of i){let f=n.useSOLBalance&&l.equals(h.WSOL.mint),y=yield this._selectOrCreateTokenAccount({mint:l,tokenAccounts:f?[]:n.tokenAccounts,owner:n.wallet,createInfo:{connection:e,payer:n.feePayer,amount:0,frontInstructions:a,endInstructions:f?c:[],signers:b},associatedOnly:f?!1:r});ke.assertArgument(y,"no money","ownerRewardAccount",n.tokenAccounts);let p=this.makeCollectRewardInstructions({poolInfo:t,ownerInfo:{wallet:n.wallet,tokenAccount:y},rewardMint:l});u.push(...p.instructions)}return m.add(...a,...u,...c),{signers:[...b],transaction:m,address:{}}})}static makeHarvestAllRewardTransaction(r){return E(this,arguments,function*({connection:e,fetchPoolInfos:t,ownerInfo:n,associatedOnly:i=!0}){var f,y,p;let o={};for(let A of n.tokenAccounts)i?je(n.wallet,A.accountInfo.mint).publicKey.equals(A.pubkey)&&(o[A.accountInfo.mint.toString()]=A.pubkey):o[A.accountInfo.mint.toString()]=A.pubkey;let a=[],c=[],u=[],m=[];for(let A of Object.values(t)){if(A.positionAccount===void 0||!A.positionAccount.find(R=>!R.tokenFeeAmountA.isZero()||!R.tokenFeeAmountB.isZero()||R.rewardInfos.find(D=>!D.pendingReward.isZero())))continue;let k=A.state,T=n.useSOLBalance&&k.mintA.mint.equals(h.WSOL.mint),I=n.useSOLBalance&&k.mintB.mint.equals(h.WSOL.mint),P=(f=o[k.mintA.mint.toString()])!=null?f:yield this._selectOrCreateTokenAccount({mint:k.mintA.mint,tokenAccounts:T?[]:n.tokenAccounts,owner:n.wallet,createInfo:{connection:e,payer:n.feePayer,amount:0,frontInstructions:a,signers:m},associatedOnly:T?!1:i}),w=(y=o[k.mintB.mint.toString()])!=null?y:yield this._selectOrCreateTokenAccount({mint:k.mintB.mint,tokenAccounts:I?[]:n.tokenAccounts,owner:n.wallet,createInfo:{connection:e,payer:n.feePayer,amount:0,frontInstructions:a,signers:m},associatedOnly:I?!1:i});o[k.mintA.mint.toString()]=P,o[k.mintB.mint.toString()]=w;let N=[];for(let R of k.rewardInfos){let D=n.useSOLBalance&&R.tokenMint.equals(h.WSOL.mint),V=(p=o[R.tokenMint.toString()])!=null?p:yield this._selectOrCreateTokenAccount({mint:R.tokenMint,tokenAccounts:D?[]:n.tokenAccounts,owner:n.wallet,createInfo:{connection:e,payer:n.feePayer,amount:0,frontInstructions:a,endInstructions:D?c:[],signers:m},associatedOnly:D?!1:i});o[R.tokenMint.toString()]=V,N.push(V)}for(let R of A.positionAccount)u.push(...this.makeDecreaseLiquidityInstructions({poolInfo:k,ownerPosition:R,ownerInfo:{wallet:n.wallet,tokenAccountA:P,tokenAccountB:w,rewardAccounts:N},liquidity:U,amountMinA:U,amountMinB:U}).instructions)}let b=[...a,...u,...c];return{transactions:fn({instructions:b,signers:m,payer:n.wallet}),address:{}}})}static makeCreatePoolInstructions(c){return E(this,arguments,function*({connection:e,programId:t,owner:n,mintA:i,mintB:r,ammConfigId:o,initialPriceX64:a}){let u=new $.Keypair,m=[$.SystemProgram.createAccount({fromPubkey:n,newAccountPubkey:u.publicKey,lamports:yield e.getMinimumBalanceForRentExemption(kn.span),space:kn.span,programId:t})],b=mi(t,o,i.mint,r.mint).publicKey,l=An(t,b,i.mint).publicKey,f=An(t,b,r.mint).publicKey;return m.push(fi(t,b,n,o,u.publicKey,i.mint,l,r.mint,f,a)),{signers:[u],instructions:m,address:{poolId:b,observationId:u.publicKey,mintAVault:l,mintBVault:f}}})}static makeOpenPositionInstructions({poolInfo:e,ownerInfo:t,tickLower:n,tickUpper:i,liquidity:r,amountSlippageA:o,amountSlippageB:a}){let c=[],u=new $.Keypair;c.push(u);let m=W.getTickArrayStartIndexByTick(n,e.ammConfig.tickSpacing),b=W.getTickArrayStartIndexByTick(i,e.ammConfig.tickSpacing),{publicKey:l}=be(e.programId,e.id,m),{publicKey:f}=be(e.programId,e.id,b),{publicKey:y}=je(t.wallet,u.publicKey),{publicKey:p}=di(u.publicKey),{publicKey:A}=mt(e.programId,u.publicKey),{publicKey:k}=Jt(e.programId,e.id,n,i),T=Ai(e.programId,t.feePayer,e.id,t.wallet,u.publicKey,y,p,k,l,f,A,t.tokenAccountA,t.tokenAccountB,e.mintA.vault,e.mintB.vault,n,i,m,b,r,o,a);return{signers:[u],instructions:[T],address:{}}}static makeIncreaseLiquidityInstructions({poolInfo:e,ownerPosition:t,ownerInfo:n,liquidity:i,amountSlippageA:r,amountSlippageB:o}){let a=W.getTickArrayStartIndexByTick(t.tickLower,e.ammConfig.tickSpacing),c=W.getTickArrayStartIndexByTick(t.tickUpper,e.ammConfig.tickSpacing),{publicKey:u}=be(e.programId,e.id,a),{publicKey:m}=be(e.programId,e.id,c),{publicKey:b}=je(n.wallet,t.nftMint),{publicKey:l}=mt(e.programId,t.nftMint),{publicKey:f}=Jt(e.programId,e.id,t.tickLower,t.tickUpper),y=[];return y.push(gi(e.programId,n.wallet,b,l,e.id,f,u,m,n.tokenAccountA,n.tokenAccountB,e.mintA.vault,e.mintB.vault,i,r,o)),{signers:[],instructions:y,address:{}}}static makeDecreaseLiquidityInstructions({poolInfo:e,ownerPosition:t,ownerInfo:n,liquidity:i,amountMinA:r,amountMinB:o}){let a=W.getTickArrayStartIndexByTick(t.tickLower,e.ammConfig.tickSpacing),c=W.getTickArrayStartIndexByTick(t.tickUpper,e.ammConfig.tickSpacing),{publicKey:u}=be(e.programId,e.id,a),{publicKey:m}=be(e.programId,e.id,c),{publicKey:b}=je(n.wallet,t.nftMint),{publicKey:l}=mt(e.programId,t.nftMint),{publicKey:f}=Jt(e.programId,e.id,t.tickLower,t.tickUpper),y=[];for(let A=0;A<e.rewardInfos.length;A++)y.push({poolRewardVault:e.rewardInfos[A].tokenVault,ownerRewardVault:n.rewardAccounts[A]});let p=[];return p.push(ki(e.programId,n.wallet,b,l,e.id,f,u,m,n.tokenAccountA,n.tokenAccountB,e.mintA.vault,e.mintB.vault,y,i,r,o)),{signers:[],instructions:p,address:{}}}static makeClosePositionInstructions({poolInfo:e,ownerInfo:t,ownerPosition:n}){let{publicKey:i}=je(t.wallet,n.nftMint),{publicKey:r}=mt(e.programId,n.nftMint),o=[];return o.push(Si(e.programId,t.wallet,n.nftMint,i,r)),{signers:[],instructions:o,address:{}}}static makeSwapBaseInInstructions({poolInfo:e,ownerInfo:t,inputMint:n,amountIn:i,amountOutMin:r,sqrtPriceLimitX64:o,remainingAccounts:a}){let c=e.mintA.mint.equals(n),u=[Pi(e.programId,t.wallet,e.id,e.ammConfig.id,c?t.tokenAccountA:t.tokenAccountB,c?t.tokenAccountB:t.tokenAccountA,c?e.mintA.vault:e.mintB.vault,c?e.mintB.vault:e.mintA.vault,a,e.observationId,i,r,o,!0)];return{signers:[],instructions:u,address:{}}}static makeInitRewardInstructions({poolInfo:e,ownerInfo:t,rewardInfo:n}){let i=li(e.programId,e.id,n.mint).publicKey,r=jt(e.programId).publicKey,o=[Ti(e.programId,t.wallet,e.id,r,e.ammConfig.id,t.tokenAccount,n.mint,i,n.openTime,n.endTime,n.emissionsPerSecondX64)];return{signers:[],instructions:o,address:{}}}static makeSetRewardInstructions({poolInfo:e,ownerInfo:t,rewardInfo:n}){let i,r;for(let c=0;c<e.rewardInfos.length;c++)e.rewardInfos[c].tokenMint.equals(n.mint)&&(i=c,r=e.rewardInfos[c].tokenVault);ke.assertArgument(i!==void 0&&r!==void 0,"reward mint check error","no reward mint",e.rewardInfos);let o=jt(e.programId).publicKey,a=[wi(e.programId,t.wallet,e.id,o,e.ammConfig.id,t.tokenAccount,r,i,n.openTime,n.endTime,n.emissionsPerSecondX64)];return{signers:[],instructions:a,address:{}}}static makeCollectRewardInstructions({poolInfo:e,ownerInfo:t,rewardMint:n}){let i,r;for(let a=0;a<e.rewardInfos.length;a++)e.rewardInfos[a].tokenMint.equals(n)&&(i=a,r=e.rewardInfos[a].tokenVault);ke.assertArgument(i!==void 0&&r!==void 0,"reward mint check error","no reward mint",e.rewardInfos);let o=[Ii(e.programId,t.wallet,e.id,t.tokenAccount,r,i)];return{signers:[],instructions:o,address:{}}}static getLiquidityAmountOutFromAmountIn({poolInfo:e,inputA:t,tickLower:n,tickUpper:i,amount:r,slippage:o,add:a}){let c=e.sqrtPriceX64,u=G.getSqrtPriceX64FromTick(n),m=G.getSqrtPriceX64FromTick(i),b=a?1-o:1+o,l=r.mul(new Ae.default(Math.floor(b*1e6))).div(new Ae.default(1e6)),f;if(c.lte(u))f=t?X.getLiquidityFromTokenAmountA(u,m,l,!a):new Ae.default(0);else if(c.lte(m)){let A=X.getLiquidityFromTokenAmountA(c,m,l,!a),k=X.getLiquidityFromTokenAmountB(u,c,l);f=t?A:k}else f=t?new Ae.default(0):X.getLiquidityFromTokenAmountB(u,m,l);let y=X.getAmountsFromLiquidityWithSlippage(e.sqrtPriceX64,u,m,f,a,!a,o),p=X.getAmountsFromLiquidity(e.sqrtPriceX64,u,m,f,!a);return q(q({liquidity:f},y),p)}static getAmountsFromLiquidity({poolInfo:e,ownerPosition:t,liquidity:n,slippage:i,add:r}){let o=G.getSqrtPriceX64FromTick(t.tickLower),a=G.getSqrtPriceX64FromTick(t.tickUpper);return X.getAmountsFromLiquidityWithSlippage(e.sqrtPriceX64,o,a,n,r,r,i)}static getPriceAndTick({poolInfo:e,price:t,baseIn:n}){let i=n?t:new ee.default(1).div(t),r=yt.getTickWithPriceAndTickspacing(i,e.ammConfig.tickSpacing,e.mintA.decimals,e.mintB.decimals),o=G.getSqrtPriceX64FromTick(r),a=G.sqrtPriceX64ToPrice(o,e.mintA.decimals,e.mintB.decimals);return n?{tick:r,price:a}:{tick:r,price:new ee.default(1).div(a)}}static getTickPrice({poolInfo:e,tick:t,baseIn:n}){let i=G.getSqrtPriceX64FromTick(t),r=G.sqrtPriceX64ToPrice(i,e.mintA.decimals,e.mintB.decimals);return n?{tick:t,price:r,tickSqrtPriceX64:i}:{tick:t,price:new ee.default(1).div(r),tickSqrtPriceX64:i}}static computeAmountOutFormat({poolInfo:e,tickArrayCache:t,amountIn:n,currencyOut:i,slippage:r}){let o=n instanceof K,a=(o?n.token:h.WSOL).mint,c=n.raw,u=r.numerator.toNumber()/r.denominator.toNumber(),{amountOut:m,minAmountOut:b,currentPrice:l,executionPrice:f,priceImpact:y,fee:p,remainingAccounts:A}=Qe.computeAmountOut({poolInfo:e,tickArrayCache:t,baseMint:a,amountIn:c,slippage:u}),k=i instanceof h?new K(i,m):new me(i,m),T=i instanceof h?new K(i,b):new me(i,b),I=new re(o?n.token:n.currency,new Ae.default(10).pow(new Ae.default(20+(o?n.token:n.currency).decimals)),i instanceof h?i:h.WSOL,l.mul(new ee.default(sn(10,20+(i instanceof h?i:h.WSOL).decimals))).toFixed(0)),P=new re(o?n.token:n.currency,new Ae.default(10).pow(new Ae.default(20+(o?n.token:n.currency).decimals)),i instanceof h?i:h.WSOL,f.mul(new ee.default(sn(10,20+(i instanceof h?i:h.WSOL).decimals))).toFixed(0)),w=o?new K(n.token,p):new me(n.currency,p);return{amountOut:k,minAmountOut:T,currentPrice:I,executionPrice:P,priceImpact:y,fee:w,remainingAccounts:A}}static computeAmountOut({poolInfo:e,tickArrayCache:t,baseMint:n,amountIn:i,slippage:r,priceLimit:o=new ee.default(0)}){let a;o.equals(new ee.default(0))?a=n.equals(e.mintA.mint)?Xe.add(te):He.sub(te):a=G.priceToSqrtPriceX64(o,e.mintA.decimals,e.mintB.decimals);let{expectedAmountOut:c,remainingAccounts:u,executionPrice:m,feeAmount:b}=Ot.getOutputAmountAndRemainAccounts(e,t,n,i,a),l=G.sqrtPriceX64ToPrice(m,e.mintA.decimals,e.mintB.decimals),f=n.equals(e.mintA.mint)?l:new ee.default(1).div(l),y=c.mul(new Ae.default(Math.floor((1-r)*1e10))).div(new Ae.default(1e10)),p=e.mintA.mint.equals(n)?e.currentPrice:new ee.default(1).div(e.currentPrice),A=new xe(parseInt(String(Math.abs(parseFloat(f.toFixed())-parseFloat(p.toFixed()))*1e9)),parseInt(String(parseFloat(p.toFixed())*1e9)));return{amountOut:c,minAmountOut:y,currentPrice:e.currentPrice,executionPrice:f,priceImpact:A,fee:b,remainingAccounts:u}}static estimateAprsForPriceRangeMultiplier({poolInfo:e,aprType:t,positionTickLowerIndex:n,positionTickUpperIndex:i}){let r=e[t],o=this.getTickPrice({poolInfo:e,tick:n,baseIn:!0}).price.toNumber(),a=this.getTickPrice({poolInfo:e,tick:i,baseIn:!0}).price.toNumber(),c=Math.max(o,r.priceMin),m=Math.min(a,r.priceMax)-c,b=a-o,l=r.priceMax-r.priceMin,f;return m<=0?f=0:b===m?f=l/m:l===m?f=m/b:f=m/l*(m/b),{feeApr:r.feeApr*f,rewardsApr:[r.rewardApr.A*f,r.rewardApr.B*f,r.rewardApr.C*f],apr:r.apr*f}}static estimateAprsForPriceRangeDelta({poolInfo:e,aprType:t,mintPrice:n,rewardMintDecimals:i,liquidity:r,positionTickLowerIndex:o,positionTickUpperIndex:a,chainTime:c}){let u=t==="day"?1:t==="week"?7:t==="month"?30:0,m=e[t],b=n[e.mintA.mint.toString()],l=n[e.mintB.mint.toString()],f=e.mintA.decimals,y=e.mintB.decimals;if(!m||!b||!l)return{feeApr:0,rewardsApr:[0,0,0],apr:0};let p=G.getSqrtPriceX64FromTick(o),A=G.getSqrtPriceX64FromTick(a),{amountSlippageA:k,amountSlippageB:T}=X.getAmountsFromLiquidityWithSlippage(e.sqrtPriceX64,p,A,e.liquidity,!1,!1,0),{amountSlippageA:I,amountSlippageB:P}=X.getAmountsFromLiquidityWithSlippage(e.sqrtPriceX64,p,A,r,!1,!1,0),w=new ee.default(k.toString()).div(new ee.default(10).pow(f)).mul(b.toFixed(f)).add(new ee.default(T.toString()).div(new ee.default(10).pow(y)).mul(l.toFixed(y))),N=new ee.default(I.toString()).div(new ee.default(10).pow(f)).mul(b.toFixed(f)).add(new ee.default(P.toString()).div(new ee.default(10).pow(y)).mul(l.toFixed(y))),R=N.div(w.add(N)).div(N),V=new ee.default(m.volumeFee).mul(365).div(u).mul(R).mul(100).toNumber(),z=3600*24*365,j=e.rewardInfos.map(Y=>{let ie=i[Y.tokenMint.toString()],se=n[Y.tokenMint.toString()];return c<Y.openTime.toNumber()||c>Y.endTime.toNumber()||Y.perSecond.equals(0)||!se||ie===void 0?0:new ee.default(se.toFixed(ie)).mul(Y.perSecond.mul(z)).div(new ee.default(10).pow(ie)).mul(R).mul(100).toNumber()});return{feeApr:V,rewardsApr:j,apr:V+j.reduce((Y,ie)=>Y+ie,0)}}static fetchMultiplePoolInfos(o){return E(this,arguments,function*({connection:e,poolKeys:t,ownerInfo:n,chainTime:i,batchRequest:r=!1}){var b;let a=yield Ve(e,t.map(l=>new $.PublicKey(l.id)),{batchRequest:r}),c=[],u={},m=[];for(let l=0;l<t.length;l++){let f=t[l],y=a[l];if(y===null)continue;let p=pi.decode(y.data);u[f.id]={state:{id:new $.PublicKey(f.id),mintA:{mint:p.mintA,vault:p.vaultA,decimals:p.mintDecimalsA},mintB:{mint:p.mintB,vault:p.vaultB,decimals:p.mintDecimalsB},observationId:p.observationId,ammConfig:we(q({},f.ammConfig),{id:new $.PublicKey(f.ammConfig.id)}),creator:p.creator,programId:y.owner,version:6,tickSpacing:p.tickSpacing,liquidity:p.liquidity,sqrtPriceX64:p.sqrtPriceX64,currentPrice:G.sqrtPriceX64ToPrice(p.sqrtPriceX64,p.mintDecimalsA,p.mintDecimalsB),tickCurrent:p.tickCurrent,observationIndex:p.observationIndex,observationUpdateDuration:p.observationUpdateDuration,feeGrowthGlobalX64A:p.feeGrowthGlobalX64A,feeGrowthGlobalX64B:p.feeGrowthGlobalX64B,protocolFeesTokenA:p.protocolFeesTokenA,protocolFeesTokenB:p.protocolFeesTokenB,swapInAmountTokenA:p.swapInAmountTokenA,swapOutAmountTokenB:p.swapOutAmountTokenB,swapInAmountTokenB:p.swapInAmountTokenB,swapOutAmountTokenA:p.swapOutAmountTokenA,tickArrayBitmap:p.tickArrayBitmap,rewardInfos:Ot.updatePoolRewardInfos({chainTime:i,poolLiquidity:p.liquidity,rewardInfos:p.rewardInfos.filter(A=>!A.tokenMint.equals($.PublicKey.default))}),day:f.day,week:f.week,month:f.month,tvl:f.tvl}},n&&m.push(...u[f.id].state.rewardInfos.filter(A=>A.creator.equals(n.wallet))),c.find(A=>A.equals(y.owner))||c.push(y.owner)}if(n){let l=n.tokenAccounts.map(I=>I.accountInfo.mint),f=[];for(let I of l)for(let P of c)f.push(mt(P,I).publicKey);let y=yield Ve(e,f,{batchRequest:r}),p={};for(let I of y){if(I===null)continue;let P=bi.decode(I.data),w=P.poolId.toString(),N=u[w];if(N===void 0)continue;let R=N.state,D=this.getTickPrice({poolInfo:R,tick:P.tickLower,baseIn:!0}),V=this.getTickPrice({poolInfo:R,tick:P.tickUpper,baseIn:!0}),{amountA:z,amountB:j}=X.getAmountsFromLiquidity(R.sqrtPriceX64,D.tickSqrtPriceX64,V.tickSqrtPriceX64,P.liquidity,!1),Y=1/(1-Math.sqrt(Math.sqrt(D.price.div(V.price).toNumber())));u[w].positionAccount=[...(b=u[w].positionAccount)!=null?b:[],{poolId:P.poolId,nftMint:P.nftMint,priceLower:D.price,priceUpper:V.price,amountA:z,amountB:j,tickLower:P.tickLower,tickUpper:P.tickUpper,liquidity:P.liquidity,feeGrowthInsideLastX64A:P.feeGrowthInsideLastX64A,feeGrowthInsideLastX64B:P.feeGrowthInsideLastX64B,tokenFeesOwedA:P.tokenFeesOwedA,tokenFeesOwedB:P.tokenFeesOwedB,rewardInfos:P.rewardInfos.map(oe=>we(q({},oe),{pendingReward:new Ae.default(0)})),leverage:Y,tokenFeeAmountA:new Ae.default(0),tokenFeeAmountB:new Ae.default(0)}];let ie=W.getTickArrayAddressByTick(u[w].state.programId,P.poolId,P.tickLower,u[w].state.tickSpacing),se=W.getTickArrayAddressByTick(u[w].state.programId,P.poolId,P.tickUpper,u[w].state.tickSpacing);p[`${u[w].state.programId.toString()}-${P.poolId.toString()}-${P.tickLower}`]=ie,p[`${u[w].state.programId.toString()}-${P.poolId.toString()}-${P.tickUpper}`]=se}let A=Object.values(p),k=yield Ve(e,A,{batchRequest:r}),T={};for(let I=0;I<A.length;I++){let P=k[I];if(P===null)continue;let w=A[I].toString();T[w]=Bt.decode(P.data)}for(let{state:I,positionAccount:P}of Object.values(u))if(!!P)for(let w of P){let N=`${I.programId.toString()}-${I.id.toString()}-${w.tickLower}`,R=`${I.programId.toString()}-${I.id.toString()}-${w.tickUpper}`,D=T[p[N].toString()],V=T[p[R].toString()],z=D.ticks[W.getTickOffsetInArray(w.tickLower,I.tickSpacing)],j=V.ticks[W.getTickOffsetInArray(w.tickUpper,I.tickSpacing)],{tokenFeeAmountA:Y,tokenFeeAmountB:ie}=Ut.GetPositionFees(I,w,z,j),se=Ut.GetPositionRewards(I,w,z,j);w.tokenFeeAmountA=Y.gte(U)?Y:U,w.tokenFeeAmountB=ie.gte(U)?ie:U;for(let oe=0;oe<se.length;oe++)w.rewardInfos[oe].pendingReward=se[oe].gte(U)?se[oe]:U}}if(m.length>0){let l=m.map(p=>p.tokenVault),f=yield Ve(e,l,{batchRequest:r}),y={};for(let p=0;p<l.length;p++){let A=l[p].toString(),k=f[p];if(k===null)continue;let T=Ct.decode(k.data);y[A]=T.amount}for(let p of m){let A=y[p.tokenVault.toString()];p.remainingRewards=A!==void 0?A.sub(p.rewardTotalEmissioned):U}}return u})}static fetchMultiplePoolTickArrays(i){return E(this,arguments,function*({connection:e,poolKeys:t,batchRequest:n}){let r={},o=[];for(let u of t){let m=W.mergeTickArrayBitmap(u.tickArrayBitmap),b=W.getTickArrayStartIndexByTick(u.tickCurrent,u.tickSpacing),l=W.getInitializedTickArrayInRange(m,u.tickSpacing,b,Math.floor(Tn/2));for(let f of l){let{publicKey:y}=be(u.programId,u.id,f);o.push({pubkey:y}),r[y.toString()]=u.id}}let a=yield ai(e,o,{batchRequest:n}),c={};for(let u of a){if(!u.accountInfo)continue;let m=r[u.pubkey.toString()];if(!m)continue;c[m]===void 0&&(c[m]={});let b=Bt.decode(u.accountInfo.data);c[m][b.startTickIndex]=we(q({},b),{address:u.pubkey})}return c})}static getWhiteListMint(n){return E(this,arguments,function*({connection:e,programId:t}){let i=yield e.getAccountInfo(jt(t).publicKey);return i?yi.decode(i.data).whitelistMints.filter(o=>!o.equals($.PublicKey.default)):[]})}};var In=require("@solana/web3.js"),Ei="675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8",Wo=new In.PublicKey(Ei),Mi="5quBtoiQqxF9Jv6KYKctB59NT3gtJD2Y65kdnB1Uev3h",Go=new In.PublicKey(Mi),qi={[Ei]:4,[Mi]:5},Ki={4:Wo,5:Go},Vi={4:3,5:3};var Yo=O([S("status"),S("nonce"),S("maxOrder"),S("depth"),S("baseDecimal"),S("quoteDecimal"),S("state"),S("resetFlag"),S("minSize"),S("volMaxCutRatio"),S("amountWaveRatio"),S("baseLotSize"),S("quoteLotSize"),S("minPriceMultiplier"),S("maxPriceMultiplier"),S("systemDecimalValue"),S("minSeparateNumerator"),S("minSeparateDenominator"),S("tradeFeeNumerator"),S("tradeFeeDenominator"),S("pnlNumerator"),S("pnlDenominator"),S("swapFeeNumerator"),S("swapFeeDenominator"),S("baseNeedTakePnl"),S("quoteNeedTakePnl"),S("quoteTotalPnl"),S("baseTotalPnl"),M("quoteTotalDeposited"),M("baseTotalDeposited"),M("swapBaseInAmount"),M("swapQuoteOutAmount"),S("swapBase2QuoteFee"),M("swapQuoteInAmount"),M("swapBaseOutAmount"),S("swapQuote2BaseFee"),B("baseVault"),B("quoteVault"),B("baseMint"),B("quoteMint"),B("lpMint"),B("openOrders"),B("marketId"),B("marketProgramId"),B("targetOrders"),B("withdrawQueue"),B("lpVault"),B("owner"),S("lpReserve"),ne(S(),3,"padding")]),Xo=O([S("accountType"),S("status"),S("nonce"),S("maxOrder"),S("depth"),S("baseDecimal"),S("quoteDecimal"),S("state"),S("resetFlag"),S("minSize"),S("volMaxCutRatio"),S("amountWaveRatio"),S("baseLotSize"),S("quoteLotSize"),S("minPriceMultiplier"),S("maxPriceMultiplier"),S("systemDecimalsValue"),S("abortTradeFactor"),S("priceTickMultiplier"),S("priceTick"),S("minSeparateNumerator"),S("minSeparateDenominator"),S("tradeFeeNumerator"),S("tradeFeeDenominator"),S("pnlNumerator"),S("pnlDenominator"),S("swapFeeNumerator"),S("swapFeeDenominator"),S("baseNeedTakePnl"),S("quoteNeedTakePnl"),S("quoteTotalPnl"),S("baseTotalPnl"),S("poolOpenTime"),S("punishPcAmount"),S("punishCoinAmount"),S("orderbookToInitTime"),M("swapBaseInAmount"),M("swapQuoteOutAmount"),M("swapQuoteInAmount"),M("swapBaseOutAmount"),S("swapQuote2BaseFee"),S("swapBase2QuoteFee"),B("baseVault"),B("quoteVault"),B("baseMint"),B("quoteMint"),B("lpMint"),B("modelDataAccount"),B("openOrders"),B("marketId"),B("marketProgramId"),B("targetOrders"),B("owner"),ne(S(),64,"padding")]),Ln={4:Yo,5:Xo};var de=require("@solana/web3.js"),Pe=ue(require("bn.js"));var _i=require("@solana/web3.js"),vi="9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",Ho=new _i.PublicKey(vi),Fi={[vi]:3},Wi={3:Ho};var Qo=O([Ie(5),Ie(8),B("ownAddress"),S("vaultSignerNonce"),B("baseMint"),B("quoteMint"),B("baseVault"),S("baseDepositsTotal"),S("baseFeesAccrued"),B("quoteVault"),S("quoteDepositsTotal"),S("quoteFeesAccrued"),S("quoteDustThreshold"),B("requestQueue"),B("eventQueue"),B("bids"),B("asks"),S("baseLotSize"),S("quoteLotSize"),S("feeRateBps"),S("referrerRebatesAccrued"),Ie(7)]),Gi={3:Qo};var Yi=require("@solana/web3.js");var on=Q.from("Serum"),At=class{static getProgramId(e){let t=Wi[e];return on.assertArgument(!!t,"invalid version","version",e),t}static getVersion(e){let t=e.toBase58(),n=Fi[t];return on.assertArgument(!!n,"invalid program id","programId",t),n}static getStateLayout(e){let t=Gi[e];return on.assertArgument(!!t,"invalid version","version",e),t}static getLayouts(e){return{state:this.getStateLayout(e)}}static getAssociatedAuthority({programId:e,marketId:t}){let n=[t.toBuffer()],i=0,r;for(;i<100;){try{let o=n.concat(Buffer.from([i]),Buffer.alloc(7));r=Yi.PublicKey.createProgramAddressSync(o,e)}catch(o){if(o instanceof TypeError)throw o;i++;continue}return{publicKey:r,nonce:i}}return on.throwArgumentError("unable to find a viable program address nonce","params",{programId:e,marketId:t})}};var Xi=require("@solana/web3.js");var ze=new Xi.PublicKey("CDSr3ssLcRB6XYPJwAfFt18MZvEZp4LjHcvzBVZ45duo"),ot=5e4,zo=O([S("x"),S("y"),S("price")]),Zo=O([S("accountType"),S("status"),S("multiplier"),S("validDataCount"),ne(zo,ot,"DataElement")]);function Jo(d,e){return[0,ot-2]}function jo(d){return[0,ot-2]}function $o(d){return[0,ot-2]}function er(d,e,t){let[n,i]=Jo(e,t),r=n,o=i,a=0,c=e*d.multiplier/t;for(;r<=o;){if(a=Math.floor((o+r)/2),a===0||a>=ot-2)return[a,a,!1];let u=d.DataElement[a].x*d.multiplier/d.DataElement[a].y,m=d.DataElement[a-1].x*d.multiplier/d.DataElement[a-1].y,b=d.DataElement[a+1].x*d.multiplier/d.DataElement[a+1].y;if(c===u)return[a,a,!0];if(c===m)return[a-1,a-1,!0];if(c===b)return[a+1,a+1,!0];if(c<m)o=a-1;else{if(c>m&&c<u)return[a-1,a,!0];if(c>u&&c<b)return[a,a+1,!0];r=a+1}}return[a,a,!1]}function xn(d,e,t){let[n,i,r]=er(d,e,t);if(!r)return 0;if(n===i){let o=d.DataElement[n].x;return e*d.multiplier/o}else{let o=d.DataElement[n].x,a=d.DataElement[n].y,c=d.DataElement[i].x,u=d.DataElement[i].y,m=t*(c*a-o*u),b=o*m,l=(c-o)*(e*a-o*t)*u,f=b+l;return e*d.multiplier*m/f}}function it(d,e,t){return e*d.multiplier/t}function Hi(d,e,t){return e*t/d.multiplier}function tr(d,e){let[t,n]=jo(e),i=t,r=n,o=0,a=e;for(;i<r;){if(o=Math.floor((r+i)/2),o<=0||o>ot-2)return[o,o,!1];let c=d.DataElement[o].x,u=d.DataElement[o-1].x,m=d.DataElement[o+1].x;if(a===c)return[o,o,!0];if(a===u)return[o-1,o-1,!0];if(a===m)return[o+1,o+1,!0];if(a<u)r=o-1;else{if(a>u&&a<c)return[o-1,o,!0];if(a>c&&a<m)return[o,o+1,!0];i=o+1}}return[o,o,!1]}function nr(d,e){let[t,n]=$o(e),i=t,r=n,o=0,a=e;for(;i<=r;){if(o=Math.floor((r+i)/2),o<=0||o>=ot-2)return[o,o,!1];let c=d.DataElement[o].y,u=d.DataElement[o-1].y,m=d.DataElement[o+1].y;if(a===c)return[o,o,!0];if(a===u)return[o-1,o-1,!0];if(a===m)return[o+1,o+1,!0];if(a<m)i=o+1;else{if(a<u&&a>c)return[o-1,o,!0];if(a<c&&a>m)return[o,o+1,!0];r=o-1}}return[o,o,!1]}function Qi(d,e,t,n){let i=n?e+t:e-t,[r,o,a]=tr(d,i);if(!a)return[0,0,!1,a];if(r===o)return[d.DataElement[o].price,d.DataElement[o].y,!1,a];{let c=d.DataElement[r].x,u=d.DataElement[o].x,m=d.DataElement[r].price,b=d.DataElement[o].price,l=d.DataElement[r].y,f=d.DataElement[o].y;if(e>=c&&e<=u)return n?[b,f,!0,a]:[m,l,!0,a];{let y,p;return n?(y=m+(b-m)*(e-c)/(u-c),p=l-(i-c)*d.multiplier/b):(y=m+(b-m)*(e-c)/(u-c),p=f+(u-i)*d.multiplier/m),[y,p,!1,a]}}}function ir(d,e,t,n){let i=n?e-t:e+t,[r,o,a]=nr(d,i);if(!a)return[0,0,!1,a];if(r===o)return[d.DataElement[o].price,d.DataElement[o].x,!1,a];{let c=d.DataElement[r].x,u=d.DataElement[o].x,m=d.DataElement[r].price,b=d.DataElement[o].price,l=d.DataElement[r].y,f=d.DataElement[o].y;if(e>=f&&e<=l)return n?[b,u,!0,a]:[m,c,!0,a];{let y,p;return n?(y=m+(b-m)*(l-e)/(l-f),p=c+b*(l-i)/d.multiplier):(y=m+(b-m)*(l-e)/(l-f),p=u-m*(i-f)/d.multiplier),[y,p,!1,a]}}}function or(d,e){let t=Qi(d,e,0,!1);return t[3]?t[0]:0}function zi(d,e,t,n){let i=xn(d,e,t),r=it(d,e,i),o=it(d,t,i),a=it(d,n,i),c=!0,[u,m,b,l]=Qi(d,r,a,c);if(!l)return 0;if(b)return n*d.multiplier/u;{let f=o-m;return Hi(d,f,i)}}function Zi(d,e,t,n){let i=xn(d,e,t),r=it(d,e,i),o=it(d,t,i),a=it(d,n,i),c=!1,[u,m,b,l]=ir(d,o,a,c);if(!l)return 0;if(b)return n*u/d.multiplier;{let f=r-m;return Hi(d,f,i)}}function Ji(d){let e=Zo.decode(d);return{accountType:e.accountType.toNumber(),status:e.status.toNumber(),multiplier:e.multiplier.toNumber(),validDataCount:e.validDataCount.toNumber(),DataElement:e.DataElement.map(t=>({x:t.x.toNumber(),y:t.y.toNumber(),price:t.price.toNumber()}))}}function ji(d,e,t,n){let i=or(d,it(d,e,xn(d,e,t)))/d.multiplier;return n?i:1/i}var x=Q.from("Liquidity"),Et={accountType:0,status:0,multiplier:0,validDataCount:0,DataElement:[]};function Rn(d){return E(this,null,function*(){if(Et.validDataCount===0&&d){let e=yield d.getAccountInfo(ze);e&&(Et=Ji(e==null?void 0:e.data))}})}var $i=new Pe.default(25),hn=new Pe.default(1e4),St=class extends _e{static getProgramId(e){let t=Ki[e];return x.assertArgument(!!t,"invalid version","version",e),t}static getVersion(e){let t=e.toBase58(),n=qi[t];return x.assertArgument(!!n,"invalid program id","programId",t),n}static getSerumVersion(e){let t=Vi[e];return x.assertArgument(!!t,"invalid version","version",e),t}static getStateLayout(e){let t=Ln[e];return x.assertArgument(!!t,"invalid version","version",e),t}static getLayouts(e){return{state:this.getStateLayout(e)}}static getAssociatedId({programId:e,marketId:t}){let{publicKey:n}=ae([e.toBuffer(),t.toBuffer(),Buffer.from("amm_associated_seed","utf-8")],e);return n}static getAssociatedAuthority({programId:e}){return ae([Buffer.from([97,109,109,32,97,117,116,104,111,114,105,116,121])],e)}static getAssociatedBaseVault({programId:e,marketId:t}){let{publicKey:n}=ae([e.toBuffer(),t.toBuffer(),Buffer.from("coin_vault_associated_seed","utf-8")],e);return n}static getAssociatedQuoteVault({programId:e,marketId:t}){let{publicKey:n}=ae([e.toBuffer(),t.toBuffer(),Buffer.from("pc_vault_associated_seed","utf-8")],e);return n}static getAssociatedLpMint({programId:e,marketId:t}){let{publicKey:n}=ae([e.toBuffer(),t.toBuffer(),Buffer.from("lp_mint_associated_seed","utf-8")],e);return n}static getAssociatedLpVault({programId:e,marketId:t}){let{publicKey:n}=ae([e.toBuffer(),t.toBuffer(),Buffer.from("temp_lp_token_associated_seed","utf-8")],e);return n}static getAssociatedTargetOrders({programId:e,marketId:t}){let{publicKey:n}=ae([e.toBuffer(),t.toBuffer(),Buffer.from("target_associated_seed","utf-8")],e);return n}static getAssociatedWithdrawQueue({programId:e,marketId:t}){let{publicKey:n}=ae([e.toBuffer(),t.toBuffer(),Buffer.from("withdraw_associated_seed","utf-8")],e);return n}static getAssociatedOpenOrders({programId:e,marketId:t}){let{publicKey:n}=ae([e.toBuffer(),t.toBuffer(),Buffer.from("open_order_associated_seed","utf-8")],e);return n}static getAssociatedPoolKeys({version:e,marketVersion:t,marketId:n,baseMint:i,quoteMint:r,baseDecimals:o,quoteDecimals:a,programId:c,marketProgramId:u}){let m=this.getAssociatedId({programId:c,marketId:n}),b=this.getAssociatedLpMint({programId:c,marketId:n}),{publicKey:l,nonce:f}=this.getAssociatedAuthority({programId:c}),y=this.getAssociatedBaseVault({programId:c,marketId:n}),p=this.getAssociatedQuoteVault({programId:c,marketId:n}),A=this.getAssociatedLpVault({programId:c,marketId:n}),k=this.getAssociatedOpenOrders({programId:c,marketId:n}),T=this.getAssociatedTargetOrders({programId:c,marketId:n}),I=this.getAssociatedWithdrawQueue({programId:c,marketId:n}),{publicKey:P}=At.getAssociatedAuthority({programId:u,marketId:n});return{id:m,baseMint:i,quoteMint:r,lpMint:b,baseDecimals:o,quoteDecimals:a,lpDecimals:o,version:e,programId:c,authority:l,nonce:f,baseVault:y,quoteVault:p,lpVault:A,openOrders:k,targetOrders:T,withdrawQueue:I,marketVersion:t,marketProgramId:u,marketId:n,marketAuthority:P}}static makeAddLiquidityInstruction(e){let{poolKeys:t,userKeys:n,baseAmountIn:i,quoteAmountIn:r,fixedSide:o}=e,{version:a}=t;if(a===4||a===5){let c=O([F("instruction"),S("baseAmountIn"),S("quoteAmountIn"),S("fixedSide")]),u=Buffer.alloc(c.span);c.encode({instruction:3,baseAmountIn:H(i),quoteAmountIn:H(r),fixedSide:H(o==="base"?0:1)},u);let m=[L(Z.TOKEN_PROGRAM_ID,!1),g(t.id,!1),L(t.authority,!1),L(t.openOrders,!1),g(t.targetOrders,!1),g(t.lpMint,!1),g(t.baseVault,!1),g(t.quoteVault,!1)];return a===5&&m.push(g(ze,!1)),m.push(L(t.marketId,!1),g(n.baseTokenAccount,!1),g(n.quoteTokenAccount,!1),g(n.lpTokenAccount,!1),L(n.owner,!0),L(t.marketEventQueue,!1)),new de.TransactionInstruction({programId:t.programId,keys:m,data:u})}return x.throwArgumentError("invalid version","poolKeys.version",a)}static makeAddLiquidityTransaction(e){return E(this,null,function*(){let{connection:t,poolKeys:n,userKeys:i,amountInA:r,amountInB:o,fixedSide:a,config:c}=e,{lpMint:u}=n,{tokenAccounts:m,owner:b,payer:l=b}=i;x.debug("amountInA:",r),x.debug("amountInB:",o),x.assertArgument(!r.isZero()&&!o.isZero(),"amounts must greater than zero","amountInA & amountInB",{amountInA:r.toFixed(),amountInB:o.toFixed()});let{bypassAssociatedCheck:f}=q({bypassAssociatedCheck:!1},c),y=r instanceof K?r.token:h.WSOL,p=o instanceof K?o.token:h.WSOL,A=this._selectTokenAccount({tokenAccounts:m,mint:y.mint,owner:b,config:{associatedOnly:!1}}),k=this._selectTokenAccount({tokenAccounts:m,mint:p.mint,owner:b,config:{associatedOnly:!1}});x.assertArgument(!!A||!!k,"cannot found target token accounts","tokenAccounts",m);let T=this._selectTokenAccount({tokenAccounts:m,mint:u,owner:b}),I=[y,p],P=[A,k],w=[r.raw,o.raw],[N]=this._getAmountsSide(r,o,n),R="base";if(N==="quote")if(I.reverse(),P.reverse(),w.reverse(),a==="a")R="quote";else if(a==="b")R="base";else return x.throwArgumentError("invalid fixedSide","fixedSide",a);else if(N==="base")if(a==="a")R="base";else if(a==="b")R="quote";else return x.throwArgumentError("invalid fixedSide","fixedSide",a);else return x.throwArgumentError("invalid fixedSide","fixedSide",a);let[D,V]=I,[z,j]=P,[Y,ie]=w,se=[],oe=[],Ne=[],Vt=yield this._handleTokenAccount({connection:t,side:"in",amount:Y,mint:D.mint,tokenAccount:z,owner:b,payer:l,frontInstructions:se,endInstructions:oe,signers:Ne,bypassAssociatedCheck:f}),_t=yield this._handleTokenAccount({connection:t,side:"in",amount:ie,mint:V.mint,tokenAccount:j,owner:b,payer:l,frontInstructions:se,endInstructions:oe,signers:Ne,bypassAssociatedCheck:f}),kt=yield this._handleTokenAccount({connection:t,side:"out",amount:0,mint:u,tokenAccount:T,owner:b,payer:l,frontInstructions:se,endInstructions:oe,signers:Ne,bypassAssociatedCheck:f});se.push(this.makeAddLiquidityInstruction({poolKeys:n,userKeys:{baseTokenAccount:Vt,quoteTokenAccount:_t,lpTokenAccount:kt,owner:b},baseAmountIn:Y,quoteAmountIn:ie,fixedSide:R}));let Cn=new de.Transaction;return Cn.add(...se,...oe),{transaction:Cn,signers:Ne}})}static makeRemoveLiquidityInstruction(e){let{poolKeys:t,userKeys:n,amountIn:i}=e,{version:r}=t;if(r===4||r===5){let o=O([F("instruction"),S("amountIn")]),a=Buffer.alloc(o.span);o.encode({instruction:4,amountIn:H(i)},a);let c=[L(Z.TOKEN_PROGRAM_ID,!1),g(t.id,!1),L(t.authority,!1),g(t.openOrders,!1),g(t.targetOrders,!1),g(t.lpMint,!1),g(t.baseVault,!1),g(t.quoteVault,!1)];return r===5?c.push(g(ze,!1)):(c.push(g(t.withdrawQueue,!1)),c.push(g(t.lpVault,!1))),c.push(L(t.marketProgramId,!1),g(t.marketId,!1),g(t.marketBaseVault,!1),g(t.marketQuoteVault,!1),L(t.marketAuthority,!1),g(n.lpTokenAccount,!1),g(n.baseTokenAccount,!1),g(n.quoteTokenAccount,!1),L(n.owner,!0),g(t.marketEventQueue,!1),g(t.marketBids,!1),g(t.marketAsks,!1)),new de.TransactionInstruction({programId:t.programId,keys:c,data:a})}return x.throwArgumentError("invalid version","poolKeys.version",r)}static makeRemoveLiquidityTransaction(e){return E(this,null,function*(){let{connection:t,poolKeys:n,userKeys:i,amountIn:r,config:o}=e,{baseMint:a,quoteMint:c,lpMint:u}=n,{tokenAccounts:m,owner:b,payer:l=b}=i;x.debug("amountIn:",r),x.assertArgument(!r.isZero(),"amount must greater than zero","amountIn",r.toFixed()),x.assertArgument(r instanceof K&&r.token.mint.equals(u),"amountIn's token not match lpMint","amountIn",r);let f=this._selectTokenAccount({tokenAccounts:m,mint:u,owner:b,config:{associatedOnly:!1}});if(!f)return x.throwArgumentError("cannot found lpTokenAccount","tokenAccounts",m);let y=this._selectTokenAccount({tokenAccounts:m,mint:a,owner:b}),p=this._selectTokenAccount({tokenAccounts:m,mint:c,owner:b}),{bypassAssociatedCheck:A}=q({bypassAssociatedCheck:!1},o),k=[],T=[],I=[],P=f,w=yield this._handleTokenAccount({connection:t,side:"out",amount:0,mint:a,tokenAccount:y,owner:b,payer:l,frontInstructions:k,endInstructions:T,signers:I,bypassAssociatedCheck:A}),N=yield this._handleTokenAccount({connection:t,side:"out",amount:0,mint:c,tokenAccount:p,owner:b,payer:l,frontInstructions:k,endInstructions:T,signers:I,bypassAssociatedCheck:A});k.push(de.ComputeBudgetProgram.requestUnits({units:4e5,additionalFee:0})),k.push(this.makeRemoveLiquidityInstruction({poolKeys:n,userKeys:{lpTokenAccount:P,baseTokenAccount:w,quoteTokenAccount:N,owner:b},amountIn:r.raw}));let R=new de.Transaction;return R.add(...k,...T),{transaction:R,signers:I}})}static makeSwapInstruction(e){let{poolKeys:t,userKeys:n,amountIn:i,amountOut:r,fixedSide:o}=e,{version:a}=t;return a===4||a===5?o==="in"?this.makeSwapFixedInInstruction({poolKeys:t,userKeys:n,amountIn:i,minAmountOut:r},a):o==="out"?this.makeSwapFixedOutInstruction({poolKeys:t,userKeys:n,maxAmountIn:i,amountOut:r},a):x.throwArgumentError("invalid params","params",e):x.throwArgumentError("invalid version","poolKeys.version",a)}static makeSwapFixedInInstruction({poolKeys:e,userKeys:t,amountIn:n,minAmountOut:i},r){let o=O([F("instruction"),S("amountIn"),S("minAmountOut")]),a=Buffer.alloc(o.span);o.encode({instruction:9,amountIn:H(n),minAmountOut:H(i)},a);let c=[L(Z.TOKEN_PROGRAM_ID,!1),g(e.id,!1),L(e.authority,!1),g(e.openOrders,!1)];return r===4&&c.push(g(e.targetOrders,!1)),c.push(g(e.baseVault,!1),g(e.quoteVault,!1)),r===5&&c.push(g(ze,!1)),c.push(L(e.marketProgramId,!1),g(e.marketId,!1),g(e.marketBids,!1),g(e.marketAsks,!1),g(e.marketEventQueue,!1),g(e.marketBaseVault,!1),g(e.marketQuoteVault,!1),L(e.marketAuthority,!1),g(t.tokenAccountIn,!1),g(t.tokenAccountOut,!1),L(t.owner,!0)),new de.TransactionInstruction({programId:e.programId,keys:c,data:a})}static makeSwapFixedOutInstruction({poolKeys:e,userKeys:t,maxAmountIn:n,amountOut:i},r){let o=O([F("instruction"),S("maxAmountIn"),S("amountOut")]),a=Buffer.alloc(o.span);o.encode({instruction:11,maxAmountIn:H(n),amountOut:H(i)},a);let c=[L(Z.TOKEN_PROGRAM_ID,!1),g(e.id,!1),L(e.authority,!1),g(e.openOrders,!1),g(e.targetOrders,!1),g(e.baseVault,!1),g(e.quoteVault,!1)];return r===5&&c.push(g(ze,!1)),c.push(L(e.marketProgramId,!1),g(e.marketId,!1),g(e.marketBids,!1),g(e.marketAsks,!1),g(e.marketEventQueue,!1),g(e.marketBaseVault,!1),g(e.marketQuoteVault,!1),L(e.marketAuthority,!1),g(t.tokenAccountIn,!1),g(t.tokenAccountOut,!1),L(t.owner,!0)),new de.TransactionInstruction({programId:e.programId,keys:c,data:a})}static makeSwapTransaction(e){return E(this,null,function*(){let{connection:t,poolKeys:n,userKeys:i,amountIn:r,amountOut:o,fixedSide:a,config:c}=e,{tokenAccounts:u,owner:m,payer:b=m}=i;x.debug("amountIn:",r),x.debug("amountOut:",o),x.assertArgument(!r.isZero()&&!o.isZero(),"amounts must greater than zero","currencyAmounts",{amountIn:r.toFixed(),amountOut:o.toFixed()});let{bypassAssociatedCheck:l}=q({bypassAssociatedCheck:!1},c),f=r instanceof K?r.token:h.WSOL,y=o instanceof K?o.token:h.WSOL,p=this._selectTokenAccount({tokenAccounts:u,mint:f.mint,owner:m,config:{associatedOnly:!1}}),A=this._selectTokenAccount({tokenAccounts:u,mint:y.mint,owner:m}),[k,T]=[r.raw,o.raw],I=[],P=[],w=[],N=yield this._handleTokenAccount({connection:t,side:"in",amount:k,mint:f.mint,tokenAccount:p,owner:m,payer:b,frontInstructions:I,endInstructions:P,signers:w,bypassAssociatedCheck:l}),R=yield this._handleTokenAccount({connection:t,side:"out",amount:0,mint:y.mint,tokenAccount:A,owner:m,payer:b,frontInstructions:I,endInstructions:P,signers:w,bypassAssociatedCheck:l});I.push(this.makeSwapInstruction({poolKeys:n,userKeys:{tokenAccountIn:N,tokenAccountOut:R,owner:m},amountIn:k,amountOut:T,fixedSide:a}));let D=new de.Transaction;return D.add(...I,...P),{transaction:D,signers:w}})}static makeCreatePoolInstruction(e){let{poolKeys:t}=e,{version:n}=t;return n===4?this.makeCreatePoolInstructionV4(e):x.throwArgumentError("invalid version","poolKeys.version",n)}static makeCreatePoolInstructionV4({poolKeys:e,userKeys:t}){let n=O([F("instruction"),F("nonce")]),i=Buffer.alloc(n.span);n.encode({instruction:10,nonce:e.nonce},i);let r=[L(Z.TOKEN_PROGRAM_ID,!1),L(he,!1),L(tt.SYSVAR_RENT_PUBKEY,!1),g(e.targetOrders,!1),g(e.withdrawQueue,!1),L(e.authority,!1),g(e.lpMint,!1),L(e.baseMint,!1),L(e.quoteMint,!1),g(e.baseVault,!1),g(e.quoteVault,!1),g(e.lpVault,!1),L(e.marketId,!1),g(t.payer,!0)];return new de.TransactionInstruction({programId:e.programId,keys:r,data:i})}static makeCreatePoolTransaction(e){let t=new de.Transaction,n=[];return t.add(this.makeCreatePoolInstruction(e)),{transaction:t,signers:n}}static makeInitPoolInstruction(e){let{poolKeys:t}=e,{version:n}=t;return n===4?this.makeInitPoolInstructionV4(e):x.throwArgumentError("invalid version","poolKeys.version",n)}static makeInitPoolInstructionV4({poolKeys:e,userKeys:t,startTime:n}){let i=O([F("instruction"),F("nonce"),S("startTime")]),r=Buffer.alloc(i.span);i.encode({instruction:0,nonce:e.nonce,startTime:H(n)},r);let o=[L(Z.TOKEN_PROGRAM_ID,!1),L(he,!1),L(tt.SYSVAR_RENT_PUBKEY,!1),g(e.id,!1),L(e.authority,!1),g(e.openOrders,!1),g(e.lpMint,!1),L(e.baseMint,!1),L(e.quoteMint,!1),L(e.baseVault,!1),L(e.quoteVault,!1),g(e.withdrawQueue,!1),g(e.targetOrders,!1),g(t.lpTokenAccount,!1),L(e.lpVault,!1),L(e.marketProgramId,!1),L(e.marketId,!1),g(t.payer,!0)];return new de.TransactionInstruction({programId:e.programId,keys:o,data:r})}static makeInitPoolTransaction(e){return E(this,null,function*(){let{connection:t,poolKeys:n,userKeys:i,baseAmount:r,quoteAmount:o,startTime:a=0,config:c}=e,{baseMint:u,quoteMint:m,lpMint:b,baseVault:l,quoteVault:f}=n,{tokenAccounts:y,owner:p,payer:A=p}=i,{bypassAssociatedCheck:k}=q({bypassAssociatedCheck:!1},c),T=this._selectTokenAccount({tokenAccounts:y,mint:u,owner:p,config:{associatedOnly:!1}}),I=this._selectTokenAccount({tokenAccounts:y,mint:m,owner:p,config:{associatedOnly:!1}});x.assertArgument(!!T||!!I,"cannot found target token accounts","tokenAccounts",y);let P=this._selectTokenAccount({tokenAccounts:y,mint:b,owner:p}),w=[],N=[],R=[],D=yield this._handleTokenAccount({connection:t,side:"in",amount:r.raw,mint:u,tokenAccount:T,owner:p,payer:A,frontInstructions:w,endInstructions:N,signers:R,bypassAssociatedCheck:k}),V=yield this._handleTokenAccount({connection:t,side:"in",amount:o.raw,mint:m,tokenAccount:I,owner:p,payer:A,frontInstructions:w,endInstructions:N,signers:R,bypassAssociatedCheck:k}),z=yield this._handleTokenAccount({connection:t,side:"out",amount:0,mint:b,tokenAccount:P,owner:p,payer:A,frontInstructions:w,endInstructions:N,signers:R,bypassAssociatedCheck:k});w.push(ce.makeTransferInstruction({source:D,destination:l,owner:p,amount:r.raw})),w.push(ce.makeTransferInstruction({source:V,destination:f,owner:p,amount:o.raw})),w.push(this.makeInitPoolInstruction({poolKeys:n,userKeys:{lpTokenAccount:z,payer:A},startTime:a}));let j=new de.Transaction;return j.add(...w,...N),{transaction:j,signers:R}})}static makeSimulatePoolInfoInstruction({poolKeys:e}){let t=O([F("instruction"),F("simulateType")]),n=Buffer.alloc(t.span);t.encode({instruction:12,simulateType:0},n);let i=[L(e.id,!1),L(e.authority,!1),L(e.openOrders,!1),L(e.baseVault,!1),L(e.quoteVault,!1),L(e.lpMint,!1),L(e.marketId,!1),L(e.marketEventQueue,!1)];return new de.TransactionInstruction({programId:e.programId,keys:i,data:n})}static isV4(e){return e.withdrawQueue!==void 0}static fetchAllPoolKeys(e,t){return E(this,null,function*(){let n=Object.keys(Ln).map(u=>{let m=Number(u),b=this.getSerumVersion(m),l=At.getProgramId(b);return{version:m,programId:this.getProgramId(m),serumVersion:b,serumProgramId:l,stateLayout:this.getStateLayout(m)}}),i=[];try{i=yield Promise.all(n.map(({programId:u,version:m,serumVersion:b,serumProgramId:l,stateLayout:f})=>e.getProgramAccounts(u,{filters:[{dataSize:f.span}]}).then(y=>y.map(p=>we(q({},p),{version:m,programId:u,serumVersion:b,serumProgramId:l,stateLayout:f})))))}catch(u){if(u instanceof Error)return x.throwError("failed to fetch all liquidity pools",Q.errors.RPC_ERROR,{message:u.message})}let r=i.flat(),o=[];for(let{pubkey:u,account:m,version:b,programId:l,serumVersion:f,serumProgramId:y,stateLayout:p}of r){x.assertArgument(!!m,"empty state account info","pool.id",u);let{data:A}=m;x.assertArgument(A.length===p.span,"invalid state data length","pool.id",u);let k=p.decode(A),{status:T,baseMint:I,quoteMint:P,baseDecimal:w,quoteDecimal:N,lpMint:R,openOrders:D,targetOrders:V,baseVault:z,quoteVault:j,marketId:Y}=k,ie,se;if(this.isV4(k)?(ie=k.withdrawQueue,se=k.lpVault):(ie=de.PublicKey.default,se=de.PublicKey.default),T.isZero())continue;let oe=St.getAssociatedPoolKeys({version:b,marketVersion:f,marketId:Y,baseMint:I,baseDecimals:w.toNumber(),quoteMint:P,quoteDecimals:N.toNumber(),programId:l,marketProgramId:y});o.push({id:u,baseMint:I,quoteMint:P,baseDecimals:oe.baseDecimals,quoteDecimals:oe.quoteDecimals,lpDecimals:oe.lpDecimals,lpMint:R,version:b,programId:l,authority:oe.authority,openOrders:D,targetOrders:V,baseVault:z,quoteVault:j,withdrawQueue:ie,lpVault:se,marketVersion:f,marketProgramId:y,marketId:Y,marketAuthority:oe.marketAuthority})}let a=[];try{a=yield Ve(e,o.map(({marketId:u})=>u),t)}catch(u){if(u instanceof Error)return x.throwError("failed to fetch markets",Q.errors.RPC_ERROR,{message:u.message})}x.assertArgument(a.length===o.length,"markets count not equal to pools","markets.length",a.length);let c=[];for(let u in a){let m=o[u],b=a[u],{id:l,marketVersion:f}=m;if(!b)return x.throwArgumentError("empty market account info","pool.id",l);let{data:y}=b,{state:p}=At.getLayouts(f);x.assertArgument(y.length===p.span,"invalid market data length","pool.id",l);let{baseVault:A,quoteVault:k,bids:T,asks:I,eventQueue:P}=p.decode(y);c.push(we(q({},m),{marketBaseVault:A,marketQuoteVault:k,marketBids:T,marketAsks:I,marketEventQueue:P}))}return c})}static fetchInfo(n){return E(this,arguments,function*({connection:e,poolKeys:t}){let i=yield this.fetchMultipleInfo({connection:e,pools:[t]});return x.assertArgument(i.length===1,`fetchInfo failed, ${i.length} pools found`,"poolKeys.id",t.id),i[0]})}static fetchMultipleInfo(i){return E(this,arguments,function*({connection:e,pools:t,config:n}){yield Rn(e);let r=t.map(c=>this.makeSimulatePoolInfoInstruction({poolKeys:c}));return(yield Qt(e,r,"GetPoolData")).map(c=>{let u=zt(c,"GetPoolData"),m=new Pe.default(pe(u,"status")),b=Number(pe(u,"coin_decimals")),l=Number(pe(u,"pc_decimals")),f=Number(pe(u,"lp_decimals")),y=new Pe.default(pe(u,"pool_coin_amount")),p=new Pe.default(pe(u,"pool_pc_amount")),A=new Pe.default(pe(u,"pool_lp_supply")),k="0";try{k=pe(u,"pool_open_time")}catch(T){}return{status:m,baseDecimals:b,quoteDecimals:l,lpDecimals:f,baseReserve:y,quoteReserve:p,lpSupply:A,startTime:new Pe.default(k)}})})}static getEnabledFeatures(e){let{status:t}=e,n=t.toNumber();if(n===0)return{swap:!1,addLiquidity:!1,removeLiquidity:!1};if(n===1)return{swap:!0,addLiquidity:!0,removeLiquidity:!0};if(n===2)return{swap:!1,addLiquidity:!1,removeLiquidity:!1};if(n===3)return{swap:!1,addLiquidity:!1,removeLiquidity:!0};if(n===4)return{swap:!1,addLiquidity:!0,removeLiquidity:!0};if(n===5)return{swap:!1,addLiquidity:!0,removeLiquidity:!0};if(n===6)return{swap:!0,addLiquidity:!0,removeLiquidity:!0};if(n===7){let{startTime:i}=e;return Date.now()/1e3<i.toNumber()?{swap:!1,addLiquidity:!0,removeLiquidity:!0}:{swap:!0,addLiquidity:!0,removeLiquidity:!0}}else return{swap:!1,addLiquidity:!1,removeLiquidity:!1}}static includesToken(e,t){let{baseMint:n,quoteMint:i}=t;return e.mint.equals(n)||e.mint.equals(i)}static _getTokenSide(e,t){let{baseMint:n,quoteMint:i}=t;return e.mint.equals(n)?"base":e.mint.equals(i)?"quote":x.throwArgumentError("token not match with pool","params",{token:e.mint,baseMint:n,quoteMint:i})}static _getTokensSide(e,t,n){let{baseMint:i,quoteMint:r}=n,o=this._getTokenSide(e,n),a=this._getTokenSide(t,n);return x.assertArgument(o!==a,"tokens not match with pool","params",{tokenA:e.mint,tokenB:t.mint,baseMint:i,quoteMint:r}),[o,a]}static _getAmountSide(e,t){let n=e instanceof K?e.token:h.WSOL;return this._getTokenSide(n,t)}static _getAmountsSide(e,t,n){let i=e instanceof K?e.token:h.WSOL,r=t instanceof K?t.token:h.WSOL;return this._getTokensSide(i,r,n)}static computeAnotherAmount({poolKeys:e,poolInfo:t,amount:n,anotherCurrency:i,slippage:r}){let{baseReserve:o,quoteReserve:a}=t;x.debug("baseReserve:",o.toString()),x.debug("quoteReserve:",a.toString());let c=n instanceof K?n.token:n.currency;x.debug("currencyIn:",c),x.debug("amount:",n.toFixed()),x.debug("anotherCurrency:",i),x.debug("slippage:",`${r.toSignificant()}%`);let u=this._getAmountSide(n,e);x.debug("input side:",u);let m=U;n.isZero()||(m=u==="base"?ln(n.raw.mul(a),o):ln(n.raw.mul(o),a));let l=new xe(te).add(r).mul(m).quotient,f=i instanceof h?new K(i,m):new me(i,m),y=i instanceof h?new K(i,l):new me(i,l);return x.debug("anotheAmount:",f.toFixed()),x.debug("maxAnotheAmount:",y.toFixed()),{anotherAmount:f,maxAnotherAmount:y}}static _computePriceImpact(e,t,n){let i=e.raw.mul(t),r=i.sub(n).div(i);return new xe(r.numerator,r.denominator)}static getRate(e){let{baseReserve:t,quoteReserve:n,baseDecimals:i,quoteDecimals:r}=e;return new re(new Fe(i),t,new Fe(r),n)}static computeAmountIn({poolKeys:e,poolInfo:t,amountOut:n,currencyIn:i,slippage:r}){let{baseReserve:o,quoteReserve:a}=t;x.debug("baseReserve:",o.toString()),x.debug("quoteReserve:",a.toString());let c=n instanceof K?n.token:n.currency;x.debug("currencyOut:",c),x.debug("amountOut:",n.toFixed()),x.debug("currencyIn:",i),x.debug("slippage:",`${r.toSignificant()}%`);let u=[o,a],m=this._getAmountSide(n,e);m==="base"&&u.reverse(),x.debug("output side:",m);let[b,l]=u,f=new re(i,b,c,l);x.debug("currentPrice:",`1 ${i.symbol} \u2248 ${f.toFixed()} ${c.symbol}`),x.debug("currentPrice invert:",`1 ${c.symbol} \u2248 ${f.invert().toFixed()} ${i.symbol}`);let y=U,p=n.raw;if(!p.isZero()){p.gt(l)&&(p=l.sub(te));let N=l.sub(p);y=b.mul(p).div(N).mul(hn).div(hn.sub($i))}let k=new xe(te).add(r).mul(y).quotient,T=i instanceof h?new K(i,y):new me(i,y),I=i instanceof h?new K(i,k):new me(i,k);x.debug("amountIn:",T.toFixed()),x.debug("maxAmountIn:",I.toFixed());let P=null;!y.isZero()&&!p.isZero()&&(P=new re(i,y,c,p),x.debug("executionPrice:",`1 ${i.symbol} \u2248 ${P.toFixed()} ${c.symbol}`),x.debug("executionPrice invert:",`1 ${c.symbol} \u2248 ${P.invert().toFixed()} ${i.symbol}`));let w=this._computePriceImpact(f,y,p);return x.debug("priceImpact:",`${w.toSignificant()}%`),{amountIn:T,maxAmountIn:I,currentPrice:f,executionPrice:P,priceImpact:w}}},Te=St;Te.computeAmountOut=({poolKeys:e,poolInfo:t,amountIn:n,currencyOut:i,slippage:r})=>{let o=n instanceof K?n.token:h.WSOL,a=i instanceof h?i:h.WSOL;x.assertArgument(St.includesToken(o,e)&&St.includesToken(a,e),"token not match with pool","poolKeys",{poolKeys:e,tokenIn:o,tokenOut:a});let{baseReserve:c,quoteReserve:u}=t;x.debug("baseReserve:",c.toString()),x.debug("quoteReserve:",u.toString());let m=n instanceof K?n.token:n.currency;x.debug("currencyIn:",m),x.debug("amountIn:",n.toFixed()),x.debug("currencyOut:",i),x.debug("slippage:",`${r.toSignificant()}%`);let b=[c,u],l=St._getAmountSide(n,e);l==="quote"&&b.reverse(),x.debug("input side:",l);let[f,y]=b,p;if(e.version===4)p=new re(m,f,i,y);else{let Y=ji(Et,c.toNumber(),u.toNumber(),!1);l==="quote"?p=new re(m,new Pe.default(Y*1e6),i,new Pe.default(1e6)):p=new re(m,new Pe.default(1e6),i,new Pe.default(Y*1e6))}x.debug("currentPrice:",`1 ${m.symbol} \u2248 ${p.toFixed()} ${i.symbol}`),x.debug("currentPrice invert:",`1 ${i.symbol} \u2248 ${p.invert().toFixed()} ${m.symbol}`);let A=n.raw,k=U,T=U;if(!A.isZero())if(e.version===4){T=A.mul($i).div(hn);let Y=A.sub(T),ie=f.add(Y);k=y.mul(Y).div(ie)}else{T=A.mul(new Pe.default(2)).div(new Pe.default(1e4));let Y=A.sub(T);l==="quote"?k=new Pe.default(zi(Et,u.toNumber(),c.toNumber(),Y.toNumber())):k=new Pe.default(Zi(Et,u.toNumber(),c.toNumber(),Y.toNumber()))}let P=new xe(te).add(r).invert().mul(k).quotient,w=i instanceof h?new K(i,k):new me(i,k),N=i instanceof h?new K(i,P):new me(i,P);x.debug("amountOut:",w.toFixed()),x.debug("minAmountOut:",N.toFixed());let R=new re(m,A.sub(T),i,k);!A.isZero()&&!k.isZero()&&(R=new re(m,A.sub(T),i,k),x.debug("executionPrice:",`1 ${m.symbol} \u2248 ${R.toFixed()} ${i.symbol}`),x.debug("executionPrice invert:",`1 ${i.symbol} \u2248 ${R.invert().toFixed()} ${m.symbol}`));let D=R.denominator.mul(p.numerator),V=R.numerator.mul(p.denominator).sub(D).abs(),z=new xe(V,D);x.debug("priceImpact:",`${z.toSignificant()}%`);let j=m instanceof h?new K(m,T):new me(m,T);return{amountOut:w,minAmountOut:N,currentPrice:p,executionPrice:R,priceImpact:z,fee:j}};var eo=require("@solana/web3.js"),to="routeUGWgWzqBWFcrCfv8tritsqukccJPu3q5GPP3xS",Mt=new eo.PublicKey(to),no={[to]:1},io={1:Mt},oo={1:4};var Ze=require("@solana/web3.js"),qt=require("lodash");var Se=Q.from("Route"),rn=class extends _e{static getProgramId(e){let t=io[e];return Se.assertArgument(!!t,"invalid version","version",e),t}static getVersion(e){let t=e.toBase58(),n=no[t];return Se.assertArgument(!!n,"invalid program id","programId",t),n}static getLiquidityVersion(e){let t=oo[e];return Se.assertArgument(!!t,"invalid version","version",e),t}static getAssociatedMiddleStatusAccount({programId:e,fromPoolId:t,middleMint:n,owner:i}){let{publicKey:r}=ae([t.toBuffer(),n.toBuffer(),i.toBuffer()],e);return r}static makeSwapInstruction(e){let{fixedSide:t}=e;return t==="in"?[this.makeSwapInFixedInInstruction(e),this.makeSwapOutFixedInInstruction(e)]:Se.throwArgumentError("invalid params","params",e)}static makeSwapInFixedInInstruction({fromPoolKeys:e,toPoolKeys:t,userKeys:n,amountIn:i,amountOut:r}){let o=O([F("instruction"),S("amountIn"),S("amountOut")]),a=Buffer.alloc(o.span),c;return e.version===4?(o.encode({instruction:0,amountIn:H(i),amountOut:H(r)},a),c=[L(he,!1),L(Z.TOKEN_PROGRAM_ID,!1),L(e.programId,!1),g(e.id,!1),L(t.id,!1),L(e.authority,!1),g(e.openOrders,!1),g(e.baseVault,!1),g(e.quoteVault,!1),L(e.marketProgramId,!1),g(e.marketId,!1),g(e.marketBids,!1),g(e.marketAsks,!1),g(e.marketEventQueue,!1),g(e.marketBaseVault,!1),g(e.marketQuoteVault,!1),L(e.marketAuthority,!1),g(n.inTokenAccount,!1),g(n.middleTokenAccount,!1),g(n.middleStatusAccount,!1),L(n.owner,!0)]):(o.encode({instruction:2,amountIn:H(i),amountOut:H(r)},a),c=[L(he,!1),L(Z.TOKEN_PROGRAM_ID,!1),L(e.programId,!1),g(e.id,!1),L(t.id,!1),L(e.authority,!1),g(e.openOrders,!1),g(e.baseVault,!1),g(e.quoteVault,!1),L(ze,!1),L(e.marketProgramId,!1),g(e.marketId,!1),g(e.marketBids,!1),g(e.marketAsks,!1),g(e.marketEventQueue,!1),g(e.id,!1),g(e.id,!1),g(e.id,!1),g(n.inTokenAccount,!1),g(n.middleTokenAccount,!1),g(n.middleStatusAccount,!1),L(n.owner,!0)]),new Ze.TransactionInstruction({programId:Mt,keys:c,data:a})}static makeSwapOutFixedInInstruction({fromPoolKeys:e,toPoolKeys:t,userKeys:n}){let i=O([F("instruction")]),r=Buffer.alloc(i.span),o;return t.version===4?(i.encode({instruction:1},r),o=[L(Z.TOKEN_PROGRAM_ID,!1),L(t.programId,!1),L(e.id,!1),g(t.id,!1),L(t.authority,!1),g(t.openOrders,!1),g(t.baseVault,!1),g(t.quoteVault,!1),L(t.marketProgramId,!1),g(t.marketId,!1),g(t.marketBids,!1),g(t.marketAsks,!1),g(t.marketEventQueue,!1),g(t.marketBaseVault,!1),g(t.marketQuoteVault,!1),L(t.marketAuthority,!1),g(n.middleTokenAccount,!1),g(n.outTokenAccount,!1),g(n.middleStatusAccount,!1),L(n.owner,!0)]):(i.encode({instruction:3},r),o=[L(Z.TOKEN_PROGRAM_ID,!1),L(t.programId,!1),L(e.id,!1),g(t.id,!1),L(t.authority,!1),g(t.openOrders,!1),g(t.baseVault,!1),g(t.quoteVault,!1),L(ze,!1),L(t.marketProgramId,!1),g(t.marketId,!1),g(t.marketBids,!1),g(t.marketAsks,!1),g(t.marketEventQueue,!1),g(t.id,!1),g(t.id,!1),g(t.id,!1),g(n.middleTokenAccount,!1),g(n.outTokenAccount,!1),g(n.middleStatusAccount,!1),L(n.owner,!0)]),new Ze.TransactionInstruction({programId:Mt,keys:o,data:r})}static makeSwapTransaction(e){return E(this,null,function*(){let{connection:t,fromPoolKeys:n,toPoolKeys:i,userKeys:r,amountIn:o,amountOut:a,fixedSide:c,config:u}=e,{tokenAccounts:m,owner:b}=r;Se.debug("amountIn:",o),Se.debug("amountOut:",a),Se.assertArgument(!o.isZero()&&!a.isZero(),"amounts must greater than zero","currencyAmounts",{amountIn:o.toFixed(),amountOut:a.toFixed()});let{bypassAssociatedCheck:l}=q({bypassAssociatedCheck:!1},u),f=o instanceof K?o.token:h.WSOL,y=a instanceof K?a.token:h.WSOL,p=this._selectTokenAccount({tokenAccounts:m,mint:f.mint,owner:b,config:{associatedOnly:!1}}),A=this._selectTokenAccount({tokenAccounts:m,mint:y.mint,owner:b}),k=[n.baseMint.toBase58(),n.quoteMint.toBase58()],T=[i.baseMint.toBase58(),i.quoteMint.toBase58()],P=(0,qt.intersection)(k,T)[0],w=new Ze.PublicKey(P),N=this._selectTokenAccount({tokenAccounts:m,mint:w,owner:b}),[R,D]=[o.raw,a.raw],V=[],z=[],j=[],Y=yield this._handleTokenAccount({connection:t,side:"in",amount:R,mint:f.mint,tokenAccount:p,owner:b,frontInstructions:V,signers:z,bypassAssociatedCheck:l}),ie=yield this._handleTokenAccount({connection:t,side:"out",amount:0,mint:y.mint,tokenAccount:A,owner:b,frontInstructions:V,signers:z,bypassAssociatedCheck:l}),se=yield this._handleTokenAccount({connection:t,side:"in",amount:0,mint:w,tokenAccount:N,owner:b,frontInstructions:V,signers:z,bypassAssociatedCheck:l});j.push(...this.makeSwapInstruction({fromPoolKeys:n,toPoolKeys:i,userKeys:{inTokenAccount:Y,outTokenAccount:ie,middleTokenAccount:se,middleStatusAccount:this.getAssociatedMiddleStatusAccount({programId:Mt,fromPoolId:n.id,middleMint:w,owner:b}),owner:b},amountIn:R,amountOut:D,fixedSide:c}));let oe=null,Ne=null;return V.length>0&&(oe={transaction:new Ze.Transaction().add(...V),signers:z}),j.length>0&&(Ne={transaction:new Ze.Transaction().add(...j),signers:[]}),{setupTransaction:oe,swapTransaction:Ne}})}static computeAmountOut({fromPoolKeys:e,toPoolKeys:t,fromPoolInfo:n,toPoolInfo:i,amountIn:r,currencyOut:o,slippage:a}){let{swap:c}=Te.getEnabledFeatures(n),{swap:u}=Te.getEnabledFeatures(i);Se.assertArgument(c&&u,"pools swap not enabled","pools",{fromPoolKeys:e,toPoolKeys:t,fromPoolInfo:n,toPoolInfo:i});let m=r instanceof K?r.token:h.WSOL,b=o instanceof h?o:h.WSOL;Se.assertArgument(Te.includesToken(m,e)&&Te.includesToken(b,t),"pools cannot be routed","pools",{fromPoolKeys:e,toPoolKeys:t});let l=[e.baseMint.toBase58(),e.quoteMint.toBase58()],f=[t.baseMint.toBase58(),t.quoteMint.toBase58()],y=[...l,...f],p=[n.baseDecimals,n.quoteDecimals,i.baseDecimals,i.quoteDecimals],A=m.mint.toBase58(),k=b.mint.toBase58(),T=(0,qt.xor)(l,f);Se.assertArgument(T.length===2&&T.includes(A)&&T.includes(k),"xor tokens not match","pools",{fromPoolKeys:e,toPoolKeys:t});let I=(0,qt.intersection)(l,f);Se.assertArgument(I.length===1,"cannot found middle token of two pools","pools",{fromPoolKeys:e,toPoolKeys:t});let P=I[0],w=y.indexOf(P),N=p[w],R=new Ze.PublicKey(P),D=new h(R,N);Se.debug("from pool:",e),Se.debug("to pool:",t),Se.debug("intersection mints:",I),Se.debug("xor mints:",T),Se.debug("middleMint:",P);let{minAmountOut:V,priceImpact:z,fee:j}=Te.computeAmountOut({poolKeys:e,poolInfo:n,amountIn:r,currencyOut:D,slippage:a}),{amountOut:Y,minAmountOut:ie,priceImpact:se,fee:oe}=Te.computeAmountOut({poolKeys:t,poolInfo:i,amountIn:V,currencyOut:o,slippage:a}),Ne=null,Vt=r.raw,_t=Y.raw,kt=r instanceof K?r.token:r.currency;return!Vt.isZero()&&!_t.isZero()&&(Ne=new re(kt,Vt,o,_t),Se.debug("executionPrice:",`1 ${kt.symbol} \u2248 ${Ne.toFixed()} ${o.symbol}`),Se.debug("executionPrice invert:",`1 ${o.symbol} \u2248 ${Ne.invert().toFixed()} ${kt.symbol}`)),{amountOut:Y,minAmountOut:ie,executionPrice:Ne,priceImpact:z.add(se),fee:[j,oe]}}};var Bn=require("@solana/spl-token"),Me=require("@solana/web3.js");function ro(d,e,t,n,i,r,o,a,c,u,m){let b=O([F("instruction"),S("amountIn"),S("amountOut")]),l=[{pubkey:he,isSigner:!1,isWritable:!1},{pubkey:Bn.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:new Me.PublicKey(String(e.programId)),isSigner:!1,isWritable:!1},{pubkey:new Me.PublicKey(String(e.id)),isSigner:!1,isWritable:!0},{pubkey:new Me.PublicKey(String(t.id)),isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!0,isWritable:!1}];if(e.version===6){let y=e;l.push({pubkey:y.ammConfig.id,isSigner:!1,isWritable:!1},{pubkey:y.id,isSigner:!1,isWritable:!0},{pubkey:y.mintA.mint.equals(a)?y.mintA.vault:y.mintB.vault,isSigner:!1,isWritable:!0},{pubkey:y.mintA.mint.equals(a)?y.mintB.vault:y.mintA.vault,isSigner:!1,isWritable:!0},{pubkey:y.observationId,isSigner:!1,isWritable:!0},...m.map(p=>({pubkey:p,isSigner:!1,isWritable:!0})))}else if(e.version===5){let y=Ce(e);l.push({pubkey:y.authority,isSigner:!1,isWritable:!1},{pubkey:y.marketProgramId,isSigner:!1,isWritable:!1},{pubkey:y.id,isSigner:!1,isWritable:!0},{pubkey:new Me.PublicKey("CDSr3ssLcRB6XYPJwAfFt18MZvEZp4LjHcvzBVZ45duo"),isSigner:!1,isWritable:!1},{pubkey:y.openOrders,isSigner:!1,isWritable:!0},{pubkey:y.baseVault,isSigner:!1,isWritable:!0},{pubkey:y.quoteVault,isSigner:!1,isWritable:!0},{pubkey:y.marketId,isSigner:!1,isWritable:!0},{pubkey:y.marketBids,isSigner:!1,isWritable:!0},{pubkey:y.marketAsks,isSigner:!1,isWritable:!0},{pubkey:y.marketEventQueue,isSigner:!1,isWritable:!0},{pubkey:y.id,isSigner:!1,isWritable:!0},{pubkey:y.id,isSigner:!1,isWritable:!0})}else if(e.version===4){let y=Ce(e);l.push({pubkey:y.authority,isSigner:!1,isWritable:!1},{pubkey:y.marketProgramId,isSigner:!1,isWritable:!1},{pubkey:y.marketAuthority,isSigner:!1,isWritable:!1},{pubkey:y.openOrders,isSigner:!1,isWritable:!0},{pubkey:y.baseVault,isSigner:!1,isWritable:!0},{pubkey:y.quoteVault,isSigner:!1,isWritable:!0},{pubkey:y.marketId,isSigner:!1,isWritable:!0},{pubkey:y.marketBids,isSigner:!1,isWritable:!0},{pubkey:y.marketAsks,isSigner:!1,isWritable:!0},{pubkey:y.marketEventQueue,isSigner:!1,isWritable:!0},...y.marketProgramId.toString()==="srmqPvymJeFKQ4zGQed1GFppgkRHL9kaELCbyksJtPX"?[{pubkey:y.marketBaseVault,isSigner:!1,isWritable:!0},{pubkey:y.marketQuoteVault,isSigner:!1,isWritable:!0}]:[{pubkey:y.id,isSigner:!1,isWritable:!0},{pubkey:y.id,isSigner:!1,isWritable:!0}])}let f=Buffer.alloc(b.span);return b.encode({instruction:4,amountIn:c,amountOut:u},f),new Me.TransactionInstruction({keys:l,programId:d,data:f})}function so(d,e,t,n,i,r,o,a,c){let u=O([F("instruction")]),m=[{pubkey:he,isSigner:!1,isWritable:!1},{pubkey:Bn.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:new Me.PublicKey(String(t.programId)),isSigner:!1,isWritable:!1},{pubkey:new Me.PublicKey(String(t.id)),isSigner:!1,isWritable:!0},{pubkey:new Me.PublicKey(String(e.id)),isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!0,isWritable:!1}];if(t.version===6){let l=t;m.push({pubkey:l.ammConfig.id,isSigner:!1,isWritable:!1},{pubkey:l.id,isSigner:!1,isWritable:!0},{pubkey:l.mintA.mint.equals(a)?l.mintA.vault:l.mintB.vault,isSigner:!1,isWritable:!0},{pubkey:l.mintA.mint.equals(a)?l.mintB.vault:l.mintA.vault,isSigner:!1,isWritable:!0},{pubkey:l.observationId,isSigner:!1,isWritable:!0},...c.map(f=>({pubkey:f,isSigner:!1,isWritable:!0})))}else if(t.version===5){let l=Ce(t);m.push({pubkey:l.authority,isSigner:!1,isWritable:!1},{pubkey:l.marketProgramId,isSigner:!1,isWritable:!1},{pubkey:l.id,isSigner:!1,isWritable:!0},{pubkey:new Me.PublicKey("CDSr3ssLcRB6XYPJwAfFt18MZvEZp4LjHcvzBVZ45duo"),isSigner:!1,isWritable:!1},{pubkey:l.openOrders,isSigner:!1,isWritable:!0},{pubkey:l.baseVault,isSigner:!1,isWritable:!0},{pubkey:l.quoteVault,isSigner:!1,isWritable:!0},{pubkey:l.marketId,isSigner:!1,isWritable:!0},{pubkey:l.marketBids,isSigner:!1,isWritable:!0},{pubkey:l.marketAsks,isSigner:!1,isWritable:!0},{pubkey:l.marketEventQueue,isSigner:!1,isWritable:!0},{pubkey:l.id,isSigner:!1,isWritable:!0},{pubkey:l.id,isSigner:!1,isWritable:!0})}else if(t.version===4){let l=Ce(t);m.push({pubkey:l.authority,isSigner:!1,isWritable:!1},{pubkey:l.marketProgramId,isSigner:!1,isWritable:!1},{pubkey:l.marketAuthority,isSigner:!1,isWritable:!1},{pubkey:l.openOrders,isSigner:!1,isWritable:!0},{pubkey:l.baseVault,isSigner:!1,isWritable:!0},{pubkey:l.quoteVault,isSigner:!1,isWritable:!0},{pubkey:l.marketId,isSigner:!1,isWritable:!0},{pubkey:l.marketBids,isSigner:!1,isWritable:!0},{pubkey:l.marketAsks,isSigner:!1,isWritable:!0},{pubkey:l.marketEventQueue,isSigner:!1,isWritable:!0},...l.marketProgramId.toString()==="srmqPvymJeFKQ4zGQed1GFppgkRHL9kaELCbyksJtPX"?[{pubkey:l.marketBaseVault,isSigner:!1,isWritable:!0},{pubkey:l.marketQuoteVault,isSigner:!1,isWritable:!0}]:[{pubkey:l.id,isSigner:!1,isWritable:!0},{pubkey:l.id,isSigner:!1,isWritable:!0}])}let b=Buffer.alloc(u.span);return u.encode({instruction:5},b),new Me.TransactionInstruction({keys:m,programId:d,data:b})}var Kt=class extends _e{static getAllRoute({inputMint:e,outputMint:t,apiPoolList:n,ammV3List:i}){var f,y;let r={},o={},a=[],c={};for(let p of i!=null?i:[]){if((p.mintA.mint.equals(e)&&p.mintB.mint.equals(t)||p.mintA.mint.equals(t)&&p.mintB.mint.equals(e))&&(a.push(p),o[p.id.toString()]=p),p.mintA.mint.equals(e)){let A=p.mintB.mint.toString();c[A]===void 0&&(c[A]={in:[],out:[],mDecimals:p.mintB.decimals}),c[A].in.push(p)}if(p.mintB.mint.equals(e)){let A=p.mintA.mint.toString();c[A]===void 0&&(c[A]={in:[],out:[],mDecimals:p.mintA.decimals}),c[A].in.push(p)}if(p.mintA.mint.equals(t)){let A=p.mintB.mint.toString();c[A]===void 0&&(c[A]={in:[],out:[],mDecimals:p.mintB.decimals}),c[A].out.push(p)}if(p.mintB.mint.equals(t)){let A=p.mintA.mint.toString();c[A]===void 0&&(c[A]={in:[],out:[],mDecimals:p.mintA.decimals}),c[A].out.push(p)}}let u=[],m=e.toString(),b=t.toString();for(let p of(f=(n!=null?n:{}).official)!=null?f:[])(p.baseMint===m&&p.quoteMint===b||p.baseMint===b&&p.quoteMint===m)&&(a.push(p),r[p.id]=p,u.push(p)),p.baseMint===m&&(c[p.quoteMint]===void 0&&(c[p.quoteMint]={in:[],out:[],mDecimals:p.quoteDecimals}),c[p.quoteMint].in.push(p)),p.quoteMint===m&&(c[p.baseMint]===void 0&&(c[p.baseMint]={in:[],out:[],mDecimals:p.baseDecimals}),c[p.baseMint].in.push(p)),p.baseMint===b&&(c[p.quoteMint]===void 0&&(c[p.quoteMint]={in:[],out:[],mDecimals:p.quoteDecimals}),c[p.quoteMint].out.push(p)),p.quoteMint===b&&(c[p.baseMint]===void 0&&(c[p.baseMint]={in:[],out:[],mDecimals:p.baseDecimals}),c[p.baseMint].out.push(p));let l=u.length===0;for(let p of(y=(n!=null?n:{}).unOfficial)!=null?y:[])(p.baseMint===m&&p.quoteMint===b||p.baseMint===b&&p.quoteMint===m)&&(a.push(p),r[p.id]=p,l&&u.push(p)),p.baseMint===m&&(c[p.quoteMint]===void 0&&(c[p.quoteMint]={in:[],out:[],mDecimals:p.quoteDecimals}),c[p.quoteMint].in.push(p)),p.quoteMint===m&&(c[p.baseMint]===void 0&&(c[p.baseMint]={in:[],out:[],mDecimals:p.baseDecimals}),c[p.baseMint].in.push(p)),p.baseMint===b&&(c[p.quoteMint]===void 0&&(c[p.quoteMint]={in:[],out:[],mDecimals:p.quoteDecimals}),c[p.quoteMint].out.push(p)),p.quoteMint===b&&(c[p.baseMint]===void 0&&(c[p.baseMint]={in:[],out:[],mDecimals:p.baseDecimals}),c[p.baseMint].out.push(p));for(let p of Object.keys(c)){if(c[p].in.length===1&&c[p].out.length===1&&String(c[p].in[0].id)===String(c[p].out[0].id)){delete c[p];continue}if(c[p].in.length===0||c[p].out.length===0){delete c[p];continue}let A=c[p];for(let k of A.in)for(let T of A.out)k.version===6&&o[k.id.toString()]===void 0?o[k.id.toString()]=k:k.version!==6&&r[k.id]===void 0&&(r[k.id]=k),T.version===6&&o[T.id.toString()]===void 0?o[T.id.toString()]=T:T.version!==6&&r[T.id]===void 0&&(r[T.id]=T)}return{directPath:a,addLiquidityPools:u,routePathDict:c,needSimulate:Object.values(r),needTickArray:Object.values(o)}}static fetchMultipleInfo(i){return E(this,arguments,function*({connection:e,pools:t,batchRequest:n=!0}){t.find(c=>c.version===5)&&(yield Rn(e));let r=t.map(c=>Te.makeSimulatePoolInfoInstruction({poolKeys:Ce(c)})),o=yield Qt(e,r,"GetPoolData",n),a={};for(let c of o){let u=zt(c,"GetPoolData"),m=JSON.parse(u).amm_id,b=new gt.default(pe(u,"status")),l=Number(pe(u,"coin_decimals")),f=Number(pe(u,"pc_decimals")),y=Number(pe(u,"lp_decimals")),p=new gt.default(pe(u,"pool_coin_amount")),A=new gt.default(pe(u,"pool_pc_amount")),k=new gt.default(pe(u,"pool_lp_supply")),T="0";try{T=pe(u,"pool_open_time")}catch(I){}a[m]={ammId:m,status:b,baseDecimals:l,quoteDecimals:f,lpDecimals:y,baseReserve:p,quoteReserve:A,lpSupply:k,startTime:new gt.default(T)}}return a})}static getAddLiquidityDefaultPool({addLiquidityPools:e,poolInfosCache:t}){if(e.length===0)return;if(e.length===1||(e.sort((i,r)=>r.version-i.version),e[0].version!==e[1].version))return e[0];let n=e.filter(i=>i.version===e[0].version);return n.sort((i,r)=>this.ComparePoolSize(i,r,t)),n[0]}static ComparePoolSize(e,t,n){let i=n[e.id],r=n[t.id];return i===void 0?1:r===void 0?-1:e.baseMint===t.baseMint?i.baseReserve.sub(r.baseReserve).gte(U)?-1:1:i.baseReserve.sub(r.quoteReserve).gte(U)?-1:1}static getAllRouteComputeAmountOut({inputTokenAmount:e,outputToken:t,directPath:n,routePathDict:i,simulateCache:r,tickCache:o,slippage:a,chainTime:c}){let u=e,m=[];for(let b of n)if(b.version===6)try{let{amountOut:l,minAmountOut:f,currentPrice:y,executionPrice:p,priceImpact:A,fee:k,remainingAccounts:T}=Qe.computeAmountOutFormat({poolInfo:b,tickArrayCache:o[b.id.toString()],amountIn:u,currencyOut:t,slippage:a});m.push({amountIn:u,amountOut:l,minAmountOut:f,currentPrice:y,executionPrice:p,priceImpact:A,fee:[k],remainingAccounts:[T],routeType:"amm",poolKey:[b],middleMint:void 0,poolReady:!0,poolType:"CLMM"})}catch(l){}else try{if(![1,6,7].includes(r[b.id].status.toNumber()))continue;let{amountOut:l,minAmountOut:f,currentPrice:y,executionPrice:p,priceImpact:A,fee:k}=Te.computeAmountOut({poolKeys:Ce(b),poolInfo:r[b.id],amountIn:u,currencyOut:t,slippage:a});m.push({amountIn:u,amountOut:l,minAmountOut:f,currentPrice:y,executionPrice:p,priceImpact:A,fee:[k],routeType:"amm",poolKey:[b],remainingAccounts:[],middleMint:void 0,poolReady:r[b.id].startTime.toNumber()<c,poolType:b.version===5?"STABLE":void 0})}catch(l){}for(let[b,l]of Object.entries(i))for(let f of l.in)if(!(!r[f.id]&&!o[f.id.toString()])&&!(f.version!==6&&![1,6,7].includes(r[f.id].status.toNumber()))){for(let y of l.out)if(!(!r[y.id]&&!o[y.id.toString()])&&!(y.version!==6&&![1,6,7].includes(r[y.id].status.toNumber())))try{let{amountOut:p,minAmountOut:A,executionPrice:k,priceImpact:T,fee:I,remainingAccounts:P}=Kt.computeAmountOut({middleMintInfo:{mint:new Le.PublicKey(b),decimals:l.mDecimals},amountIn:u,currencyOut:t,slippage:a,fromPool:f,toPool:y,simulateCache:r,tickCache:o}),w=f.version===6?!0:r[f.id].startTime.toNumber()<c,N=y.version===6?!0:r[y.id].startTime.toNumber()<c,R=f.version===6?"CLMM":f.version===5?"STABLE":void 0,D=y.version===6?"CLMM":y.version===5?"STABLE":void 0;m.push({amountIn:u,amountOut:p,minAmountOut:A,currentPrice:void 0,executionPrice:k,priceImpact:T,fee:I,routeType:"route",poolKey:[f,y],remainingAccounts:P,middleMint:new Le.PublicKey(b),poolReady:w&&N,poolType:[R,D]})}catch(p){}}return m.sort((b,l)=>b.amountOut.raw.sub(l.amountOut.raw).gt(U)?-1:1),m}static computeAmountOut({middleMintInfo:e,amountIn:t,currencyOut:n,slippage:i,fromPool:r,toPool:o,simulateCache:a,tickCache:c}){let u=new h(e.mint,e.decimals),m,b,l,f,y=new xe(0,100);if(r.version===6){let{minAmountOut:D,priceImpact:V,fee:z,remainingAccounts:j}=Qe.computeAmountOutFormat({poolInfo:r,tickArrayCache:c[r.id.toString()],amountIn:t,currencyOut:u,slippage:y});m=D,b=V,l=z,f=j}else{let{minAmountOut:D,priceImpact:V,fee:z}=Te.computeAmountOut({poolKeys:Ce(r),poolInfo:a[r.id],amountIn:t,currencyOut:u,slippage:y});m=D,b=V,l=z}let p,A,k,T,I;if(o.version===6){let{amountOut:D,minAmountOut:V,priceImpact:z,fee:j,remainingAccounts:Y}=Qe.computeAmountOutFormat({poolInfo:o,tickArrayCache:c[o.id.toString()],amountIn:m,currencyOut:n,slippage:i});p=D,A=V,k=z,T=j,I=Y}else{let{amountOut:D,minAmountOut:V,priceImpact:z,fee:j}=Te.computeAmountOut({poolKeys:Ce(o),poolInfo:a[o.id],amountIn:m,currencyOut:n,slippage:i});p=D,A=V,k=z,T=j}let P=null,w=t.raw,N=p.raw,R=t instanceof K?t.token:t.currency;return!w.isZero()&&!N.isZero()&&(P=new re(R,w,n,N)),{minMiddleAmountOut:m,amountOut:p,minAmountOut:A,executionPrice:P,priceImpact:b.add(k),fee:[l,T],remainingAccounts:[f,I]}}static makeSwapInstruction({routeProgram:e,ownerInfo:t,inputMint:n,swapInfo:i}){if(i.routeType==="amm")if(i.poolKey[0].version===6){let r=i.poolKey[0],o=n.equals(r.mintA.mint)?Xe.add(te):He.sub(te);return Qe.makeSwapBaseInInstructions({poolInfo:r,ownerInfo:{wallet:t.wallet,tokenAccountA:r.mintA.mint.equals(n)?t.sourceToken:t.destinationToken,tokenAccountB:r.mintA.mint.equals(n)?t.destinationToken:t.sourceToken},inputMint:n,amountIn:i.amountIn.raw,amountOutMin:i.minAmountOut.raw,sqrtPriceLimitX64:o,remainingAccounts:i.remainingAccounts[0]})}else{let r=i.poolKey[0];return{signers:[],instructions:[Te.makeSwapInstruction({poolKeys:Ce(r),userKeys:{tokenAccountIn:t.sourceToken,tokenAccountOut:t.destinationToken,owner:t.wallet},amountIn:i.amountIn.raw,amountOut:i.minAmountOut.raw,fixedSide:"in"})],address:{}}}else if(i.routeType==="route"){let r=i.poolKey[0],o=i.poolKey[1];return{signers:[],instructions:[ro(e,r,o,t.sourceToken,t.routeToken,t.userPdaAccount,t.wallet,n,i.amountIn.raw,i.minAmountOut.raw,i.remainingAccounts[0]),so(e,r,o,t.routeToken,t.destinationToken,t.userPdaAccount,t.wallet,i.middleMint,i.remainingAccounts[1])],address:{}}}else throw Error("route type error")}static makeSwapTranscation(r){return E(this,arguments,function*({connection:e,swapInfo:t,ownerInfo:n,checkTransaction:i}){let o=[],a=[],c=[],u=t.amountIn,m=t.amountOut,b=!(u instanceof K),l=!(m instanceof K),f=u instanceof K?u.token.mint:h.WSOL.mint,y=t.middleMint,p=m instanceof K?m.token.mint:h.WSOL.mint,A=new Le.PublicKey("routeUGWgWzqBWFcrCfv8tritsqukccJPu3q5GPP3xS"),k=yield this._selectOrCreateTokenAccount({mint:f,tokenAccounts:b?[]:n.tokenAccounts,createInfo:b?{connection:e,payer:n.wallet,amount:u.raw,frontInstructions:o,endInstructions:a,signers:c}:void 0,owner:n.wallet,associatedOnly:b?!1:n.associatedOnly});if(k===void 0)throw Error("input account check error");let T=yield this._selectOrCreateTokenAccount({mint:p,tokenAccounts:n.tokenAccounts,createInfo:{connection:e,payer:n.wallet,amount:0,frontInstructions:o,endInstructions:l?a:void 0,signers:c},owner:n.wallet,associatedOnly:n.associatedOnly}),I;t.routeType==="route"&&(I=yield this._selectOrCreateTokenAccount({mint:y,tokenAccounts:n.tokenAccounts,createInfo:{connection:e,payer:n.wallet,amount:0,frontInstructions:o,endInstructions:a,signers:c},owner:n.wallet,associatedOnly:!1}));let P=this.makeSwapInstruction({routeProgram:A,inputMint:f,swapInfo:t,ownerInfo:{wallet:n.wallet,sourceToken:k,routeToken:I,destinationToken:T,userPdaAccount:t.poolKey.length===2?rn.getAssociatedMiddleStatusAccount({programId:A,fromPoolId:new Le.PublicKey(String(t.poolKey[0].id)),owner:n.wallet,middleMint:t.middleMint}):void 0}}),w=[],N=[...o,...P.instructions,...a],R=[...c,...P.signers];if(i)if(Rt(N,[n.wallet,...R.map(D=>D.publicKey)]))w.push({transaction:new Le.Transaction().add(...N),signer:R});else{if(o.length>0&&w.push({transaction:new Le.Transaction().add(...o),signer:[...c]}),Rt(P.instructions,[n.wallet]))w.push({transaction:new Le.Transaction().add(...P.instructions),signer:[...P.signers]});else for(let D of P.instructions)w.push({transaction:new Le.Transaction().add(D),signer:[...P.signers]});a.length>0&&w.push({transaction:new Le.Transaction().add(...a),signer:[]})}else t.routeType==="amm"?w.push({transaction:new Le.Transaction().add(...N),signer:R}):(o.length>0&&w.push({transaction:new Le.Transaction().add(...o),signer:[...c]}),w.push({transaction:new Le.Transaction().add(...P.instructions),signer:[...P.signers]}),a.length>0&&w.push({transaction:new Le.Transaction().add(...a),signer:[]}));return{transactions:w,address:q({},P.address)}})}};0&&(module.exports={TradeV2});
//# sourceMappingURL=index.js.map