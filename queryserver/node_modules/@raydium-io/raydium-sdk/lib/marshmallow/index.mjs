var A=Object.defineProperty;var S=Object.getOwnPropertySymbols;var V=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable;var _=(t,r,e)=>r in t?A(t,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[r]=e,b=(t,r)=>{for(var e in r||(r={}))V.call(r,e)&&_(t,e,r[e]);if(S)for(var e of S(r))v.call(r,e)&&_(t,e,r[e]);return t};import{PublicKey as ke}from"@solana/web3.js";import I,{isBN as D}from"bn.js";import{bits as K,BitStructure as q,blob as R,Blob as F,cstr as G,f32 as j,f32be as z,f64 as M,f64be as O,greedy as H,Layout as J,ns64 as Q,ns64be as X,nu64 as Y,nu64be as $,offset as Z,s16 as W,s16be as ee,s24 as te,s24be as ne,s32 as re,s32be as oe,s40 as se,s40be as ue,s48 as ae,s48be as ie,s8 as ye,seq as ce,struct as Ve,Structure as pe,u16 as Pe,u16be as de,u24 as xe,u24be as be,u32 as fe,u32be as me,u40 as le,u40be as ge,u48 as Le,u48be as he,u8 as Te,UInt as Se,union as _e,Union as we,unionLayoutDiscriminator as Be,utf8 as Ue}from"@solana/buffer-layout";var c=J,w=pe,B=we,ve=q,f=Se,U=F,Ke=H,P=Te,qe=Pe,Re=xe,p=fe,Fe=le,Ge=Le,je=Y,ze=de,Me=be,Oe=me,He=ge,Je=he,Qe=$,Xe=ye,Ye=W,$e=te,Ze=re,We=se,et=ae,tt=Q,nt=ee,rt=ne,ot=oe,st=ue,ut=ie,at=X,it=j,yt=z,ct=M,pt=O;var k=ce,C=_e,Pt=Be,d=R,dt=G,xt=Ue,m=K,l=Z;var y=class extends c{constructor(e,n,o){super(e,o);this.blob=d(e),this.signed=n}decode(e,n=0){let o=new I(this.blob.decode(e,n),10,"le");return this.signed?o.fromTwos(this.span*8).clone():o}encode(e,n,o=0){return typeof e=="number"&&(e=new I(e)),this.signed&&(e=e.toTwos(this.span*8)),this.blob.encode(e.toArrayLike(Buffer,"le",this.span),n,o)}},E=class extends c{constructor(e){super(8,e);this._lower=m(p(),!1),this._upper=m(p(),!1)}addBoolean(e){this._lower.fields.length<32?this._lower.addBoolean(e):this._upper.addBoolean(e)}decode(e,n=0){let o=this._lower.decode(e,n),s=this._upper.decode(e,n+this._lower.span);return b(b({},o),s)}encode(e,n,o=0){return this._lower.encode(e,n,o)+this._upper.encode(e,n,o+this._lower.span)}};function gt(t){return new f(1,t)}function Lt(t){return new f(4,t)}function Ce(t){return new y(8,!1,t)}function ht(t){return new y(16,!1,t)}function Tt(t){return new y(8,!0,t)}function St(t){return new y(16,!0,t)}var u=class extends c{constructor(e,n,o,s){super(e.span,s);this.layout=e,this.decoder=n,this.encoder=o}decode(e,n){return this.decoder(this.layout.decode(e,n))}encode(e,n,o){return this.layout.encode(this.encoder(e),n,o)}getSpan(e,n){return this.layout.getSpan(e,n)}};function _t(t){return new u(d(32),r=>new ke(r),r=>r.toBuffer(),t)}var g=class extends c{constructor(e,n){super(-1,n);this.layout=e,this.discriminator=P()}encode(e,n,o=0){return e==null?this.discriminator.encode(0,n,o):(this.discriminator.encode(1,n,o),this.layout.encode(e,n,o+1)+1)}decode(e,n=0){let o=this.discriminator.decode(e,n);if(o===0)return null;if(o===1)return this.layout.decode(e,n+1);throw new Error("Invalid option "+this.property)}getSpan(e,n=0){let o=this.discriminator.decode(e,n);if(o===0)return 1;if(o===1)return this.layout.getSpan(e,n+1)+1;throw new Error("Invalid option "+this.property)}};function wt(t,r){return new g(t,r)}function Bt(t){return new u(P(),Ie,De,t)}function Ie(t){if(t===0)return!1;if(t===1)return!0;throw new Error("Invalid bool: "+t)}function De(t){return t?1:0}function Ut(t,r){let e=p("length"),n=x([e,N(t,l(e,-e.span),"values")]);return new u(n,({values:o})=>o,o=>({values:o}),r)}function kt(t,r,e){let n=x([Ce("tag"),r.replicate("data")]);function o({tag:s,data:a}){if(!s.eq(t))throw new Error("Invalid tag, expected: "+t.toString("hex")+", got: "+s.toString("hex"));return a}return new u(n,o,s=>({tag:t,data:s}),e)}function Ee(t){let r=p("length"),e=x([r,d(l(r,-r.span),"data")]);return new u(e,({data:n})=>n,n=>({data:n}),t)}function Ct(t){return new u(Ee(),r=>r.toString("utf-8"),r=>Buffer.from(r,"utf-8"),t)}function It(t,r){let e=C(P(),r);return t.forEach((n,o)=>e.addVariant(o,n,n.property)),e}function Dt(t,r,e){let n=x([N(t,r,"values")]);return new u(n,({values:o})=>o,o=>({values:o}),e)}var L=class extends w{decode(r,e){return super.decode(r,e)}};function x(t,r,e){return new L(t,r,e)}var h=class extends B{encodeInstruction(r){let e=Math.max(...Object.values(this.registry).map(o=>o.span)),n=Buffer.alloc(e);return n.slice(0,this.encode(r,n))}decodeInstruction(r){return this.decode(r)}};function Et(t,r,e){return new h(t,r,e)}var T=class extends U{decode(r,e){let n=super.decode(r,e);if(!n.every(o=>o===0))throw new Error("nonzero padding bytes");return n}};function Nt(t){return new T(t)}function N(t,r,e){let n,o=typeof r=="number"?r:D(r)?r.toNumber():new Proxy(r,{get(s,a){if(!n){let i=Reflect.get(s,"count");n=D(i)?i.toNumber():i,Reflect.set(s,"count",n)}return Reflect.get(s,a)},set(s,a,i){return a==="count"&&(n=i),Reflect.set(s,a,i)}});return k(t,o,e)}export{y as BNLayout,ve as BitStructure,U as Blob,c as Layout,g as OptionLayout,L as Structure,f as UInt,h as Union,E as WideBits,u as WrappedLayout,Dt as array,m as bits,d as blob,Bt as bool,dt as cstr,Ie as decodeBool,De as encodeBool,it as f32,yt as f32be,ct as f64,pt as f64be,Ke as greedy,St as i128,Tt as i64,tt as ns64,at as ns64be,je as nu64,Qe as nu64be,l as offset,wt as option,_t as publicKey,It as rustEnum,Ye as s16,nt as s16be,$e as s24,rt as s24be,Ze as s32,ot as s32be,We as s40,st as s40be,et as s48,ut as s48be,Xe as s8,N as seq,Ct as str,x as struct,kt as tagged,ht as u128,qe as u16,ze as u16be,Re as u24,Me as u24be,Lt as u32,Oe as u32be,Fe as u40,He as u40be,Ge as u48,Je as u48be,Ce as u64,gt as u8,Et as union,Pt as unionLayoutDiscriminator,xt as utf8,Ut as vec,Ee as vecU8,Nt as zeros};
//# sourceMappingURL=index.mjs.map