var Kn=Object.defineProperty,Mn=Object.defineProperties;var Vn=Object.getOwnPropertyDescriptors;var Kt=Object.getOwnPropertySymbols;var _n=Object.prototype.hasOwnProperty,vn=Object.prototype.propertyIsEnumerable;var gt=Math.pow,Mt=(d,e,t)=>e in d?Kn(d,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):d[e]=t,U=(d,e)=>{for(var t in e||(e={}))_n.call(e,t)&&Mt(d,t,e[t]);if(Kt)for(var t of Kt(e))vn.call(e,t)&&Mt(d,t,e[t]);return d},re=(d,e)=>Mn(d,Vn(e));var h=(d,e,t)=>new Promise((n,o)=>{var s=c=>{try{a(t.next(c))}catch(u){o(u)}},r=c=>{try{a(t.throw(c))}catch(u){o(u)}},a=c=>c.done?n(c.value):Promise.resolve(c.value).then(s,r);a((t=t.apply(d,e)).next())});import{Keypair as En,PublicKey as ge,SystemProgram as Vi,Transaction as ae}from"@solana/web3.js";import Z from"bn.js";import M from"decimal.js";import{AccountLayout as pn,TOKEN_PROGRAM_ID as bn}from"@solana/spl-token";import{Keypair as Ri,SystemProgram as Ni}from"@solana/web3.js";import Zn from"big.js";import ct from"bn.js";import{PublicKey as $i}from"@solana/web3.js";import{BN as to}from"bn.js";import{PublicKey as Ie,SystemProgram as Wn}from"@solana/web3.js";import{PublicKey as qn}from"@solana/web3.js";var Pt="1.1.0-beta.6";import"@colors/colors";var Vt=!1,_t=!1,nt={debug:1,default:2,info:2,warning:3,error:4,off:5},vt={},Tt;function Fn(){try{let d=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch(t){d.push(e)}}),d.length)throw new Error("missing "+d.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(d){if(d instanceof Error)return d.message}return""}var qt=Fn(),Wt=(s=>(s.DEBUG="DEBUG",s.INFO="INFO",s.WARNING="WARNING",s.ERROR="ERROR",s.OFF="OFF",s))(Wt||{}),Gt=(p=>(p.UNKNOWN_ERROR="UNKNOWN_ERROR",p.NOT_IMPLEMENTED="NOT_IMPLEMENTED",p.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",p.NETWORK_ERROR="NETWORK_ERROR",p.RPC_ERROR="RPC_ERROR",p.TIMEOUT="TIMEOUT",p.BUFFER_OVERRUN="BUFFER_OVERRUN",p.NUMERIC_FAULT="NUMERIC_FAULT",p.MISSING_NEW="MISSING_NEW",p.INVALID_ARGUMENT="INVALID_ARGUMENT",p.MISSING_ARGUMENT="MISSING_ARGUMENT",p.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",p.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",p))(Gt||{}),Ft="0123456789abcdef";function Yt(d,e=!1){let t=d;try{if(d instanceof Uint8Array){let n="";for(let o=0;o<d.length;o++)n+=Ft[d[o]>>4],n+=Ft[d[o]&15];t=`Uint8Array(0x${n})`}else if(d instanceof qn)t=`PublicKey(${d.toBase58()})`;else if(d instanceof Object&&!e){let n={};Object.entries(d).forEach(([o,s])=>{n[o]=Yt(s,!0)}),t=JSON.stringify(n)}else e||(t=JSON.stringify(d))}catch(n){t=JSON.stringify(d.toString())}return t}var F=class{constructor(e){this.version=Pt;this.moduleName=e}_log(e,t){let n=e.toLowerCase();nt[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!((vt[this.moduleName]||nt.default)>nt[n])&&console.log(...t)}debug(...e){this._log(F.levels.DEBUG,["[DEBUG]".blue,...e])}info(...e){this._log(F.levels.INFO,["[INFO]".green,...e])}warn(...e){this._log(F.levels.WARNING,["[WARN]".yellow,...e])}makeError(e,t,n){if(_t)return this.makeError("censored error",t,{});t||(t=F.errors.UNKNOWN_ERROR),n||(n={});let o=[];Object.entries(n).forEach(([a,c])=>{o.push(`${a}=${Yt(c)})`)}),o.push(`code=${t}`),o.push(`module=${this.moduleName}`),o.push(`version=${this.version}`);let s=e;o.length&&(e+=" ("+o.join(", ")+")");let r=new Error(e);return r.reason=s,r.code=t,Object.entries(n).forEach(([a,c])=>{r[a]=c}),r}throwError(e,t,n){throw this.makeError(e,t,n)}throwArgumentError(e,t,n){return this.throwError(e,F.errors.INVALID_ARGUMENT,{argument:t,value:n})}assert(e,t,n,o){e||this.throwError(t,n,o)}assertArgument(e,t,n,o){e||this.throwArgumentError(t,n,o)}checkNormalize(e){e==null&&(e="platform missing String.prototype.normalize"),qt&&this.throwError("platform missing String.prototype.normalize",F.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:qt})}checkSafeUint53(e,t){typeof e=="number"&&(t==null&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,F.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,F.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,n){n?n=": "+n:n="",e<t&&this.throwError("missing argument"+n,F.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+n,F.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||e==null)&&this.throwError("missing new",F.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",F.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",F.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return Tt||(Tt=new F(Pt)),Tt}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",F.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Vt){if(!e)return;this.globalLogger().throwError("error censorship permanent",F.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_t=!!e,Vt=!!t}static setLogLevel(e,t){let n=nt[t.toLowerCase()];if(n==null){F.globalLogger().warn("invalid log level - "+t);return}vt[e]=n}static from(e){return new F(e)}},_=F;_.errors=Gt,_.levels=Wt;import{ASSOCIATED_TOKEN_PROGRAM_ID as Ht,TOKEN_PROGRAM_ID as te}from"@solana/spl-token";import{SYSVAR_CLOCK_PUBKEY as Ji,SYSVAR_RENT_PUBKEY as zt}from"@solana/web3.js";var Xt=_.from("common/pubkey"),ve=Wn.programId,Hi=new Ie("Memo1UhkJRfHyvLMcVucJwxXeuD728EqVDDwQDxFMNo"),it=new Ie("SysvarRent111111111111111111111111111111111"),qe=new Ie("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");function Fe(d){if(d instanceof Ie)return d;if(typeof d=="string")try{return new Ie(d)}catch(e){return Xt.throwArgumentError("invalid public key","publicKey",d)}return Xt.throwArgumentError("invalid public key","publicKey",d)}function de(d,e){let[t,n]=Ie.findProgramAddressSync(d,e);return{publicKey:t,nonce:n}}import{PublicKey as so}from"@solana/web3.js";import co from"bn.js";function Qt(d,e=1,t=[]){let n=[...d];if(e<=0)return t;for(;n.length;)t.push(n.splice(0,e));return t}import{PublicKey as jt,Transaction as kt}from"@solana/web3.js";var Ye=_.from("common/web3");function Te(d,e,t){return h(this,null,function*(){let{batchRequest:n,commitment:o}=U({batchRequest:!1},t),s=Qt(e,100),r=new Array(s.length).fill([]);if(n){let a=s.map(u=>({methodName:"getMultipleAccounts",args:d._buildArgs([u.map(b=>b.toBase58())],o,"base64")}));r=(yield d._rpcBatchRequest(a)).map(u=>u.error?Ye.throwError("failed to get info for multiple accounts",_.errors.RPC_ERROR,{message:u.error.message}):u.result.value.map(l=>{if(l){let{data:b,executable:m,lamports:p,owner:y,rentEpoch:S}=l;return b.length!==2&&b[1]!=="base64"?Ye.throwError("info must be base64 encoded",_.errors.RPC_ERROR):{data:Buffer.from(b[0],"base64"),executable:m,lamports:p,owner:new jt(y),rentEpoch:S}}else return null}))}else try{r=yield Promise.all(s.map(a=>d.getMultipleAccountsInfo(a,o)))}catch(a){if(a instanceof Error)return Ye.throwError("failed to get info for multiple accounts",_.errors.RPC_ERROR,{message:a.message})}return r.flat()})}function Jt(d,e,t){return h(this,null,function*(){let n=yield Te(d,e.map(o=>o.pubkey),t);return e.map((o,s)=>re(U({},o),{accountInfo:n[s]}))})}function Gn(d,e){if(d.length<1)return Ye.throwArgumentError("no instructions provided","instructions",d);if(e.length<1)return Ye.throwArgumentError("no signers provided","signers",e);let t=new kt({recentBlockhash:"11111111111111111111111111111111",feePayer:e[0]});t.add(...d);try{return t.serialize({verifySignatures:!1}),!0}catch(n){return!1}}function wt({instructions:d,signers:e,payer:t}){let n={};for(let r of e)n[r.publicKey.toString()]=r;let o=[],s=[];for(let r of d){let a=[...s,r],c=new Set(a.map(l=>l.keys.filter(b=>b.isSigner).map(b=>b.pubkey.toString())).flat()),u=[...c.values()].map(l=>new jt(l));Gn(a,[t,...u])?s.push(r):(o.push({transaction:new kt().add(...s),signer:[...c.values()].map(l=>n[l]).filter(l=>l!==void 0)}),s=[r])}if(s.length>0){let r=new Set(s.map(a=>a.keys.filter(c=>c.isSigner).map(c=>c.pubkey.toString())).flat());o.push({transaction:new kt().add(...s),signer:[...r.values()].map(a=>n[a]).filter(a=>a!==void 0)})}return o}import rt from"bn.js";import Se from"bn.js";var L=new Se(0),H=new Se(1),Oo=new Se(2),Eo=new Se(3),Ko=new Se(5),ot=new Se(10),Zt=new Se(100),Mo=new Se(1e3),Vo=new Se(1e4);var st=_.from("entity/bignumber"),$t=9007199254740991;function W(d){return d instanceof rt?d:typeof d=="string"?d.match(/^-?[0-9]+$/)?new rt(d):st.throwArgumentError("invalid BigNumberish string","value",d):typeof d=="number"?d%1?st.throwArgumentError("BigNumberish number underflow","value",d):d>=$t||d<=-$t?st.throwArgumentError("BigNumberish number overflow","value",d):new rt(String(d)):typeof d=="bigint"?new rt(d.toString()):st.throwArgumentError("invalid BigNumberish value","value",d)}function Lt(d){return ot.pow(W(d))}var Ue={symbol:"SOL",name:"Solana",decimals:9},J={symbol:"WSOL",name:"Wrapped SOL",mint:"So11111111111111111111111111111111111111112",decimals:9,extensions:{coingeckoId:"solana"}};var i={WSOL:U({},J),BTC:{symbol:"BTC",name:"Bitcoin",mint:"9n4nbM75f5Ui33ZbPYXn59EwSgE8CGsHtAeTH5YFeJ9E",decimals:6,extensions:{coingeckoId:"bitcoin"}},ETH:{symbol:"ETH",name:"Ethereum",mint:"2FPyTwcZLUg1MDrwsyoP4D6s1tM7hAkHYRjkNb5w6Pxk",decimals:6,extensions:{coingeckoId:"ethereum"}},USDT:{symbol:"USDT",name:"Tether",mint:"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB",decimals:6,extensions:{coingeckoId:"tether"}},WUSDT:{symbol:"WUSDT",name:"Wrapped USDT",mint:"BQcdHdAQW1hczDbBi9hiegXAR7A98Q9jx3X3iBBBDiq4",decimals:6,extensions:{coingeckoId:"tether"}},USDC:{symbol:"USDC",name:"USD Coin",mint:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",decimals:6,extensions:{coingeckoId:"usd-coin"}},WUSDC:{symbol:"WUSDC",name:"Wrapped USDC",mint:"BXXkv6z8ykpG1yuvUDPgh732wzVHB69RnB9YgSYh3itW",decimals:6,extensions:{coingeckoId:"usd-coin"}},YFI:{symbol:"YFI",name:"YFI",mint:"3JSf5tPeuscJGtaCp5giEiDhv51gQ4v3zWg8DGgyLfAB",decimals:6,extensions:{coingeckoId:"yearn-finance"}},LINK:{symbol:"LINK",name:"Chainlink",mint:"CWE8jPTUYhdCTZYWPTe1o5DFqfdjzWKc9WKz6rSjQUdG",decimals:6,extensions:{coingeckoId:"chainlink"}},XRP:{symbol:"XRP",name:"XRP",mint:"Ga2AXHpfAF6mv2ekZwcsJFqu7wB4NV331qNH7fW9Nst8",decimals:6,extensions:{coingeckoId:"ripple"}},SUSHI:{symbol:"SUSHI",name:"SUSHI",mint:"AR1Mtgh7zAtxuxGd2XPovXPVjcSdY3i4rQYisNadjfKy",decimals:6,extensions:{coingeckoId:"sushi"}},ALEPH:{symbol:"ALEPH",name:"ALEPH",mint:"CsZ5LZkDS7h9TDKjrbL7VAwQZ9nsRu8vJLhRYfmGaN8K",decimals:6,extensions:{coingeckoId:"aleph"}},SXP:{symbol:"SXP",name:"SXP",mint:"SF3oTvfWzEP3DTwGSvUXRrGTvr75pdZNnBLAH9bzMuX",decimals:6,extensions:{coingeckoId:"swipe"}},HGET:{symbol:"HGET",name:"HGET",mint:"BtZQfWqDGbk9Wf2rXEiWyQBdBY1etnUUn6zEphvVS7yN",decimals:6,extensions:{coingeckoId:"hedget"}},CREAM:{symbol:"CREAM",name:"CREAM",mint:"5Fu5UUgbjpUvdBveb3a1JTNirL8rXtiYeSMWvKjtUNQv",decimals:6,extensions:{coingeckoId:"cream-2"}},UNI:{symbol:"UNI",name:"UNI",mint:"DEhAasscXF4kEGxFgJ3bq4PpVGp5wyUxMRvn6TzGVHaw",decimals:6,extensions:{coingeckoId:"uniswap"}},SRM:{symbol:"SRM",name:"Serum",mint:"SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt",decimals:6,extensions:{coingeckoId:"serum"}},FTT:{symbol:"FTT",name:"FTX Token",mint:"AGFEad2et2ZJif9jaGpdMixQqvW5i81aBdvKe7PHNfz3",decimals:6,extensions:{coingeckoId:"ftx-token"}},MSRM:{symbol:"MSRM",name:"MegaSerum",mint:"MSRMcoVyrFxnSgo5uXwone5SKcGhT1KEJMFEkMEWf9L",decimals:0,extensions:{coingeckoId:"megaserum"}},TOMO:{symbol:"TOMO",name:"TOMO",mint:"GXMvfY2jpQctDqZ9RoU3oWPhufKiCcFEfchvYumtX7jd",decimals:6,extensions:{coingeckoId:"tomochain"}},KARMA:{symbol:"KARMA",name:"KARMA",mint:"EcqExpGNFBve2i1cMJUTR4bPXj4ZoqmDD2rTkeCcaTFX",decimals:4,extensions:{coingeckoId:"karma-dao"}},LUA:{symbol:"LUA",name:"LUA",mint:"EqWCKXfs3x47uVosDpTRgFniThL9Y8iCztJaapxbEaVX",decimals:6,extensions:{coingeckoId:"lua-token"}},MATH:{symbol:"MATH",name:"MATH",mint:"GeDS162t9yGJuLEHPWXXGrb1zwkzinCgRwnT8vHYjKza",decimals:6,extensions:{coingeckoId:"math"}},KEEP:{symbol:"KEEP",name:"KEEP",mint:"GUohe4DJUA5FKPWo3joiPgsB7yzer7LpDmt1Vhzy3Zht",decimals:6,extensions:{coingeckoId:"keep-network"}},SWAG:{symbol:"SWAG",name:"SWAG",mint:"9F9fNTT6qwjsu4X4yWYKZpsbw5qT7o6yR2i57JF2jagy",decimals:6,extensions:{coingeckoId:"swag-finance"}},FIDA:{symbol:"FIDA",name:"Bonfida",mint:"EchesyfXePKdLtoiZSL8pBe8Myagyy8ZRqsACNCFGnvp",decimals:6,extensions:{coingeckoId:"bonfida"}},KIN:{symbol:"KIN",name:"Kin",mint:"kinXdEcpDQeHPEuQnqmUgtYykqKGVFq6CeVX5iAHJq6",decimals:5,extensions:{coingeckoId:"kin"}},MAPS:{symbol:"MAPS",name:"MAPS",mint:"MAPS41MDahZ9QdKXhVa4dWB9RuyfV4XqhyAZ8XcYepb",decimals:6,extensions:{coingeckoId:"maps"}},OXY:{symbol:"OXY",name:"Oxygen",mint:"z3dn17yLaGMKffVogeFHQ9zWVcXgqgf3PQnDsNs2g6M",decimals:6,extensions:{coingeckoId:"oxygen"}},RAY:{symbol:"RAY",name:"Raydium",mint:"4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R",decimals:6,extensions:{coingeckoId:"raydium"}},xCOPE:{symbol:"xCOPE",name:"xCOPE",mint:"3K6rftdAaQYMPunrtNRHgnK2UAtjm2JwyT2oCiTDouYE",decimals:0,extensions:{coingeckoId:"cope"}},COPE:{symbol:"COPE",name:"Cope",mint:"8HGyAAB1yoM1ttS7pXjHMa3dukTFGQggnFFH3hJZgzQh",decimals:6,extensions:{coingeckoId:"cope"}},STEP:{symbol:"STEP",name:"Step Finance",mint:"StepAscQoEioFxxWGnh2sLBDFp9d8rvKz2Yp39iDpyT",decimals:9,extensions:{coingeckoId:"step-finance"}},MEDIA:{symbol:"MEDIA",name:"Media Network",mint:"ETAtLmCmsoiEEKfNrHKJ2kYy3MoABhU6NQvpSfij5tDs",decimals:6,extensions:{coingeckoId:"media-network"}},ROPE:{symbol:"ROPE",name:"Rope Token",mint:"8PMHT4swUMtBzgHnh5U564N5sjPSiUz2cjEQzFnnP1Fo",decimals:9,extensions:{coingeckoId:"rope-token"}},MER:{symbol:"MER",name:"Mercurial",mint:"MERt85fc5boKw3BW1eYdxonEuJNvXbiMbs6hvheau5K",decimals:6,extensions:{coingeckoId:"mercurial"}},TULIP:{symbol:"TULIP",name:"Tulip Protocol",mint:"TuLipcqtGVXP9XR62wM8WWCm6a9vhLs7T1uoWBk6FDs",decimals:6,extensions:{coingeckoId:"solfarm"}},SNY:{symbol:"SNY",name:"SNY",mint:"4dmKkXNHdgYsXqBHCuMikNQWwVomZURhYvkkX5c4pQ7y",decimals:6,extensions:{coingeckoId:"synthetify-token"}},SLRS:{symbol:"SLRS",name:"SLRS",mint:"SLRSSpSLUTP7okbCUBYStWCo1vUgyt775faPqz8HUMr",decimals:6,extensions:{coingeckoId:"solrise-finance"}},WOO:{symbol:"WOO",name:"WOO Network",mint:"E5rk3nmgLUuKUiS94gg4bpWwWwyjCMtddsAXkTFLtHEy",decimals:6,extensions:{coingeckoId:"woo-network"}},BOP:{symbol:"BOP",name:"Boring Protocol",mint:"BLwTnYKqf7u4qjgZrrsKeNs2EzWkMLqVCu6j8iHyrNA3",decimals:8,extensions:{coingeckoId:"boring-protocol"}},SAMO:{symbol:"SAMO",name:"Samoyedcoin",mint:"7xKXtg2CW87d97TXJSDpbD5jBkheTqA83TZRuJosgAsU",decimals:9,extensions:{coingeckoId:"samoyedcoin"}},renBTC:{symbol:"renBTC",name:"renBTC",mint:"CDJWUqTcYTVAKXAVXoQZFes5JUFc7owSeq7eMQcDSbo5",decimals:8,extensions:{coingeckoId:"renbtc"}},renDOGE:{symbol:"renDOGE",name:"renDOGE",mint:"ArUkYE2XDKzqy77PRRGjo4wREWwqk6RXTfM9NeqzPvjU",decimals:8,extensions:{coingeckoId:"rendoge"}},LIKE:{symbol:"LIKE",name:"Only1",mint:"3bRTivrVsitbmCTGtqwp7hxXPsybkjn4XLNtPsHqa3zR",decimals:9,extensions:{coingeckoId:"only1"}},DXL:{symbol:"DXL",name:"Dexlab",mint:"GsNzxJfFn6zQdJGeYsupJWzUAm57Ba7335mfhWvFiE9Z",decimals:6,extensions:{coingeckoId:"dexlab"}},mSOL:{symbol:"mSOL",name:"Marinade staked SOL",mint:"mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So",decimals:9,extensions:{coingeckoId:"msol"}},PAI:{symbol:"PAI",name:"Parrot USD",mint:"Ea5SjE2Y6yvCeW5dYTn7PYMuW5ikXkvbGdcmSnXeaLjS",decimals:6,extensions:{coingeckoId:"parrot-usd"}},PORT:{symbol:"PORT",name:"Port Finance",mint:"PoRTjZMPXb9T7dyU7tpLEZRQj7e6ssfAE62j2oQuc6y",decimals:6,extensions:{coingeckoId:"port-finance"}},MNGO:{symbol:"MNGO",name:"Mango",mint:"MangoCzJ36AjZyKwVj3VnYU4GTonjfVEnJmvvWaxLac",decimals:6,extensions:{coingeckoId:"mango-markets"}},CRP:{symbol:"CRP",name:"CropperFinance",mint:"DubwWZNWiNGMMeeQHPnMATNj77YZPZSAz2WVR5WjLJqz",decimals:9,extensions:{coingeckoId:"cropperfinance"}},ATLAS:{symbol:"ATLAS",name:"Star Atlas",mint:"ATLASXmbPQxBUYbxPsV97usA3fPQYEqzQBUHgiFCUsXx",decimals:8,extensions:{coingeckoId:"star-atlas"}},POLIS:{symbol:"POLIS",name:"Star Atlas DAO",mint:"poLisWXnNRwC6oBu1vHiuKQzFjGL4XDSu4g9qjz9qVk",decimals:8,extensions:{coingeckoId:"star-atlas-dao"}},GRAPE:{symbol:"GRAPE",name:"Grape Protocol",mint:"8upjSpvjcdpuzhfR1zriwg5NXkwDruejqNE9WNbPRtyA",decimals:6,extensions:{coingeckoId:"grape-2"}},GENE:{symbol:"GENE",name:"Genopets",mint:"GENEtH5amGSi8kHAtQoezp1XEXwZJ8vcuePYnXdKrMYz",decimals:9,extensions:{coingeckoId:"genopets"}},DFL:{symbol:"DFL",name:"DeFi Land",mint:"DFL1zNkaGPWm1BqAVqRjCZvHmwTFrEaJtbzJWgseoNJh",decimals:9,extensions:{coingeckoId:"defi-land"}},CHEEMS:{symbol:"CHEEMS",name:"Cheems",mint:"3FoUAsGDbvTD6YZ4wVKJgTB76onJUKz7GPEBNiR5b8wc",decimals:4,extensions:{coingeckoId:"cheems"}},stSOL:{symbol:"stSOL",name:"Lido Staked SOL",mint:"7dHbWXmci3dT8UFYWYZweBLXgycu7Y3iL6trKn1Y7ARj",decimals:9,extensions:{coingeckoId:"lido-staked-sol"}},LARIX:{symbol:"LARIX",name:"Larix",mint:"Lrxqnh6ZHKbGy3dcrCED43nsoLkM1LTzU2jRfWe8qUC",decimals:6,extensions:{coingeckoId:"larix"}},RIN:{symbol:"RIN",name:"Aldrin",mint:"E5ndSkaB17Dm7CsD22dvcjfrYSDLCxFcMd6z8ddCk5wp",decimals:9,extensions:{coingeckoId:"aldrin"}},APEX:{symbol:"APEX",name:"ApeXit Finance",mint:"51tMb3zBKDiQhNwGqpgwbavaGH54mk8fXFzxTc1xnasg",decimals:9,extensions:{coingeckoId:"apexit-finance"}},MNDE:{symbol:"MNDE",name:"Marinade",mint:"MNDEFzGvMt87ueuHvVU9VcTqsAP5b3fTGPsHuuPA5ey",decimals:9,extensions:{coingeckoId:"marinade"}},LIQ:{symbol:"LIQ",name:"LIQ Protocol",mint:"4wjPQJ6PrkC4dHhYghwJzGBVP78DkBzA2U3kHoFNBuhj",decimals:6,extensions:{coingeckoId:"liq-protocol"}},WAG:{symbol:"WAG",name:"Waggle Network",mint:"5tN42n9vMi6ubp67Uy4NnmM5DMZYN8aS8GeB3bEDHr6E",decimals:9,extensions:{coingeckoId:"waggle-network"}},wLDO:{symbol:"wLDO",name:"wLDO",mint:"HZRCwxP2Vq9PCpPXooayhJ2bxTpo5xfpQrwB1svh332p",decimals:8,extensions:{}},SLIM:{symbol:"SLIM",name:"Solanium",mint:"xxxxa1sKNGwFtw2kFn8XauW9xq8hBZ5kVtcSesTT9fW",decimals:6,extensions:{coingeckoId:"solanium"}},PRT:{symbol:"PRT",name:"Parrot Protocol",mint:"PRT88RkA4Kg5z7pKnezeNH4mafTvtQdfFgpQTGRjz44",decimals:6,extensions:{coingeckoId:"parrot-protocol"}},SBR:{symbol:"SBR",name:"SBR",mint:"Saber2gLauYim4Mvftnrasomsv6NvAuncvMEZwcLpD1",decimals:6,extensions:{}},FAB:{symbol:"FAB",name:"Fabric",mint:"EdAhkbj5nF9sRM7XN7ewuW8C9XEUMs8P7cnoQ57SYE96",decimals:9,extensions:{coingeckoId:"fabric"}},ABR:{symbol:"ABR",name:"Allbridge",mint:"a11bdAAuV8iB2fu7X6AxAvDTo1QZ8FXB3kk5eecdasp",decimals:9,extensions:{coingeckoId:"allbridge"}},IVN:{symbol:"IVN",name:"Investin",mint:"iVNcrNE9BRZBC9Aqf753iZiZfbszeAVUoikgT9yvr2a",decimals:6,extensions:{coingeckoId:"investin"}},CYS:{symbol:"CYS",name:"Cyclos",mint:"BRLsMczKuaR5w9vSubF4j8HwEGGprVAyyVgS4EX7DKEg",decimals:6,extensions:{coingeckoId:"cyclos"}},FRKT:{symbol:"FRKT",name:"FRAKT Token",mint:"ErGB9xa24Szxbk1M28u2Tx8rKPqzL6BroNkkzk5rG4zj",decimals:8,extensions:{coingeckoId:"frakt-token"}},AURY:{symbol:"AURY",name:"Aurory",mint:"AURYydfxJib1ZkTir1Jn1J9ECYUtjb6rKQVmtYaixWPP",decimals:9,extensions:{coingeckoId:"aurory"}},SYP:{symbol:"SYP",name:"Sypool",mint:"FnKE9n6aGjQoNWRBZXy4RW6LZVao7qwBonUbiD7edUmZ",decimals:9,extensions:{coingeckoId:"sypool"}},WOOF:{symbol:"WOOF",name:"WOOF",mint:"9nEqaUcb16sQ3Tn1psbkWqyhPdLmfHWjKGymREjsAgTE",decimals:6,extensions:{coingeckoId:"woof-token"}},ORCA:{symbol:"ORCA",name:"Orca",mint:"orcaEKTdK7LKz57vaAYr9QeNsVEPfiu6QeMU1kektZE",decimals:6,extensions:{coingeckoId:"orca"}},SLND:{symbol:"SLND",name:"Solend",mint:"SLNDpmoWTVADgEdndyvWzroNL7zSi1dF9PC3xHGtPwp",decimals:6,extensions:{coingeckoId:"solend"}},weWETH:{symbol:"weWETH",name:"weWETH",mint:"7vfCXTUXx5WJV5JADk17DUJ4ksgau7utNKj4b963voxs",decimals:8,extensions:{}},weUNI:{symbol:"weUNI",name:"weUNI",mint:"8FU95xFJhUUkyyCLU13HSzDLs7oC4QZdXQHL6SCeab36",decimals:8,extensions:{}},weSUSHI:{symbol:"weSUSHI",name:"weSUSHI",mint:"ChVzxWRmrTeSgwd3Ui3UumcN8KX7VK3WaD4KGeSKpypj",decimals:8,extensions:{}},GOFX:{symbol:"GOFX",name:"GooseFX",mint:"GFX1ZjR2P15tmrSwow6FjyDYcEkoFb4p4gJCpLBjaxHD",decimals:9,extensions:{coingeckoId:"goosefx"}},IN:{symbol:"IN",name:"Invictus",mint:"inL8PMVd6iiW3RCBJnr5AsrRN6nqr4BTrcNuQWQSkvY",decimals:9,extensions:{coingeckoId:"invictus"}},weDYDX:{symbol:"weDYDX",name:"weDYDX",mint:"4Hx6Bj56eGyw8EJrrheM6LBQAvVYRikYCWsALeTrwyRU",decimals:8,extensions:{}},STARS:{symbol:"STARS",name:"StarLaunch",mint:"HCgybxq5Upy8Mccihrp7EsmwwFqYZtrHrsmsKwtGXLgW",decimals:6,extensions:{coingeckoId:"starlaunch"}},weAXS:{symbol:"weAXS",name:"weAXS",mint:"HysWcbHiYY9888pHbaqhwLYZQeZrcQMXKQWRqS7zcPK5",decimals:8,extensions:{}},weSHIB:{symbol:"weSHIB",name:"weSHIB",mint:"CiKu4eHsVrc1eueVQeHn7qhXTcVu95gSQmBpX4utjL9z",decimals:8,extensions:{}},OXS:{symbol:"OXS",name:"Oxbull Solana",mint:"4TGxgCSJQx2GQk9oHZ8dC5m3JNXTYZHjXumKAW3vLnNx",decimals:9,extensions:{coingeckoId:"oxbull-solana"}},CWAR:{symbol:"CWAR",name:"Cryowar",mint:"HfYFjMKNZygfMC8LsQ8LtpPsPxEJoXJx4M6tqi75Hajo",decimals:9,extensions:{coingeckoId:"cryowar-token"}},UPS:{symbol:"UPS",name:"UPFI Network",mint:"EwJN2GqUGXXzYmoAciwuABtorHczTA5LqbukKXV1viH7",decimals:6,extensions:{coingeckoId:"upfi-network"}},weSAND:{symbol:"weSAND",name:"weSAND",mint:"49c7WuCZkQgc3M4qH8WuEUNXfgwupZf1xqWkDQ7gjRGt",decimals:8,extensions:{}},weMANA:{symbol:"weMANA",name:"weMANA",mint:"7dgHoN8wBZCc5wbnQ2C47TDnBMAxG4Q5L3KjP67z8kNi",decimals:8,extensions:{}},CAVE:{symbol:"CAVE",name:"Crypto Cavemen",mint:"4SZjjNABoqhbd4hnapbvoEPEqT8mnNkfbEoAwALf1V8t",decimals:6,extensions:{coingeckoId:"cave"}},JSOL:{symbol:"JSOL",name:"JPool",mint:"7Q2afV64in6N6SeZsAAB81TJzwDoD6zpqmHkzi9Dcavn",decimals:9,extensions:{coingeckoId:"jpool"}},APT:{symbol:"APT",name:"Apricot",mint:"APTtJyaRX5yGTsJU522N4VYWg3vCvSb65eam5GrPT5Rt",decimals:6,extensions:{coingeckoId:"apricot"}},SONAR:{symbol:"SONAR",name:"SonarWatch",mint:"sonarX4VtVkQemriJeLm6CKeW3GDMyiBnnAEMw1MRAE",decimals:9,extensions:{coingeckoId:"sonarwatch"}},SHILL:{symbol:"SHILL",name:"SHILL Token",mint:"6cVgJUqo4nmvQpbgrDZwyfd6RwWw5bfnCamS3M9N1fd",decimals:6,extensions:{coingeckoId:"shill-token"}},TTT:{symbol:"TTT",name:"TabTrader",mint:"FNFKRV3V8DtA3gVJN6UshMiLGYA8izxFwkNWmJbFjmRj",decimals:6,extensions:{coingeckoId:"tabtrader"}},BOKU:{symbol:"BOKU",name:"Boryoku Dragonz",mint:"CN7qFa5iYkHz99PTctvT4xXUHnxwjQ5MHxCuTJtPN5uS",decimals:9,extensions:{coingeckoId:"boku"}},MIMO:{symbol:"MIMO",name:"Million Monke",mint:"9TE7ebz1dsFo1uQ2T4oYAKSm39Y6fWuHrd6Uk6XaiD16",decimals:9,extensions:{coingeckoId:"million-monke"}},wbWBNB:{symbol:"wbWBNB",name:"wbWBNB",mint:"9gP2kCy3wA1ctvYWQk75guqXuHfrEomqydHLtcTCqiLa",decimals:8,extensions:{}},wePEOPLE:{symbol:"wePEOPLE",name:"wePEOPLE",mint:"CobcsUrt3p91FwvULYKorQejgsm5HoQdv5T8RUZ6PnLA",decimals:8,extensions:{}},XTAG:{symbol:"XTAG",name:"xHashtag",mint:"5gs8nf4wojB5EXgDUWNLwXpknzgV2YWDhveAeBZpVLbp",decimals:6,extensions:{coingeckoId:"xhashtag"}},KKO:{symbol:"KKO",name:"Kineko",mint:"kiNeKo77w1WBEzFFCXrTDRWGRWGP8yHvKC9rX6dqjQh",decimals:9,extensions:{coingeckoId:"kineko"}},VI:{symbol:"VI",name:"Vybit",mint:"7zBWymxbZt7PVHQzfi3i85frc1YRiQc23K7bh3gos8ZC",decimals:9,extensions:{coingeckoId:"vybit"}},SOLC:{symbol:"SOLC",name:"Solcubator",mint:"Bx1fDtvTN6NvE4kjdPHQXtmGSg582bZx9fGy4DQNMmAT",decimals:9,extensions:{coingeckoId:"solcubator"}},STR:{symbol:"STR",name:"Solster",mint:"9zoqdwEBKWEi9G5Ze8BSkdmppxGgVv1Kw4LuigDiNr9m",decimals:9,extensions:{coingeckoId:"solster"}},SPWN:{symbol:"SPWN",name:"Bitspawn",mint:"5U9QqCPhqXAJcEv9uyzFJd5zhN93vuPk1aNNkXnUfPnt",decimals:9,extensions:{coingeckoId:"bitspawn"}},ISOLA:{symbol:"ISOLA",name:"Intersola",mint:"333iHoRM2Awhf9uVZtSyTfU8AekdGrgQePZsKMFPgKmS",decimals:6,extensions:{coingeckoId:"intersola"}},RUN:{symbol:"RUN",name:"Run",mint:"6F9XriABHfWhit6zmMUYAQBSy6XK5VF1cHXuW5LDpRtC",decimals:9,extensions:{coingeckoId:"run"}},REAL:{symbol:"REAL",name:"Realy Metaverse",mint:"AD27ov5fVU2XzwsbvnFvb1JpCBaCB5dRXrczV9CqSVGb",decimals:9,extensions:{coingeckoId:"realy-metaverse"}},CRWNY:{symbol:"CRWNY",name:"CRWNY",mint:"CRWNYkqdgvhGGae9CKfNka58j6QQkaD5bLhKXvUYqnc1",decimals:6,extensions:{}},BLOCK:{symbol:"BLOCK",name:"Blockasset",mint:"NFTUkR4u7wKxy9QLaX2TGvd9oZSWoMo4jqSJqdMb7Nk",decimals:6,extensions:{coingeckoId:"blockasset"}},SOLAR:{symbol:"SOLAR",name:"Solar",mint:"2wmKXX1xsxLfrvjEPrt2UHiqj8Gbzwxvffr9qmNjsw8g",decimals:9,extensions:{coingeckoId:"solar"}},BASIS:{symbol:"BASIS",name:"basis.markets",mint:"Basis9oJw9j8cw53oMV7iqsgo6ihi9ALw4QR31rcjUJa",decimals:6,extensions:{coingeckoId:"basis-markets"}},SOLX:{symbol:"SOLX",name:"Soldex",mint:"CH74tuRLTYcxG7qNJCsV9rghfLXJCQJbsu7i52a8F1Gn",decimals:9,extensions:{coingeckoId:"soldex"}},CHICKS:{symbol:"CHICKS",name:"SolChicks Token",mint:"cxxShYRVcepDudXhe7U62QHvw8uBJoKFifmzggGKVC2",decimals:9,extensions:{coingeckoId:"solchicks-token"}},GST:{symbol:"GST",name:"GST",mint:"AFbX8oGjGpmVFywbVouvhQSRmiW2aR1mohfahi4Y2AdB",decimals:9,extensions:{coingeckoId:"gst"}},MBS:{symbol:"MBS",name:"MonkeyBall",mint:"Fm9rHUTF5v3hwMLbStjZXqNBBoZyGriQaFM6sTFz3K8A",decimals:6,extensions:{coingeckoId:"monkeyball"}},PRISM:{symbol:"PRISM",name:"Prism",mint:"PRSMNsEPqhGVCH1TtWiJqPjJyh2cKrLostPZTNy1o5x",decimals:6,extensions:{coingeckoId:"prism"}},MEAN:{symbol:"MEAN",name:"Meanfi",mint:"MEANeD3XDdUmNMsRGjASkSWdC8prLYsoRJ61pPeHctD",decimals:6,extensions:{coingeckoId:"meanfi"}},TINY:{symbol:"TINY",name:"Tiny Colony",mint:"HKfs24UEDQpHS5hUyKYkHd9q7GY5UQ679q2bokeL2whu",decimals:6,extensions:{coingeckoId:"tiny-colony"}},SHDW:{symbol:"SHDW",name:"GenesysGo Shadow",mint:"SHDWyBxihqiCj6YekG2GUr7wqKLeLAMK1gHZck9pL6y",decimals:9,extensions:{coingeckoId:"genesysgo-shadow"}},SCY:{symbol:"SCY",name:"Synchrony",mint:"SCYfrGCw8aDiqdgcpdGjV6jp4UVVQLuphxTDLNWu36f",decimals:9,extensions:{coingeckoId:"synchrony"}},SLC:{symbol:"SLC",name:"Solice",mint:"METAmTMXwdb8gYzyCPfXXFmZZw4rUsXX58PNsDg7zjL",decimals:6,extensions:{coingeckoId:"solice"}}},Xo={FIDA_RAY_V4:{symbol:"FIDA-RAY",name:"FIDA-RAY V4 LP",mint:"DsBuznXRTmzvEdb36Dx3aVLVo1XmH7r1PRZUFugLPTFv",base:i.FIDA,quote:i.RAY,decimals:i.FIDA.decimals,version:4},OXY_RAY_V4:{symbol:"OXY-RAY",name:"OXY-RAY V4 LP",mint:"FwaX9W7iThTZH5MFeasxdLpxTVxRcM7ZHieTCnYog8Yb",base:i.OXY,quote:i.RAY,decimals:i.OXY.decimals,version:4},MAPS_RAY_V4:{symbol:"MAPS-RAY",name:"MAPS-RAY V4 LP",mint:"CcKK8srfVdTSsFGV3VLBb2YDbzF4T4NM2C3UEjC39RLP",base:i.MAPS,quote:i.RAY,decimals:i.MAPS.decimals,version:4},KIN_RAY_V4:{symbol:"KIN-RAY",name:"KIN-RAY V4 LP",mint:"CHT8sft3h3gpLYbCcZ9o27mT5s3Z6VifBVbUiDvprHPW",base:i.KIN,quote:i.RAY,decimals:6,version:4},RAY_USDT_V4:{symbol:"RAY-USDT",name:"RAY-USDT V4 LP",mint:"C3sT1R3nsw4AVdepvLTLKr5Gvszr7jufyBWUCvy4TUvT",base:i.RAY,quote:i.USDT,decimals:i.RAY.decimals,version:4},SOL_USDC_V4:{symbol:"SOL-USDC",name:"SOL-USDC V4 LP",mint:"8HoQnePLqPj4M7PUDzfw8e3Ymdwgc7NLGnaTUapubyvu",base:i.WSOL,quote:i.USDC,decimals:i.WSOL.decimals,version:4},YFI_USDC_V4:{symbol:"YFI-USDC",name:"YFI-USDC V4 LP",mint:"865j7iMmRRycSYUXzJ33ZcvLiX9JHvaLidasCyUyKaRE",base:i.YFI,quote:i.USDC,decimals:i.YFI.decimals,version:4},SRM_USDC_V4:{symbol:"SRM-USDC",name:"SRM-USDC V4 LP",mint:"9XnZd82j34KxNLgQfz29jGbYdxsYznTWRpvZE3SRE7JG",base:i.SRM,quote:i.USDC,decimals:i.SRM.decimals,version:4},FTT_USDC_V4:{symbol:"FTT-USDC",name:"FTT-USDC V4 LP",mint:"75dCoKfUHLUuZ4qEh46ovsxfgWhB4icc3SintzWRedT9",base:i.FTT,quote:i.USDC,decimals:i.FTT.decimals,version:4},BTC_USDC_V4:{symbol:"BTC-USDC",name:"BTC-USDC V4 LP",mint:"2hMdRdVWZqetQsaHG8kQjdZinEMBz75vsoWTCob1ijXu",base:i.BTC,quote:i.USDC,decimals:i.BTC.decimals,version:4},SUSHI_USDC_V4:{symbol:"SUSHI-USDC",name:"SUSHI-USDC V4 LP",mint:"2QVjeR9d2PbSf8em8NE8zWd8RYHjFtucDUdDgdbDD2h2",base:i.SUSHI,quote:i.USDC,decimals:i.SUSHI.decimals,version:4},TOMO_USDC_V4:{symbol:"TOMO-USDC",name:"TOMO-USDC V4 LP",mint:"CHyUpQFeW456zcr5XEh4RZiibH8Dzocs6Wbgz9aWpXnQ",base:i.TOMO,quote:i.USDC,decimals:i.TOMO.decimals,version:4},LINK_USDC_V4:{symbol:"LINK-USDC",name:"LINK-USDC V4 LP",mint:"BqjoYjqKrXtfBKXeaWeAT5sYCy7wsAYf3XjgDWsHSBRs",base:i.LINK,quote:i.USDC,decimals:i.LINK.decimals,version:4},ETH_USDC_V4:{symbol:"ETH-USDC",name:"ETH-USDC V4 LP",mint:"13PoKid6cZop4sj2GfoBeujnGfthUbTERdE5tpLCDLEY",base:i.ETH,quote:i.USDC,decimals:i.ETH.decimals,version:4},xCOPE_USDC_V4:{symbol:"xCOPE-USDC",name:"xCOPE-USDC V4 LP",mint:"2Vyyeuyd15Gp8aH6uKE72c4hxc8TVSLibxDP9vzspQWG",base:i.xCOPE,quote:i.USDC,decimals:i.xCOPE.decimals,version:4},SOL_USDT_V4:{symbol:"SOL-USDT",name:"SOL-USDT V4 LP",mint:"Epm4KfTj4DMrvqn6Bwg2Tr2N8vhQuNbuK8bESFp4k33K",base:i.WSOL,quote:i.USDT,decimals:i.WSOL.decimals,version:4},YFI_USDT_V4:{symbol:"YFI-USDT",name:"YFI-USDT V4 LP",mint:"FA1i7fej1pAbQbnY8NbyYUsTrWcasTyipKreDgy1Mgku",base:i.YFI,quote:i.USDT,decimals:i.YFI.decimals,version:4},SRM_USDT_V4:{symbol:"SRM-USDT",name:"SRM-USDT V4 LP",mint:"HYSAu42BFejBS77jZAZdNAWa3iVcbSRJSzp3wtqCbWwv",base:i.SRM,quote:i.USDT,decimals:i.SRM.decimals,version:4},FTT_USDT_V4:{symbol:"FTT-USDT",name:"FTT-USDT V4 LP",mint:"2cTCiUnect5Lap2sk19xLby7aajNDYseFhC9Pigou11z",base:i.FTT,quote:i.USDT,decimals:i.FTT.decimals,version:4},BTC_USDT_V4:{symbol:"BTC-USDT",name:"BTC-USDT V4 LP",mint:"DgGuvR9GSHimopo3Gc7gfkbKamLKrdyzWkq5yqA6LqYS",base:i.BTC,quote:i.USDT,decimals:i.BTC.decimals,version:4},SUSHI_USDT_V4:{symbol:"SUSHI-USDT",name:"SUSHI-USDT V4 LP",mint:"Ba26poEYDy6P2o95AJUsewXgZ8DM9BCsmnU9hmC9i4Ki",base:i.SUSHI,quote:i.USDT,decimals:i.SUSHI.decimals,version:4},TOMO_USDT_V4:{symbol:"TOMO-USDT",name:"TOMO-USDT V4 LP",mint:"D3iGro1vn6PWJXo9QAPj3dfta6dKkHHnmiiym2EfsAmi",base:i.TOMO,quote:i.USDT,decimals:i.TOMO.decimals,version:4},LINK_USDT_V4:{symbol:"LINK-USDT",name:"LINK-USDT V4 LP",mint:"Dr12Sgt9gkY8WU5tRkgZf1TkVWJbvjYuPAhR3aDCwiiX",base:i.LINK,quote:i.USDT,decimals:i.LINK.decimals,version:4},ETH_USDT_V4:{symbol:"ETH-USDT",name:"ETH-USDT V4 LP",mint:"nPrB78ETY8661fUgohpuVusNCZnedYCgghzRJzxWnVb",base:i.ETH,quote:i.USDT,decimals:i.ETH.decimals,version:4},YFI_SRM_V4:{symbol:"YFI-SRM",name:"YFI-SRM V4 LP",mint:"EGJht91R7dKpCj8wzALkjmNdUUUcQgodqWCYweyKcRcV",base:i.YFI,quote:i.SRM,decimals:i.YFI.decimals,version:4},FTT_SRM_V4:{symbol:"FTT-SRM",name:"FTT-SRM V4 LP",mint:"AsDuPg9MgPtt3jfoyctUCUgsvwqAN6RZPftqoeiPDefM",base:i.FTT,quote:i.SRM,decimals:i.FTT.decimals,version:4},BTC_SRM_V4:{symbol:"BTC-SRM",name:"BTC-SRM V4 LP",mint:"AGHQxXb3GSzeiLTcLtXMS2D5GGDZxsB2fZYZxSB5weqB",base:i.BTC,quote:i.SRM,decimals:i.BTC.decimals,version:4},SUSHI_SRM_V4:{symbol:"SUSHI-SRM",name:"SUSHI-SRM V4 LP",mint:"3HYhUnUdV67j1vn8fu7ExuVGy5dJozHEyWvqEstDbWwE",base:i.SUSHI,quote:i.SRM,decimals:i.SUSHI.decimals,version:4},TOMO_SRM_V4:{symbol:"TOMO-SRM",name:"TOMO-SRM V4 LP",mint:"GgH9RnKrQpaMQeqmdbMvs5oo1A24hERQ9wuY2pSkeG7x",base:i.TOMO,quote:i.SRM,decimals:i.TOMO.decimals,version:4},LINK_SRM_V4:{symbol:"LINK-SRM",name:"LINK-SRM V4 LP",mint:"GXN6yJv12o18skTmJXaeFXZVY1iqR18CHsmCT8VVCmDD",base:i.LINK,quote:i.SRM,decimals:i.LINK.decimals,version:4},ETH_SRM_V4:{symbol:"ETH-SRM",name:"ETH-SRM V4 LP",mint:"9VoY3VERETuc2FoadMSYYizF26mJinY514ZpEzkHMtwG",base:i.ETH,quote:i.SRM,decimals:i.ETH.decimals,version:4},SRM_SOL_V4:{symbol:"SRM-SOL",name:"SRM-SOL V4 LP",mint:"AKJHspCwDhABucCxNLXUSfEzb7Ny62RqFtC9uNjJi4fq",base:i.SRM,quote:i.WSOL,decimals:i.SRM.decimals,version:4},STEP_USDC_V4:{symbol:"STEP-USDC",name:"STEP-USDC V4 LP",mint:"3k8BDobgihmk72jVmXYLE168bxxQUhqqyESW4dQVktqC",base:i.STEP,quote:i.USDC,decimals:i.STEP.decimals,version:4},MEDIA_USDC_V4:{symbol:"MEDIA-USDC",name:"MEDIA-USDC V4 LP",mint:"A5zanvgtioZGiJMdEyaKN4XQmJsp1p7uVxaq2696REvQ",base:i.MEDIA,quote:i.USDC,decimals:i.MEDIA.decimals,version:4},ROPE_USDC_V4:{symbol:"ROPE-USDC",name:"ROPE-USDC V4 LP",mint:"Cq4HyW5xia37tKejPF2XfZeXQoPYW6KfbPvxvw5eRoUE",base:i.ROPE,quote:i.USDC,decimals:i.ROPE.decimals,version:4},MER_USDC_V4:{symbol:"MER-USDC",name:"MER-USDC V4 LP",mint:"3H9NxvaZoxMZZDZcbBDdWMKbrfNj7PCF5sbRwDr7SdDW",base:i.MER,quote:i.USDC,decimals:i.MER.decimals,version:4},COPE_USDC_V4:{symbol:"COPE-USDC",name:"COPE-USDC V4 LP",mint:"Cz1kUvHw98imKkrqqu95GQB9h1frY8RikxPojMwWKGXf",base:i.COPE,quote:i.USDC,decimals:i.COPE.decimals,version:4},ALEPH_USDC_V4:{symbol:"ALEPH-USDC",name:"ALEPH-USDC V4 LP",mint:"iUDasAP2nXm5wvTukAHEKSdSXn8vQkRtaiShs9ceGB7",base:i.ALEPH,quote:i.USDC,decimals:i.ALEPH.decimals,version:4},TULIP_USDC_V4:{symbol:"TULIP-USDC",name:"TULIP-USDC V4 LP",mint:"2doeZGLJyACtaG9DCUyqMLtswesfje1hjNA11hMdj6YU",base:i.TULIP,quote:i.USDC,decimals:i.TULIP.decimals,version:4},WOO_USDC_V4:{symbol:"WOO-USDC",name:"WOO-USDC V4 LP",mint:"7cu42ao8Jgrd5A3y3bNQsCxq5poyGZNmTydkGfJYQfzh",base:i.WOO,quote:i.USDC,decimals:i.WOO.decimals,version:4},SNY_USDC_V4:{symbol:"SNY-USDC",name:"SNY-USDC V4 LP",mint:"G8qcfeFqxwbCqpxv5LpLWxUCd1PyMB5nWb5e5YyxLMKg",base:i.SNY,quote:i.USDC,decimals:i.SNY.decimals,version:4},BOP_RAY_V4:{symbol:"BOP-RAY",name:"BOP-RAY V4 LP",mint:"9nQPYJvysyfnXhQ6nkK5V7sZG26hmDgusfdNQijRk5LD",base:i.BOP,quote:i.RAY,decimals:i.BOP.decimals,version:4},SLRS_USDC_V4:{symbol:"SLRS-USDC",name:"SLRS-USDC V4 LP",mint:"2Xxbm1hdv5wPeen5ponDSMT3VqhGMTQ7mH9stNXm9shU",base:i.SLRS,quote:i.USDC,decimals:i.SLRS.decimals,version:4},SAMO_RAY_V4:{symbol:"SAMO-RAY",name:"SAMO-RAY V4 LP",mint:"HwzkXyX8B45LsaHXwY8su92NoRBS5GQC32HzjQRDqPnr",base:i.SAMO,quote:i.RAY,decimals:i.SAMO.decimals,version:4},renBTC_USDC_V4:{symbol:"renBTC-USDC",name:"renBTC-USDC V4 LP",mint:"CTEpsih91ZLo5gunvryLpJ3pzMjmt5jbS6AnSQrzYw7V",base:i.renBTC,quote:i.USDC,decimals:i.renBTC.decimals,version:4},renDOGE_USDC_V4:{symbol:"renDOGE-USDC",name:"renDOGE-USDC V4 LP",mint:"Hb8KnZNKvRxu7pgMRWJgoMSMcepfvNiBFFDDrdf9o3wA",base:i.renDOGE,quote:i.USDC,decimals:i.renDOGE.decimals,version:4},RAY_USDC_V4:{symbol:"RAY-USDC",name:"RAY-USDC V4 LP",mint:"FbC6K13MzHvN42bXrtGaWsvZY9fxrackRSZcBGfjPc7m",base:i.RAY,quote:i.USDC,decimals:i.RAY.decimals,version:4},RAY_SRM_V4:{symbol:"RAY-SRM",name:"RAY-SRM V4 LP",mint:"7P5Thr9Egi2rvMmEuQkLn8x8e8Qro7u2U7yLD2tU2Hbe",base:i.RAY,quote:i.SRM,decimals:i.RAY.decimals,version:4},RAY_ETH_V4:{symbol:"RAY-ETH",name:"RAY-ETH V4 LP",mint:"mjQH33MqZv5aKAbKHi8dG3g3qXeRQqq1GFcXceZkNSr",base:i.RAY,quote:i.ETH,decimals:i.RAY.decimals,version:4},RAY_SOL_V4:{symbol:"RAY-SOL",name:"RAY-SOL V4 LP",mint:"89ZKE4aoyfLBe2RuV6jM3JGNhaV18Nxh8eNtjRcndBip",base:i.RAY,quote:i.WSOL,decimals:i.RAY.decimals,version:4},DXL_USDC_V4:{symbol:"DXL-USDC",name:"DXL-USDC V4 LP",mint:"4HFaSvfgskipvrzT1exoVKsUZ174JyExEsA8bDfsAdY5",base:i.DXL,quote:i.USDC,decimals:i.DXL.decimals,version:4},LIKE_USDC_V4:{symbol:"LIKE-USDC",name:"LIKE-USDC V4 LP",mint:"cjZmbt8sJgaoyWYUttomAu5LJYU44ZrcKTbzTSEPDVw",base:i.LIKE,quote:i.USDC,decimals:i.LIKE.decimals,version:4},mSOL_USDC_V4:{symbol:"mSOL-USDC",name:"mSOL-USDC V4 LP",mint:"4xTpJ4p76bAeggXoYywpCCNKfJspbuRzZ79R7pRhbqSf",base:i.mSOL,quote:i.USDC,decimals:i.mSOL.decimals,version:4},mSOL_SOL_V4:{symbol:"mSOL-SOL",name:"mSOL-SOL V4 LP",mint:"5ijRoAHVgd5T5CNtK5KDRUBZ7Bffb69nktMj5n6ks6m4",base:i.mSOL,quote:i.WSOL,decimals:i.mSOL.decimals,version:4},MER_PAI_V4:{symbol:"MER-PAI",name:"MER-PAI V4 LP",mint:"DU5RT2D9EviaSmX6Ta8MZwMm85HwSEqGMRdqUiuCGfmD",base:i.MER,quote:i.PAI,decimals:i.MER.decimals,version:4},PORT_USDC_V4:{symbol:"PORT-USDC",name:"PORT-USDC V4 LP",mint:"9tmNtbUCrLS15qC4tEfr5NNeqcqpZ4uiGgi2vS5CLQBS",base:i.PORT,quote:i.USDC,decimals:i.PORT.decimals,version:4},MNGO_USDC_V4:{symbol:"MNGO-USDC",name:"MNGO-USDC V4 LP",mint:"DkiqCQ792n743xjWQVCbBUaVtkdiuvQeYndM53ReWnCC",base:i.MNGO,quote:i.USDC,decimals:i.MNGO.decimals,version:4},ATLAS_USDC_V4:{symbol:"ATLAS-USDC",name:"ATLAS-USDC V4 LP",mint:"9shGU9f1EsxAbiR567MYZ78WUiS6ZNCYbHe53WUULQ7n",base:i.ATLAS,quote:i.USDC,decimals:i.ATLAS.decimals,version:4},POLIS_USDC_V4:{symbol:"POLIS-USDC",name:"POLIS-USDC V4 LP",mint:"8MbKSBpyXs8fVneKgt71jfHrn5SWtX8n4wMLpiVfF9So",base:i.POLIS,quote:i.USDC,decimals:i.POLIS.decimals,version:4},ATLAS_RAY_V4:{symbol:"ATLAS-RAY",name:"ATLAS-RAY V4 LP",mint:"418MFhkaYQtbn529wmjLLqL6uKxDz7j4eZBaV1cobkyd",base:i.ATLAS,quote:i.RAY,decimals:i.ATLAS.decimals,version:4},POLIS_RAY_V4:{symbol:"POLIS-RAY",name:"POLIS-RAY V4 LP",mint:"9ysGKUH6WqzjQEUT4dxqYCUaFNVK9QFEa24pGzjFq8xg",base:i.POLIS,quote:i.RAY,decimals:i.POLIS.decimals,version:4},ALEPH_RAY_V4:{symbol:"ALEPH-RAY",name:"ALEPH-RAY V4 LP",mint:"n76skjqv4LirhdLok2zJELXNLdRpYDgVJQuQFbamscy",base:i.ALEPH,quote:i.RAY,decimals:i.ALEPH.decimals,version:4},TULIP_RAY_V4:{symbol:"TULIP-RAY",name:"TULIP-RAY V4 LP",mint:"3AZTviji5qduMG2s4FfWGR3SSQmNUCyx8ao6UKCPg3oJ",base:i.TULIP,quote:i.RAY,decimals:i.TULIP.decimals,version:4},SLRS_RAY_V4:{symbol:"SLRS-RAY",name:"SLRS-RAY V4 LP",mint:"2pk78vsKT3jfJAcN2zbpMUnrR57SZrxHqaZYyFgp92mM",base:i.SLRS,quote:i.RAY,decimals:i.SLRS.decimals,version:4},MER_RAY_V4:{symbol:"MER-RAY",name:"MER-RAY V4 LP",mint:"214hxy3AbKoaEKgqcg2aC1cP5R67cGGAyDEg5GDwC7Ub",base:i.MER,quote:i.RAY,decimals:i.MER.decimals,version:4},MEDIA_RAY_V4:{symbol:"MEDIA-RAY",name:"MEDIA-RAY V4 LP",mint:"9Aseg5A1JD1yCiFFdDaNNxCiJ7XzrpZFmcEmLjXFdPaH",base:i.MEDIA,quote:i.RAY,decimals:i.MEDIA.decimals,version:4},SNY_RAY_V4:{symbol:"SNY-RAY",name:"SNY-RAY V4 LP",mint:"2k4quTuuLUxrSEhFH99qcoZzvgvVEc3b5sz3xz3qstfS",base:i.SNY,quote:i.RAY,decimals:i.SNY.decimals,version:4},LIKE_RAY_V4:{symbol:"LIKE-RAY",name:"LIKE-RAY V4 LP",mint:"7xqDycbFSCpUpzkYapFeyPJWPwEpV7zdWbYf2MVHTNjv",base:i.LIKE,quote:i.RAY,decimals:i.LIKE.decimals,version:4},COPE_RAY_V4:{symbol:"COPE-RAY",name:"COPE-RAY V4 LP",mint:"A7GCVHA8NSsbdFscHdoNU41tL1TRKNmCH4K94CgcLK9F",base:i.COPE,quote:i.RAY,decimals:i.COPE.decimals,version:4},ETH_SOL_V4:{symbol:"ETH-SOL",name:"ETH-SOL V4 LP",mint:"GKfgC86iJoMjwAtcyiLu6nWnjggqUXsDQihXkP14fDez",base:i.ETH,quote:i.WSOL,decimals:i.ETH.decimals,version:4},stSOL_USDC_V4:{symbol:"stSOL-USDC",name:"stSOL-USDC V4 LP",mint:"HDUJMwYZkjUZre63xUeDhdCi8c6LgUDiBqxmP3QC3VPX",base:i.stSOL,quote:i.USDC,decimals:i.stSOL.decimals,version:4},GRAPE_USDC_V4:{symbol:"GRAPE-USDC",name:"GRAPE-USDC V4 LP",mint:"A8ZYmnZ1vwxUa4wpJVUaJgegsuTEz5TKy5CiJXffvmpt",base:i.GRAPE,quote:i.USDC,decimals:i.GRAPE.decimals,version:4},LARIX_USDC_V4:{symbol:"LARIX-USDC",name:"LARIX-USDC V4 LP",mint:"7yieit4YsNsZ9CAK8H5ZEMvvk35kPEHHeXwp6naoWU9V",base:i.LARIX,quote:i.USDC,decimals:i.LARIX.decimals,version:4},RIN_USDC_V4:{symbol:"RIN-USDC",name:"RIN-USDC V4 LP",mint:"GfCWfrZez7BDmCSEeMERVDVUaaM2TEreyYUgb2cpuS3w",base:i.RIN,quote:i.USDC,decimals:i.RIN.decimals,version:4},APEX_USDC_V4:{symbol:"APEX-USDC",name:"APEX-USDC V4 LP",mint:"444cVqYyDxJNo6FqiMb9qQWFUd7tYzFRdDuJRFrSAGnU",base:i.APEX,quote:i.USDC,decimals:i.APEX.decimals,version:4},mSOL_RAY_V4:{symbol:"mSOL-RAY",name:"mSOL-RAY V4 LP",mint:"De2EHBAdkgfc72DpShqDGG42cV3iDWh8wvvZdPsiEcqP",base:i.mSOL,quote:i.RAY,decimals:i.mSOL.decimals,version:4},MNDE_mSOL_V4:{symbol:"MNDE-mSOL",name:"MNDE-mSOL V4 LP",mint:"4bh8XCzTHSbqbWN8o1Jn4ueBdz1LvJFoEasN6K6CQ8Ny",base:i.MNDE,quote:i.mSOL,decimals:i.MNDE.decimals,version:4},LARIX_RAY_V4:{symbol:"LARIX-RAY",name:"LARIX-RAY V4 LP",mint:"ZRDfSLgWGeaYSmhdPvFNKQQhDcYdZQaue2N8YDmHX4q",base:i.LARIX,quote:i.RAY,decimals:i.LARIX.decimals,version:4},LIQ_USDC_V4:{symbol:"LIQ-USDC",name:"LIQ-USDC V4 LP",mint:"GWpD3eTfhJB5KDCcnE85dBQrjAk2CsrgDF9b52R9CrjV",base:i.LIQ,quote:i.USDC,decimals:i.LIQ.decimals,version:4},WAG_USDC_V4:{symbol:"WAG-USDC",name:"WAG-USDC V4 LP",mint:"4yykyPugitUVRewNPXXCviRvxGfsfsRMoP32z3b6FmUC",base:i.WAG,quote:i.USDC,decimals:i.WAG.decimals,version:4},ETH_mSOL_V4:{symbol:"ETH-mSOL",name:"ETH-mSOL V4 LP",mint:"HYv3grQfi8QbV7nG7EFgNK1aJSrsJ7HynXJKJVPLL2Uh",base:i.ETH,quote:i.mSOL,decimals:i.ETH.decimals,version:4},mSOL_USDT_V4:{symbol:"mSOL-USDT",name:"mSOL-USDT V4 LP",mint:"69NCmEW9mGpiWLjAcAWHq51k4ionJZmzgRfRT3wQaCCf",base:i.mSOL,quote:i.USDT,decimals:i.mSOL.decimals,version:4},BTC_mSOL_V4:{symbol:"BTC-mSOL",name:"BTC-mSOL V4 LP",mint:"92bcERNtUmuaJ6mwLSxYHZYSph37jdKxRdoYNxpcYNPp",base:i.BTC,quote:i.mSOL,decimals:i.BTC.decimals,version:4},SLIM_SOL_V4:{symbol:"SLIM-SOL",name:"SLIM-SOL V4 LP",mint:"9X4EK8E59VAVi6ChnNvvd39m6Yg9RtkBbAPq1mDVJT57",base:i.SLIM,quote:i.WSOL,decimals:i.SLIM.decimals,version:4},AURY_USDC_V4:{symbol:"AURY-USDC",name:"AURY-USDC V4 LP",mint:"Gub5dvTy4nzP82qpmpNkBxmRqjtqRddBTBqHSdNcf2oS",base:i.AURY,quote:i.USDC,decimals:i.AURY.decimals,version:4},PRT_SOL_V4:{symbol:"PRT-SOL",name:"PRT-SOL V4 LP",mint:"EcJ8Wgwt1AzSPiDpVr6aaSur8TKAsNTPmmzRACeqT68Z",base:i.PRT,quote:i.WSOL,decimals:i.PRT.decimals,version:4},LIQ_RAY_V4:{symbol:"LIQ-RAY",name:"LIQ-RAY V4 LP",mint:"49YUsDrThJosHSagCn1F59Uc9NRxbr9thVrZikUnQDXy",base:i.LIQ,quote:i.RAY,decimals:i.LIQ.decimals,version:4},SYP_SOL_V4:{symbol:"SYP-SOL",name:"SYP-SOL V4 LP",mint:"KHV6dfj2bDntzJ9z1S26cDfqWfUZdJRFmteLR6LxHwW",base:i.SYP,quote:i.WSOL,decimals:i.SYP.decimals,version:4},SYP_RAY_V4:{symbol:"SYP-RAY",name:"SYP-RAY V4 LP",mint:"FT2KZqxxM8F2h9pZtTF4PyjK88bM4YbuBzd7ZPwQ5wMB",base:i.SYP,quote:i.RAY,decimals:i.SYP.decimals,version:4},SYP_USDC_V4:{symbol:"SYP-USDC",name:"SYP-USDC V4 LP",mint:"2xJGuLAivAR1WkARRA6zP1v4jaA9jV2Qis8JfMNvrVyZ",base:i.SYP,quote:i.USDC,decimals:i.SYP.decimals,version:4},FAB_USDC_V4:{symbol:"FAB-USDC",name:"FAB-USDC V4 LP",mint:"5rTCvZq6BcApsC3VV1EEUuTJfaVd8uYhcGjwTy1By6P8",base:i.FAB,quote:i.USDC,decimals:i.FAB.decimals,version:4},WOOF_RAY_V4:{symbol:"WOOF-RAY",name:"WOOF-RAY V4 LP",mint:"H2FAnazDaGFutcmnrwDxhmdncR1Bd7GG4mhPCSUiamDX",base:i.WOOF,quote:i.RAY,decimals:i.WOOF.decimals,version:4},WOOF_USDC_V4:{symbol:"WOOF-USDC",name:"WOOF-USDC V4 LP",mint:"EFSu5TMc1ijRevaYCxUkS7uGvbhsymDHEaTK3UVdNE3q",base:i.WOOF,quote:i.USDC,decimals:i.WOOF.decimals,version:4},SLND_USDC_V4:{symbol:"SLND-USDC",name:"SLND-USDC V4 LP",mint:"EunE9uDh2cGsyJcsGuGKc6wte7kBn8iye2gzC4w2ePHn",base:i.SLND,quote:i.USDC,decimals:i.SLND.decimals,version:4},FRKT_SOL_V4:{symbol:"FRKT-SOL",name:"FRKT-SOL V4 LP",mint:"HYUKXgpjaxMXHttyrFYtv3z2rdhZ1U9QDH8zEc8BooQC",base:i.FRKT,quote:i.WSOL,decimals:i.FRKT.decimals,version:4},weWETH_SOL_V4:{symbol:"weWETH-SOL",name:"weWETH-SOL V4 LP",mint:"3hbozt2Por7bcrGod8N7kEeJNMocFFjCJrQR16TQGBrE",base:i.weWETH,quote:i.WSOL,decimals:i.weWETH.decimals,version:4},weWETH_USDC_V4:{symbol:"weWETH-USDC",name:"weWETH-USDC V4 LP",mint:"3529SBnMCDW3S3xQ52aABbRHo7PcHvpQA4no8J12L5eK",base:i.weWETH,quote:i.USDC,decimals:i.weWETH.decimals,version:4},weUNI_USDC_V4:{symbol:"weUNI-USDC",name:"weUNI-USDC V4 LP",mint:"EEC4QnT41py39QaYnzQnoYQEtDUDNa6Se8SBDgfPSN2a",base:i.weUNI,quote:i.USDC,decimals:i.weUNI.decimals,version:4},weSUSHI_USDC_V4:{symbol:"weSUSHI-USDC",name:"weSUSHI-USDC V4 LP",mint:"3wVrtQZsiDNp5yTPyfEzQHPU6iuJoMmpnWg6CTt4V8sR",base:i.weSUSHI,quote:i.USDC,decimals:i.weSUSHI.decimals,version:4},CYS_USDC_V4:{symbol:"CYS-USDC",name:"CYS-USDC V4 LP",mint:"GfV3QDzzdVUwCNSdfn6PjhmyJvjw18tn51RingWZYwk3",base:i.CYS,quote:i.USDC,decimals:i.CYS.decimals,version:4},SAMO_USDC_V4:{symbol:"SAMO-USDC",name:"SAMO-USDC V4 LP",mint:"B2PjGEP3vPf1999fUD14pYdxvSDRVBk43hxB2rgthwEY",base:i.SAMO,quote:i.USDC,decimals:i.SAMO.decimals,version:4},ABR_USDC_V4:{symbol:"ABR-USDC",name:"ABR-USDC V4 LP",mint:"ECHfxkf5zjjZFTX95QfFahNyzG7feyEKcfTdjsdrMSGU",base:i.ABR,quote:i.USDC,decimals:i.ABR.decimals,version:4},IN_USDC_V4:{symbol:"IN-USDC",name:"IN-USDC V4 LP",mint:"GbmJtVgg9fRmmmjKUYGMZeSt8wZ47cDDXasg5Y3iF4kz",base:i.IN,quote:i.USDC,decimals:i.IN.decimals,version:4},weDYDX_USDC_V4:{symbol:"weDYDX-USDC",name:"weDYDX-USDC V4 LP",mint:"BjkkMZnnzmgLqzGErzDbkk15ozv48iVKQuunpeM2Hqnk",base:i.weDYDX,quote:i.USDC,decimals:i.weDYDX.decimals,version:4},STARS_USDC_V4:{symbol:"STARS-USDC",name:"STARS-USDC V4 LP",mint:"FJ68q7NChhETcGVdinMbM2FF1Cy79dpmUi6HC83K55Hv",base:i.STARS,quote:i.USDC,decimals:i.STARS.decimals,version:4},weAXS_USDC_V4:{symbol:"weAXS-USDC",name:"weAXS-USDC V4 LP",mint:"6PSoJQ7myQ1BJtbQC6oiWR8HSecQGyoWsPYTZRJo2ci3",base:i.weAXS,quote:i.USDC,decimals:i.weAXS.decimals,version:4},weSHIB_USDC_V4:{symbol:"weSHIB-USDC",name:"weSHIB-USDC V4 LP",mint:"AcjX5pmTMGSgxkdxc3r82r6WMKBvS6eQXXFz5ck5KKUa",base:i.weSHIB,quote:i.USDC,decimals:i.weSHIB.decimals,version:4},SBR_USDC_V4:{symbol:"SBR-USDC",name:"SBR-USDC V4 LP",mint:"9FC8xTFRbgTpuZZYAYnZLxgnQ8r7FwfSBM1SWvGwgF7s",base:i.SBR,quote:i.USDC,decimals:i.SBR.decimals,version:4},OXS_USDC_V4:{symbol:"OXS-USDC",name:"OXS-USDC V4 LP",mint:"et9pdjWm97rbmsJoN183GkFV5qzTGru79GE1Zhe7NTU",base:i.OXS,quote:i.USDC,decimals:i.OXS.decimals,version:4},CWAR_USDC_V4:{symbol:"CWAR-USDC",name:"CWAR-USDC V4 LP",mint:"HjR23bxn2gtRDB2P1Tm3DLepAPPZgazsWJpLG9wqjnYR",base:i.CWAR,quote:i.USDC,decimals:i.CWAR.decimals,version:4},UPS_USDC_V4:{symbol:"UPS-USDC",name:"UPS-USDC V4 LP",mint:"9hSUZdREEsbaYaKY4FouvXr7xyAqtpdHRDoYCb6Mb28a",base:i.UPS,quote:i.USDC,decimals:i.UPS.decimals,version:4},weSAND_USDC_V4:{symbol:"weSAND-USDC",name:"weSAND-USDC V4 LP",mint:"3dADrQa7utyiCsaFeVk9r7oebW1WheowhKo5soBYKBVT",base:i.weSAND,quote:i.USDC,decimals:i.weSAND.decimals,version:4},weMANA_USDC_V4:{symbol:"weMANA-USDC",name:"weMANA-USDC V4 LP",mint:"HpUkVAPRJ5zNRuJ1ZwMXEhbMHL3gSuPb2QuSER9YUd3a",base:i.weMANA,quote:i.USDC,decimals:i.weMANA.decimals,version:4},CAVE_USDC_V4:{symbol:"CAVE-USDC",name:"CAVE-USDC V4 LP",mint:"5Gba1k3fU7Vh7UtAiBmie9vhQNNq1JfEwgn1DPGZ7NKQ",base:i.CAVE,quote:i.USDC,decimals:i.CAVE.decimals,version:4},GENE_USDC_V4:{symbol:"GENE-USDC",name:"GENE-USDC V4 LP",mint:"7GKvfHEXenNiWYbJBKae89mdaMPr5gGMYwZmyC8gBNVG",base:i.GENE,quote:i.USDC,decimals:i.GENE.decimals,version:4},GENE_RAY_V4:{symbol:"GENE-RAY",name:"GENE-RAY V4 LP",mint:"3HzXnc1qZ8mGqun18Ck3KA616XnZNqF1RWbgYE2nGRMA",base:i.GENE,quote:i.RAY,decimals:i.GENE.decimals,version:4},APT_USDC_V4:{symbol:"APT-USDC",name:"APT-USDC V4 LP",mint:"Hk8mDAJFq4E9kF3DtNgPFwzbo5kbeiusNFJgWmo3LoQ5",base:i.APT,quote:i.USDC,decimals:i.APT.decimals,version:4},GOFX_USDC_V4:{symbol:"GOFX-USDC",name:"GOFX-USDC V4 LP",mint:"4svqAwrLPGRDCQuuieYTmtLXF75wiahjeK2rEN9tY1YL",base:i.GOFX,quote:i.USDC,decimals:i.GOFX.decimals,version:4},SONAR_USDC_V4:{symbol:"SONAR-USDC",name:"SONAR-USDC V4 LP",mint:"2tAcfqJ1YYjpGLqwh76kyNt9VaNFDd4fJySfH6SmWfKt",base:i.SONAR,quote:i.USDC,decimals:i.SONAR.decimals,version:4},JSOL_SOL_V4:{symbol:"JSOL-SOL",name:"JSOL-SOL V4 LP",mint:"61z37rpHsU6d3Fq5sUjJ85K6tXGzkoYKDAG3kPJQNDRo",base:i.JSOL,quote:i.WSOL,decimals:i.JSOL.decimals,version:4},JSOL_USDC_V4:{symbol:"JSOL-USDC",name:"JSOL-USDC V4 LP",mint:"3JZqf2VPNxj1kDZQsfzC7myM6spsGQbGuFv1gVfdYosN",base:i.JSOL,quote:i.USDC,decimals:i.JSOL.decimals,version:4},SHILL_USDC_V4:{symbol:"SHILL-USDC",name:"SHILL-USDC V4 LP",mint:"CnUhYBtQEbSBZ76bgxAouVCTCb8rofZzwerVF5z5LREJ",base:i.SHILL,quote:i.USDC,decimals:i.SHILL.decimals,version:4},DFL_USDC_V4:{symbol:"DFL-USDC",name:"DFL-USDC V4 LP",mint:"Fffijd6UVJdQeLVXhenS8YcsnMUdWJqpbBeH42LFkXgS",base:i.DFL,quote:i.USDC,decimals:i.DFL.decimals,version:4},BOKU_USDC_V4:{symbol:"BOKU-USDC",name:"BOKU-USDC V4 LP",mint:"8jjQn5Yagb6Nm2WGAxPW1bcGqrTWpg5adf6QukXEarcP",base:i.BOKU,quote:i.USDC,decimals:i.BOKU.decimals,version:4},MIMO_SOL_V4:{symbol:"MIMO-SOL",name:"MIMO-SOL V4 LP",mint:"HUJ1opSk8AiPfDT47r7n4hTiK2EXgrR3Msy7T8q1BywS",base:i.MIMO,quote:i.WSOL,decimals:i.MIMO.decimals,version:4},wbWBNB_USDC_V4:{symbol:"wbWBNB-USDC",name:"wbWBNB-USDC V4 LP",mint:"FEsEfEJJSfiMQcshUgZ5UigfytfGRQ3z5puyF6DXDp9C",base:i.wbWBNB,quote:i.USDC,decimals:i.wbWBNB.decimals,version:4},wePEOPLE_USDC_V4:{symbol:"wePEOPLE-USDC",name:"wePEOPLE-USDC V4 LP",mint:"3e5ZCKi4etorpV4pv1fSckP5iJD67xcUkx3RtFCZhbzD",base:i.wePEOPLE,quote:i.USDC,decimals:i.wePEOPLE.decimals,version:4},ISOLA_USDT_V4:{symbol:"ISOLA-USDT",name:"ISOLA-USDT V4 LP",mint:"H8s1wQsZpRK61pyLF3XwyQc6E8vNUnwRDhy3TBDCDENQ",base:i.ISOLA,quote:i.USDT,decimals:i.ISOLA.decimals,version:4},SPWN_USDC_V4:{symbol:"SPWN-USDC",name:"SPWN-USDC V4 LP",mint:"B5uyCAQcX6nAjZypLgiivbEKabSptgUb8JK9tkaSnqdW",base:i.SPWN,quote:i.USDC,decimals:i.SPWN.decimals,version:4},STR_USDC_V4:{symbol:"STR-USDC",name:"STR-USDC V4 LP",mint:"8uDVKmVwNmbXHDB7rNKqtpcT9VAsFHTJ5pPYxjyoBbNg",base:i.STR,quote:i.USDC,decimals:i.STR.decimals,version:4},SOLC_USDT_V4:{symbol:"SOLC-USDT",name:"SOLC-USDT V4 LP",mint:"2g9JzTWycLzK4KEBBHsponAtZRee2ii63bRrJ8tefEyt",base:i.SOLC,quote:i.USDT,decimals:i.SOLC.decimals,version:4},VI_USDC_V4:{symbol:"VI-USDC",name:"VI-USDC V4 LP",mint:"3MwHyHCRfVqtH3ABFtdKXdY9dwemr9GGxQFaBkeq6NjY",base:i.VI,quote:i.USDC,decimals:i.VI.decimals,version:4},KKO_USDC_V4:{symbol:"KKO-USDC",name:"KKO-USDC V4 LP",mint:"7xr1Doc1NiMWbUg99YVFqQSLfYXNzo6YvacXUsSgBMNW",base:i.KKO,quote:i.USDC,decimals:i.KKO.decimals,version:4},XTAG_USDC_V4:{symbol:"XTAG-USDC",name:"XTAG-USDC V4 LP",mint:"GCEQbLg4ik5YJ4CMcbtuVqEc4sjLdSGy34rFk1CtGjdg",base:i.XTAG,quote:i.USDC,decimals:i.XTAG.decimals,version:4},TTT_USDC_V4:{symbol:"TTT-USDC",name:"TTT-USDC V4 LP",mint:"84fmrerHGohoRf4iLPDQ1KG4CjSjCRksYWGzjWfCRM8a",base:i.TTT,quote:i.USDC,decimals:i.TTT.decimals,version:4},RUN_USDC_V4:{symbol:"RUN-USDC",name:"RUN-USDC V4 LP",mint:"CjTLvvKSQdEujcSzeZRYgk4w1DpuXBbMppLHaxZyz11Y",base:i.RUN,quote:i.USDC,decimals:i.RUN.decimals,version:4},CRWNY_USDC_V4:{symbol:"CRWNY-USDC",name:"CRWNY-USDC V4 LP",mint:"H3D9Gyi4frRLW6bS9vBthDVDJyzyRJ6XhhpP6PJGWaDC",base:i.CRWNY,quote:i.USDC,decimals:i.CRWNY.decimals,version:4},CRWNY_RAY_V4:{symbol:"CRWNY-RAY",name:"CRWNY-RAY V4 LP",mint:"5Cz9wGStNjiUg81q8t6sJJeckuT2C14CYSfyQbtYirSX",base:i.CRWNY,quote:i.RAY,decimals:i.CRWNY.decimals,version:4},BLOCK_USDC_V4:{symbol:"BLOCK-USDC",name:"BLOCK-USDC V4 LP",mint:"8i44Y23GkkwDYZ5iSkVEqmrXUfwNmwo9grguTDWKM8wg",base:i.BLOCK,quote:i.USDC,decimals:i.BLOCK.decimals,version:4},REAL_USDC_V4:{symbol:"REAL-USDC",name:"REAL-USDC V4 LP",mint:"EN43tp8xdkcM8RYSJ4msFHMPTJRXKhUteVYBDJLwTvr3",base:i.REAL,quote:i.USDC,decimals:i.REAL.decimals,version:4},FRKT_USDC_V4:{symbol:"FRKT-USDC",name:"FRKT-USDC V4 LP",mint:"7MgzqVTGeA4wENme81QPTrPy45NJMKVL9XGwxmNT87cG",base:i.FRKT,quote:i.USDC,decimals:i.FRKT.decimals,version:4},MBS_USDC_V4:{symbol:"MBS-USDC",name:"MBS-USDC V4 LP",mint:"BAgSWaPZpsQKyZJdvB5KyvmCNj6hzczzentt5FhDCVHb",base:i.MBS,quote:i.USDC,decimals:i.MBS.decimals,version:4},PRISM_USDC_V4:{symbol:"PRISM-USDC",name:"PRISM-USDC V4 LP",mint:"3baYkTcudvSFMe25UpZcBfdp4FA5kL2E4pfaeJ8AiYJB",base:i.PRISM,quote:i.USDC,decimals:i.PRISM.decimals,version:4},CHICKS_USDC_V4:{symbol:"CHICKS-USDC",name:"CHICKS-USDC V4 LP",mint:"CPzmcw81a6PDasSXhVLfDRKuTJXZPUqocS9VFf5zCFhs",base:i.CHICKS,quote:i.USDC,decimals:i.CHICKS.decimals,version:4},MEAN_RAY_V4:{symbol:"MEAN-RAY",name:"MEAN-RAY V4 LP",mint:"H9wUyrxpAErmdNVPitpHSXgwoomoh91ggJKPWtQQoCn1",base:i.MEAN,quote:i.RAY,decimals:i.MEAN.decimals,version:4},TINY_USDC_V4:{symbol:"TINY-USDC",name:"TINY-USDC V4 LP",mint:"Hho6ZzRDj49L4z6zog8nQZFaxMSz6FX6wNzVpMeAMen",base:i.TINY,quote:i.USDC,decimals:i.TINY.decimals,version:4},SCY_USDC_V4:{symbol:"SCY-USDC",name:"SCY-USDC V4 LP",mint:"EcYk7t6Vw59HDnY2u6H1KDPkk8juMeA1NpGpHiGk1LDf",base:i.SCY,quote:i.USDC,decimals:i.SCY.decimals,version:4}};var jo={WSOL:U({},J)};var er={WSOL:U({},J)};var or=_.from("token/util");var Bt=class{constructor(e,t="UNKNOWN",n="UNKNOWN"){this.decimals=e,this.symbol=t,this.name=n}},We=Bt;We.SOL=new Bt(Ue.decimals,Ue.symbol,Ue.name);var xt=class extends We{constructor(t,n,o="UNKNOWN",s="UNKNOWN"){super(n,o,s);this.mint=Fe(t)}equals(t){return this===t?!0:this.mint.equals(t.mint)}},x=xt;x.WSOL=new xt(J.mint,J.decimals,Ue.symbol,Ue.name);function fe(d,e){return d instanceof x&&e instanceof x?d.equals(e):d instanceof x||e instanceof x?!1:d===e}import zn from"big.js";import Qn from"decimal.js-light";import Yn from"toformat";var Xn=Yn,Xe=Xn;var at=_.from("entity/fraction"),he=Xe(zn),He=Xe(Qn),jn={[0]:He.ROUND_DOWN,[1]:He.ROUND_HALF_UP,[2]:He.ROUND_UP},Jn={[0]:he.roundDown,[1]:he.roundHalfUp,[2]:he.roundUp},O=class{constructor(e,t=H){this.numerator=W(e),this.denominator=W(t)}get quotient(){return this.numerator.div(this.denominator)}invert(){return new O(this.denominator,this.numerator)}add(e){let t=e instanceof O?e:new O(W(e));return this.denominator.eq(t.denominator)?new O(this.numerator.add(t.numerator),this.denominator):new O(this.numerator.mul(t.denominator).add(t.numerator.mul(this.denominator)),this.denominator.mul(t.denominator))}sub(e){let t=e instanceof O?e:new O(W(e));return this.denominator.eq(t.denominator)?new O(this.numerator.sub(t.numerator),this.denominator):new O(this.numerator.mul(t.denominator).sub(t.numerator.mul(this.denominator)),this.denominator.mul(t.denominator))}mul(e){let t=e instanceof O?e:new O(W(e));return new O(this.numerator.mul(t.numerator),this.denominator.mul(t.denominator))}div(e){let t=e instanceof O?e:new O(W(e));return new O(this.numerator.mul(t.denominator),this.denominator.mul(t.numerator))}toSignificant(e,t={groupSeparator:""},n=1){at.assert(Number.isInteger(e),`${e} is not an integer.`),at.assert(e>0,`${e} is not positive.`),He.set({precision:e+1,rounding:jn[n]});let o=new He(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(e);return o.toFormat(o.decimalPlaces(),t)}toFixed(e,t={groupSeparator:""},n=1){return at.assert(Number.isInteger(e),`${e} is not an integer.`),at.assert(e>=0,`${e} is negative.`),he.DP=e,he.RM=Jn[n],new he(this.numerator.toString()).div(this.denominator.toString()).toFormat(e,t)}};var ke=_.from("entity/amount"),en=Xe(Zn);function $n(d,e){let t="0",n="0";if(d.includes(".")){let o=d.split(".");if(o.length===2)[t,n]=o,n=n.padEnd(e,"0");else return ke.throwArgumentError("invalid number string","num",d)}else t=d;return[t,n.slice(0,e)||n]}var ce=class extends O{constructor(t,n,o=!0){let s=new ct(0),r=ot.pow(new ct(t.decimals));if(o)s=W(n);else{let a=new ct(0),c=new ct(0);if(typeof n=="string"||typeof n=="number"||typeof n=="bigint"){let[u,l]=$n(n.toString(),t.decimals);a=W(u),c=W(l)}a=a.mul(r),s=a.add(c)}super(s,r);this.currency=t}get raw(){return this.numerator}isZero(){return this.raw.isZero()}gt(t){return ke.assert(fe(this.currency,t.currency),"gt currency not equals"),this.raw.gt(t.raw)}lt(t){return ke.assert(fe(this.currency,t.currency),"lt currency not equals"),this.raw.lt(t.raw)}add(t){return ke.assert(fe(this.currency,t.currency),"add currency not equals"),new ce(this.currency,this.raw.add(t.raw))}sub(t){return ke.assert(fe(this.currency,t.currency),"sub currency not equals"),new ce(this.currency,this.raw.sub(t.raw))}toSignificant(t=this.currency.decimals,n,o=0){return super.toSignificant(t,n,o)}toFixed(t=this.currency.decimals,n,o=0){return ke.assert(t<=this.currency.decimals,"decimals overflow"),super.toFixed(t,n,o)}toExact(t={groupSeparator:""}){return en.DP=this.currency.decimals,new en(this.numerator.toString()).div(this.denominator.toString()).toFormat(t)}},ue=class extends ce{constructor(t,n,o=!0){super(t,n,o);this.token=t}add(t){return ke.assert(fe(this.token,t.token),"add token not equals"),new ue(this.token,this.raw.add(t.raw))}subtract(t){return ke.assert(fe(this.token,t.token),"sub token not equals"),new ue(this.token,this.raw.sub(t.raw))}};var tn=new O(Zt),Ge=class extends O{toSignificant(e=5,t,n){return this.mul(tn).toSignificant(e,t,n)}toFixed(e=2,t,n){return this.mul(tn).toFixed(e,t,n)}};var ei=_.from("entity/price"),ye=class extends O{constructor(t,n,o,s){super(s,n);this.baseCurrency=t,this.quoteCurrency=o,this.scalar=new O(Lt(t.decimals),Lt(o.decimals))}get raw(){return new O(this.numerator,this.denominator)}get adjusted(){return super.mul(this.scalar)}invert(){return new ye(this.quoteCurrency,this.numerator,this.baseCurrency,this.denominator)}mul(t){ei.assert(fe(this.quoteCurrency,t.baseCurrency),"mul currency not equals");let n=super.mul(t);return new ye(this.baseCurrency,n.denominator,t.quoteCurrency,n.numerator)}toSignificant(t=this.quoteCurrency.decimals,n,o){return this.adjusted.toSignificant(t,n,o)}toFixed(t=this.quoteCurrency.decimals,n,o){return this.adjusted.toFixed(t,n,o)}};import{PublicKey as ui}from"@solana/web3.js";import sn,{isBN as an}from"bn.js";import{bits as cs,BitStructure as us,blob as ti,Blob as ms,cstr as ls,f32 as ds,f32be as ps,f64 as bs,f64be as ys,greedy as Ss,Layout as ni,ns64 as fs,ns64be as As,nu64 as gs,nu64be as Ps,offset as Ts,s16 as ks,s16be as ws,s24 as Ls,s24be as Bs,s32 as ii,s32be as xs,s40 as Cs,s40be as Rs,s48 as Ns,s48be as Ds,s8 as Is,seq as oi,struct as Us,Structure as ri,u16 as si,u16be as hs,u24 as Os,u24be as Es,u32 as Ks,u32be as Ms,u40 as Vs,u40be as _s,u48 as vs,u48be as qs,u8 as ai,UInt as ci,union as Fs,Union as Ws,unionLayoutDiscriminator as Gs,utf8 as Ys}from"@solana/buffer-layout";var Ct=ni,nn=ri;var Rt=ci;var on=ai,Oe=si;var ie=ii;var rn=oi;var me=ti;var ze=class extends Ct{constructor(t,n,o){super(t,o);this.blob=me(t),this.signed=n}decode(t,n=0){let o=new sn(this.blob.decode(t,n),10,"le");return this.signed?o.fromTwos(this.span*8).clone():o}encode(t,n,o=0){return typeof t=="number"&&(t=new sn(t)),this.signed&&(t=t.toTwos(this.span*8)),this.blob.encode(t.toArrayLike(Buffer,"le",this.span),n,o)}};function q(d){return new Rt(1,d)}function oe(d){return new Rt(4,d)}function P(d){return new ze(8,!1,d)}function D(d){return new ze(16,!1,d)}function cn(d){return new ze(16,!0,d)}var ut=class extends Ct{constructor(t,n,o,s){super(t.span,s);this.layout=t,this.decoder=n,this.encoder=o}decode(t,n){return this.decoder(this.layout.decode(t,n))}encode(t,n,o){return this.layout.encode(this.encoder(t),n,o)}getSpan(t,n){return this.layout.getSpan(t,n)}};function K(d){return new ut(me(32),e=>new ui(e),e=>e.toBuffer(),d)}function mt(d){return new ut(on(),mi,li,d)}function mi(d){if(d===0)return!1;if(d===1)return!0;throw new Error("Invalid bool: "+d)}function li(d){return d?1:0}var Nt=class extends nn{decode(e,t){return super.decode(e,t)}};function V(d,e,t){return new Nt(d,e,t)}function G(d,e,t){let n,o=typeof e=="number"?e:an(e)?e.toNumber():new Proxy(e,{get(s,r){if(!n){let a=Reflect.get(s,"count");n=an(a)?a.toNumber():a,Reflect.set(s,"count",n)}return Reflect.get(s,r)},set(s,r,a){return r==="count"&&(n=a),Reflect.set(s,r,a)}});return rn(d,o,t)}var aa=V([oe("mintAuthorityOption"),K("mintAuthority"),P("supply"),q("decimals"),q("isInitialized"),oe("freezeAuthorityOption"),K("freezeAuthority")]),Qe=V([K("mint"),K("owner"),P("amount"),oe("delegateOption"),K("delegate"),q("state"),oe("isNativeOption"),P("isNative"),P("delegatedAmount"),oe("closeAuthorityOption"),K("closeAuthority")]);import{createAssociatedTokenAccountInstruction as Ai,createCloseAccountInstruction as gi,createInitializeAccountInstruction as Pi,createInitializeMintInstruction as Ti,createMintToInstruction as ki,createTransferInstruction as wi}from"@solana/spl-token";import{Keypair as Li,SystemProgram as Bi,TransactionInstruction as xi}from"@solana/web3.js";import Ci from"bn.js";import{PublicKey as di}from"@solana/web3.js";function lt(d){let e=new ArrayBuffer(4);return new DataView(e).setInt32(0,d,!1),new Uint8Array(e)}var ba=Buffer.from("amm_config","utf8"),pi=Buffer.from("pool","utf8"),bi=Buffer.from("pool_vault","utf8"),yi=Buffer.from("pool_reward_vault","utf8"),un=Buffer.from("position","utf8"),Si=Buffer.from("tick_array","utf8"),fi=Buffer.from("operation","utf8");function mn(d,e,t,n){return de([pi,e.toBuffer(),t.toBuffer(),n.toBuffer()],d)}function Dt(d,e,t){return de([bi,e.toBuffer(),t.toBuffer()],d)}function ln(d,e,t){return de([yi,e.toBuffer(),t.toBuffer()],d)}function z(d,e,t){return de([Si,e.toBuffer(),lt(t)],d)}function dt(d,e,t,n){return de([un,e.toBuffer(),lt(t),lt(n)],d)}function Ee(d,e){return de([un,e.toBuffer()],d)}function we(d,e){return de([d.toBuffer(),te.toBuffer(),e.toBuffer()],new di("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"))}function dn(d){return de([Buffer.from("metadata","utf8"),qe.toBuffer(),d.toBuffer()],qe)}function pt(d){return de([fi],d)}var Y=class{static getAssociatedTokenAccount({mint:e,owner:t}){return we(t,e).publicKey}static makeCreateAssociatedTokenAccountInstruction({mint:e,associatedAccount:t,owner:n,payer:o}){return Ai(o,t,n,e)}static makeCreateWrappedNativeAccountInstructions(r){return h(this,arguments,function*({connection:e,owner:t,payer:n,amount:o,commitment:s}){let a=[],c=yield e.getMinimumBalanceForRentExemption(Qe.span,s),u=W(o).add(new Ci(c)),l=Li.generate();return a.push(Bi.createAccount({fromPubkey:n,newAccountPubkey:l.publicKey,lamports:u.toNumber(),space:Qe.span,programId:te})),a.push(this.makeInitAccountInstruction({mint:Fe(J.mint),tokenAccount:l.publicKey,owner:t})),{newAccount:l,instructions:a}})}static insertCreateWrappedNativeAccountInstructions(c){return h(this,arguments,function*({connection:e,owner:t,payer:n,amount:o,instructions:s,signers:r,commitment:a}){let{newAccount:u,instructions:l}=yield this.makeCreateWrappedNativeAccountInstructions({connection:e,owner:t,payer:n,amount:o,commitment:a});return s.push(...l),r.push(u),u.publicKey})}static makeInitMintInstruction({mint:e,decimals:t,mintAuthority:n,freezeAuthority:o=null}){return Ti(e,t,n,o)}static makeMintToInstruction({mint:e,dest:t,authority:n,amount:o,multiSigners:s=[]}){return ki(e,t,n,BigInt(String(o)),s)}static makeInitAccountInstruction({mint:e,tokenAccount:t,owner:n}){return Pi(t,e,n)}static makeTransferInstruction({source:e,destination:t,owner:n,amount:o,multiSigners:s=[]}){return wi(e,t,n,BigInt(String(o)),s)}static makeCloseAccountInstruction({tokenAccount:e,owner:t,payer:n,multiSigners:o=[]}){return gi(e,n,t,o)}static createInitAccountInstruction(e,t,n,o){let s=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:zt,isSigner:!1,isWritable:!1}],r=q("instruction"),a=Buffer.alloc(r.span);return r.encode(1,a),new xi({keys:s,programId:e,data:a})}};var bt=class{static _selectTokenAccount(e){let{tokenAccounts:t,mint:n,owner:o,config:s}=e,{associatedOnly:r}=U({associatedOnly:!0},s),a=t.filter(({accountInfo:u})=>u.mint.equals(n)).sort((u,l)=>u.accountInfo.amount.lt(l.accountInfo.amount)?1:-1),c=Y.getAssociatedTokenAccount({mint:n,owner:o});for(let u of a){let{pubkey:l}=u;if(r){if(c.equals(l))return l}else return l}return null}static _handleTokenAccount(e){return h(this,null,function*(){let{connection:t,side:n,amount:o,mint:s,tokenAccount:r,owner:a,payer:c=a,frontInstructions:u,endInstructions:l,signers:b,bypassAssociatedCheck:m}=e,p=Y.getAssociatedTokenAccount({mint:s,owner:a});if(x.WSOL.mint.equals(s)){let y=yield Y.insertCreateWrappedNativeAccountInstructions({connection:t,owner:a,payer:c,instructions:u,signers:b,amount:o});return l&&l.push(Y.makeCloseAccountInstruction({tokenAccount:y,owner:a,payer:c})),y}else if(!r||n==="out"&&!p.equals(r)&&!m)return u.push(Y.makeCreateAssociatedTokenAccountInstruction({mint:s,associatedAccount:p,owner:a,payer:c})),p;return r})}static _selectOrCreateTokenAccount(e){return h(this,null,function*(){var u,l;let{mint:t,tokenAccounts:n,createInfo:o,associatedOnly:s,owner:r}=e,a=Y.getAssociatedTokenAccount({mint:t,owner:r}),c=n.filter(b=>b.accountInfo.mint.equals(t)&&(!s||b.pubkey.equals(a))).sort((b,m)=>b.accountInfo.amount.lt(m.accountInfo.amount)?1:-1);if(o===void 0||c.length>0)return c.length>0?c[0].pubkey:void 0;if(s){if(o.frontInstructions.push(Y.makeCreateAssociatedTokenAccountInstruction({mint:t,associatedAccount:a,owner:r,payer:o.payer})),t.equals(x.WSOL.mint)){let b=yield Y.insertCreateWrappedNativeAccountInstructions({connection:o.connection,owner:r,payer:o.payer,instructions:o.frontInstructions,signers:o.signers,amount:(u=o.amount)!=null?u:0});o.endInstructions&&o.endInstructions.push(Y.makeCloseAccountInstruction({tokenAccount:b,owner:r,payer:o.payer})),o.amount&&o.frontInstructions.push(Y.makeTransferInstruction({source:b,destination:a,owner:r,amount:o.amount}))}return o.endInstructions&&o.endInstructions.push(Y.makeCloseAccountInstruction({tokenAccount:a,owner:r,payer:o.payer})),a}else if(t.equals(x.WSOL.mint)){let b=yield Y.insertCreateWrappedNativeAccountInstructions({connection:o.connection,owner:r,payer:o.payer,instructions:o.frontInstructions,signers:o.signers,amount:(l=o.amount)!=null?l:0});return o.endInstructions&&o.endInstructions.push(Y.makeCloseAccountInstruction({tokenAccount:b,owner:r,payer:o.payer})),b}else{let b=Ri.generate(),m=yield o.connection.getMinimumBalanceForRentExemption(pn.span),p=Ni.createAccount({fromPubkey:r,newAccountPubkey:b.publicKey,lamports:m,space:pn.span,programId:bn}),y=Y.createInitAccountInstruction(bn,t,b.publicKey,r);return o.frontInstructions.push(p,y),o.signers.push(b),o.endInstructions&&o.endInstructions.push(Y.makeCloseAccountInstruction({tokenAccount:b.publicKey,owner:r,payer:o.payer})),b.publicKey}})}};import{PublicKey as Ja}from"@solana/web3.js";import{BN as $a}from"bn.js";import{PublicKey as Di,TransactionInstruction as pe}from"@solana/web3.js";var Ae={createPool:[233,146,209,142,207,104,64,188],initReward:[95,135,192,196,242,129,230,68],setRewardEmissions:[112,52,167,75,32,201,211,137],openPosition:[135,128,47,77,15,152,240,49],closePosition:[123,134,81,0,49,68,98,98],increaseLiquidity:[46,156,243,118,13,205,251,178],decreaseLiquidity:[160,38,208,111,104,91,44,1],swap:[248,198,158,145,225,117,135,200],collectReward:[18,237,166,197,34,16,213,144]};function yn(d,e,t,n,o,s,r,a,c,u){let l=V([D("sqrtPriceX64")]),b=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:te,isSigner:!1,isWritable:!1},{pubkey:ve,isSigner:!1,isWritable:!1},{pubkey:it,isSigner:!1,isWritable:!1}],m=Buffer.alloc(l.span);l.encode({sqrtPriceX64:u},m);let p=Buffer.from([...Ae.createPool,...m]);return new pe({keys:b,programId:d,data:p})}function Sn(d,e,t,n,o,s,r,a,c,u,l,b,m,p,y,S,f,g,C,T,A,k){let X=V([ie("tickLowerIndex"),ie("tickUpperIndex"),ie("tickArrayLowerStartIndex"),ie("tickArrayUpperStartIndex"),D("liquidity"),P("amountMinA"),P("amountMinB")]),E=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!0},{pubkey:it,isSigner:!1,isWritable:!1},{pubkey:ve,isSigner:!1,isWritable:!1},{pubkey:te,isSigner:!1,isWritable:!1},{pubkey:Ht,isSigner:!1,isWritable:!1},{pubkey:qe,isSigner:!1,isWritable:!1}],v=Buffer.alloc(X.span);X.encode({tickLowerIndex:S,tickUpperIndex:f,tickArrayLowerStartIndex:g,tickArrayUpperStartIndex:C,liquidity:T,amountMinA:A,amountMinB:k},v);let ee=Buffer.from([...Ae.openPosition,...v]);return new pe({keys:E,programId:d,data:ee})}function fn(d,e,t,n,o){let s=V([]),r=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:ve,isSigner:!1,isWritable:!1},{pubkey:te,isSigner:!1,isWritable:!1}],a=Buffer.alloc(s.span);s.encode({},a);let c=Buffer.from([...Ae.closePosition,...a]);return new pe({keys:r,programId:d,data:c})}function An(d,e,t,n,o,s,r,a,c,u,l,b,m,p,y){let S=V([D("liquidity"),P("amountMaxA"),P("amountMaxB")]),f=[{pubkey:e,isSigner:!0,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:te,isSigner:!1,isWritable:!1}],g=Buffer.alloc(S.span);S.encode({liquidity:m,amountMaxA:p,amountMaxB:y},g);let C=Buffer.from([...Ae.increaseLiquidity,...g]);return new pe({keys:f,programId:d,data:C})}function gn(d,e,t,n,o,s,r,a,c,u,l,b,m,p,y,S){let f=V([D("liquidity"),P("amountMinA"),P("amountMinB")]),g=[{pubkey:e,isSigner:!0,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:te,isSigner:!1,isWritable:!1},...m.map(A=>[{pubkey:A.poolRewardVault,isSigner:!1,isWritable:!0},{pubkey:A.ownerRewardVault,isSigner:!1,isWritable:!0}]).flat()],C=Buffer.alloc(f.span);f.encode({liquidity:p,amountMinA:y,amountMinB:S},C);let T=Buffer.from([...Ae.decreaseLiquidity,...C]);return new pe({keys:g,programId:d,data:T})}function Pn(d,e,t,n,o,s,r,a,c,u,l,b,m,p){let y=V([P("amount"),P("otherAmountThreshold"),D("sqrtPriceLimitX64"),mt("isBaseInput")]),S=[{pubkey:e,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:te,isSigner:!1,isWritable:!1},...c.map(C=>({pubkey:C,isSigner:!1,isWritable:!0}))],f=Buffer.alloc(y.span);y.encode({amount:l,otherAmountThreshold:b,sqrtPriceLimitX64:m,isBaseInput:p},f);let g=Buffer.from([...Ae.swap,...f]);return new pe({keys:S,programId:d,data:g})}function Tn(d,e,t,n,o,s,r,a,c,u,l){let b=V([P("openTime"),P("endTime"),D("emissionsPerSecondX64")]),m=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:te,isSigner:!1,isWritable:!1},{pubkey:ve,isSigner:!1,isWritable:!1},{pubkey:it,isSigner:!1,isWritable:!1}],p=Buffer.alloc(b.span);b.encode({openTime:W(c),endTime:W(u),emissionsPerSecondX64:l},p);let y=Buffer.from([...Ae.initReward,...p]);return new pe({keys:m,programId:d,data:y})}function kn(d,e,t,n,o,s,r,a,c,u,l){let b=V([q("rewardIndex"),D("emissionsPerSecondX64"),P("openTime"),P("endTime")]),m=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:te,isSigner:!1,isWritable:!1}],p=Buffer.alloc(b.span);b.encode({rewardIndex:a,emissionsPerSecondX64:l,openTime:W(c),endTime:W(u)},p);let y=Buffer.from([...Ae.setRewardEmissions,...p]);return new pe({keys:m,programId:d,data:y})}function wn(d,e,t,n,o,s){let r=V([q("rewardIndex")]),a=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:te,isSigner:!1,isWritable:!1}],c=Buffer.alloc(r.span);r.encode({rewardIndex:s},c);let u=Buffer.from([...Ae.collectReward,...c]);return new pe({keys:a,programId:d,data:u})}function se(){return new pe({programId:new Di("ComputeBudget111111111111111111111111111111"),data:Buffer.from([0,128,26,6,0,0,0,0,0]),keys:[]})}import Ln from"bn.js";var Q=60,It=1024,R=class{static getTickArrayAddressByTick(e,t,n,o){let s=R.getTickArrayStartIndexByTick(n,o),{publicKey:r}=z(e,t,s);return r}static getTickOffsetInArray(e,t){if(e%t!=0)throw new Error("tickIndex % tickSpacing not equal 0");let n=R.getTickArrayStartIndexByTick(e,t),o=Math.floor((e-n)/t);if(o<0||o>=Q)throw new Error("tick offset in array overflow");return o}static getTickArrayStartIndexByTick(e,t){let n=e/(Q*t);return e<0&&e%(Q*t)!=0?n=Math.ceil(n)-1:n=Math.floor(n),n*(t*Q)}static getTickArrayOffsetInBitmapByTick(e,t){let n=t*Q,o=Math.floor(e/n)+512;return Math.abs(o)}static checkTickArrayIsInitialized(e,t,n){let o=n*Q,s=Math.floor(t/o)+512,r=Math.abs(s);return{isInitialized:e.testn(r),startIndex:(r-512)*o}}static getNextTickArrayStartIndex(e,t,n){return n?e-t*Q:e+t*Q}static mergeTickArrayBitmap(e){return e[0].add(e[1].shln(64)).add(e[2].shln(128)).add(e[3].shln(192)).add(e[4].shln(256)).add(e[5].shln(320)).add(e[6].shln(384)).add(e[7].shln(448)).add(e[8].shln(512)).add(e[9].shln(576)).add(e[10].shln(640)).add(e[11].shln(704)).add(e[12].shln(768)).add(e[13].shln(832)).add(e[14].shln(896)).add(e[15].shln(960))}static getInitializedTickArrayInRange(e,t,n,o){if(n%(t*Q)!=0)throw new Error("Invild tickArrayStartIndex");let s=Math.floor(n/(t*Q))+512;return[...R.searchLowBitFromStart(e,s-1,0,o,t),...R.searchHightBitFromStart(e,s,It,o,t)]}static getAllInitializedTickArrayStartIndex(e,t){return R.searchHightBitFromStart(e,0,It,It,t)}static getAllInitializedTickArrayInfo(e,t,n,o){let s=[],r=R.getAllInitializedTickArrayStartIndex(n,o);for(let a of r){let{publicKey:c}=z(e,t,a);s.push({tickArrayStartIndex:a,tickArrayAddress:c})}return s}static getAllInitializedTickInTickArray(e){return e.ticks.filter(t=>t.liquidityGross.gtn(0))}static searchLowBitFromStart(e,t,n,o,s){let r=0,a=[];for(let c=t;c>=n;c--){if(e.shrn(c).and(new Ln(1)).eqn(1)){let u=(c-512)*(s*Q);a.push(u),r++}if(r>=o)break}return a}static searchHightBitFromStart(e,t,n,o,s){let r=0,a=[];for(let c=t;c<n;c++){if(e.shrn(c).and(new Ln(1)).eqn(1)){let u=(c-512)*(s*Q);a.push(u),r++}if(r>=o)break}return a}};var fc=V([me(8),q("bump"),Oe("index"),K(""),oe("protocolFeeRate"),oe("tradeFeeRate"),Oe("tickSpacing"),oe("fundFeeRate"),G(oe(),1,"padding"),K("fundOwner"),G(P(),3,"padding")]),Ii=V([oe("blockTimestamp"),D("sqrtPriceX64"),D("cumulativeTimePriceX64"),G(D(),1,"")]),Ut=V([me(8),mt("initialized"),K("poolId"),G(Ii,1e3,"observations"),G(D(),5,"")]),Ui=V([q("rewardState"),P("openTime"),P("endTime"),P("lastUpdateTime"),D("emissionsPerSecondX64"),P("rewardTotalEmissioned"),P("rewardClaimed"),K("tokenMint"),K("tokenVault"),K("creator"),D("rewardGrowthGlobalX64")]),Bn=V([me(8),q("bump"),K("ammConfig"),K("creator"),K("mintA"),K("mintB"),K("vaultA"),K("vaultB"),K("observationId"),q("mintDecimalsA"),q("mintDecimalsB"),Oe("tickSpacing"),D("liquidity"),D("sqrtPriceX64"),ie("tickCurrent"),Oe("observationIndex"),Oe("observationUpdateDuration"),D("feeGrowthGlobalX64A"),D("feeGrowthGlobalX64B"),P("protocolFeesTokenA"),P("protocolFeesTokenB"),D("swapInAmountTokenA"),D("swapOutAmountTokenB"),D("swapInAmountTokenB"),D("swapOutAmountTokenA"),q("status"),G(q(),7,""),G(Ui,3,"rewardInfos"),G(P(),16,"tickArrayBitmap"),P("totalFeesTokenA"),P("totalFeesClaimedTokenA"),P("totalFeesTokenB"),P("totalFeesClaimedTokenB"),P("fundFeesTokenA"),P("fundFeesTokenB"),G(P(),15*4-2,"padding")]),hi=V([D("growthInsideLastX64"),P("rewardAmountOwed")]),xn=V([me(8),q("bump"),K("nftMint"),K("poolId"),ie("tickLower"),ie("tickUpper"),D("liquidity"),D("feeGrowthInsideLastX64A"),D("feeGrowthInsideLastX64B"),P("tokenFeesOwedA"),P("tokenFeesOwedB"),G(hi,3,"rewardInfos"),G(P(),8,"")]),Ac=V([me(8),q("bump"),K("poolId"),ie("tickLowerIndex"),ie("tickUpperIndex"),D("liquidity"),D("feeGrowthInsideLastX64A"),D("feeGrowthInsideLastX64B"),P("tokenFeesOwedA"),P("tokenFeesOwedB"),G(D(),3,"rewardGrowthInside"),G(P(),8,"")]),Oi=V([ie("tick"),cn("liquidityNet"),D("liquidityGross"),D("feeGrowthOutsideX64A"),D("feeGrowthOutsideX64B"),G(D(),3,"rewardGrowthsOutsideX64"),G(oe(),13,"")]),je=V([me(8),K("poolId"),ie("startTickIndex"),G(Oi,Q,"ticks"),q("initializedTickCount"),G(q(),115,"")]),Cn=V([me(329),G(K(),100,"whitelistMints")]);import Ce from"bn.js";var Le=new Ce(-1),be=new Ce(1).shln(64),yt=new Ce(1).shln(128),ht=be.sub(H),Je=64,Rn=yt.subn(1),Ke=-307200,Ze=-Ke,Re=new Ce("3939943522091"),Ne=new Ce("86367321006760116002434269"),Nn=-307200,Dn=306600,In=14,Un="59543866431248",hn="184467440737095516",On="15793534762490258745",St=new Ce(10).pow(new Ce(6));import B from"bn.js";import $e from"decimal.js";var Ot=15,ft=class{static getTickArrays(e,t,n,o,s,r){return h(this,null,function*(){let a=R.mergeTickArrayBitmap(r),c=[],u=R.getTickArrayStartIndexByTick(o,s),l=R.getInitializedTickArrayInRange(a,s,u,Math.floor(Ot/2));for(let p=0;p<l.length;p++){let{publicKey:y}=z(t,n,l[p]);c.push(y)}let b=(yield Te(e,c)).map(p=>p!==null?je.decode(p.data):null),m={};for(let p=0;p<c.length;p++){let y=b[p];y!==null&&(m[y.startTickIndex]=re(U({},y),{address:c[p]}))}return m})}static nextInitializedTick(e,t,n,o,s,r){let{initializedTick:a,tickArrayAddress:c,tickArrayStartTickIndex:u}=this.nextInitializedTickInOneArray(e,t,n,o,s,r);for(;a==null||a.liquidityGross.lten(0);){if(u=R.getNextTickArrayStartIndex(u,s,r),u<Nn||u>Dn)throw new Error("No enough initialized tickArray");let l=n[u];if(l===void 0)continue;let{nextTick:b,tickArrayAddress:m,tickArrayStartTickIndex:p}=this.firstInitializedTickInOneArray(e,t,l,r);[a,c,u]=[b,m,p]}if(a==null)throw new Error("No invaild tickArray cache");return{nextTick:a,tickArrayAddress:c,tickArrayStartTickIndex:u}}static firstInitializedTickInOneArray(e,t,n,o){let s;if(o){let a=Q-1;for(;a>=0;){let c=n.ticks[a];if(c.liquidityGross.gtn(0)){s=c;break}a=a-1}}else{let a=0;for(;a<Q;){let c=n.ticks[a];if(c.liquidityGross.gtn(0)){s=c;break}a=a+1}}let{publicKey:r}=z(e,t,n.startTickIndex);return{nextTick:s,tickArrayAddress:r,tickArrayStartTickIndex:n.startTickIndex}}static nextInitializedTickInOneArray(e,t,n,o,s,r){let a=R.getTickArrayStartIndexByTick(o,s),c=Math.floor((o-a)/s),u=n[a];if(u==null)return{initializedTick:void 0,tickArrayAddress:void 0,tickArrayStartTickIndex:a};let l;if(r)for(;c>=0;){let m=u.ticks[c];if(m.liquidityGross.gtn(0)){l=m;break}c=c-1}else for(c=c+1;c<Q;){let m=u.ticks[c];if(m.liquidityGross.gtn(0)){l=m;break}c=c+1}let{publicKey:b}=z(e,t,a);return{initializedTick:l,tickArrayAddress:b,tickArrayStartTickIndex:u.startTickIndex}}};var w=class{static mulDivRoundingUp(e,t,n){let o=e.mul(t),s=o.div(n);return o.mod(n).eq(L)||(s=s.add(H)),s}static mulDivFloor(e,t,n){if(n.eq(L))throw new Error("division by 0");return e.mul(t).div(n)}static mulDivCeil(e,t,n){if(n.eq(L))throw new Error("division by 0");return e.mul(t).add(n.sub(H)).div(n)}static x64ToDecimal(e,t){return new $e(e.toString()).div($e.pow(2,64)).toDecimalPlaces(t)}static decimalToX64(e){return new B(e.mul($e.pow(2,64)).floor().toFixed())}static wrappingSubU128(e,t){return e.add(yt).sub(t).mod(yt)}};function j(d,e){return Et(d.mul(e),64,256)}function Ei(d,e,t){let n=d.toTwos(t).shln(e);return n.imaskn(t+1),n.fromTwos(t)}function Et(d,e,t){let n=d.toTwos(t).shrn(e);return n.imaskn(t-e+1),n.fromTwos(t-e)}var N=class{static sqrtPriceX64ToPrice(e,t,n){return w.x64ToDecimal(e).pow(2).mul($e.pow(10,t-n))}static priceToSqrtPriceX64(e,t,n){return w.decimalToX64(e.mul($e.pow(10,n-t)).sqrt())}static getNextSqrtPriceX64FromInput(e,t,n,o){if(!e.gt(L))throw new Error("sqrtPriceX64 must greater than 0");if(!t.gt(L))throw new Error("liquidity must greater than 0");return o?this.getNextSqrtPriceFromTokenAmountARoundingUp(e,t,n,!0):this.getNextSqrtPriceFromTokenAmountBRoundingDown(e,t,n,!0)}static getNextSqrtPriceX64FromOutput(e,t,n,o){if(!e.gt(L))throw new Error("sqrtPriceX64 must greater than 0");if(!t.gt(L))throw new Error("liquidity must greater than 0");return o?this.getNextSqrtPriceFromTokenAmountBRoundingDown(e,t,n,!1):this.getNextSqrtPriceFromTokenAmountARoundingUp(e,t,n,!1)}static getNextSqrtPriceFromTokenAmountARoundingUp(e,t,n,o){if(n.eq(L))return e;let s=t.shln(Je);if(o){let r=s,a=s.add(n.mul(e));return a.gte(r)?w.mulDivCeil(r,e,a):w.mulDivRoundingUp(r,H,r.div(e).add(n))}else{let r=n.mul(e);if(!s.gt(r))throw new Error("getNextSqrtPriceFromTokenAmountARoundingUp,liquidityLeftShift must gt amountMulSqrtPrice");let a=s.sub(r);return w.mulDivCeil(s,e,a)}}static getNextSqrtPriceFromTokenAmountBRoundingDown(e,t,n,o){let s=n.shln(Je);if(o)return e.add(s.div(t));{let r=w.mulDivRoundingUp(s,H,t);if(!e.gt(r))throw new Error("getNextSqrtPriceFromTokenAmountBRoundingDown sqrtPriceX64 must gt amountDivLiquidity");return e.sub(r)}}static getSqrtPriceX64FromTick(e){if(!Number.isInteger(e))throw new Error("tick must be integer");if(e<Ke||e>Ze)throw new Error("tick must be in MIN_TICK and MAX_TICK");let t=e<0?e*-1:e,n=(t&1)!=0?new B("18445821805675395072"):new B("18446744073709551616");return(t&2)!=0&&(n=j(n,new B("18444899583751176192"))),(t&4)!=0&&(n=j(n,new B("18443055278223355904"))),(t&8)!=0&&(n=j(n,new B("18439367220385607680"))),(t&16)!=0&&(n=j(n,new B("18431993317065453568"))),(t&32)!=0&&(n=j(n,new B("18417254355718170624"))),(t&64)!=0&&(n=j(n,new B("18387811781193609216"))),(t&128)!=0&&(n=j(n,new B("18329067761203558400"))),(t&256)!=0&&(n=j(n,new B("18212142134806163456"))),(t&512)!=0&&(n=j(n,new B("17980523815641700352"))),(t&1024)!=0&&(n=j(n,new B("17526086738831433728"))),(t&2048)!=0&&(n=j(n,new B("16651378430235570176"))),(t&4096)!=0&&(n=j(n,new B("15030750278694412288"))),(t&8192)!=0&&(n=j(n,new B("12247334978884435968"))),(t&16384)!=0&&(n=j(n,new B("8131365268886854656"))),(t&32768)!=0&&(n=j(n,new B("3584323654725218816"))),(t&65536)!=0&&(n=j(n,new B("696457651848324352"))),(t&131072)!=0&&(n=j(n,new B("26294789957507116"))),(t&262144)!=0&&(n=j(n,new B("37481735321082"))),e>0&&(n=Rn.div(n)),n}static getTickFromPrice(e,t,n){return N.getTickFromSqrtPriceX64(N.priceToSqrtPriceX64(e,t,n))}static getTickFromSqrtPriceX64(e){if(e.gt(Ne)||e.lt(Re))throw new Error("Provided sqrtPrice is not within the supported sqrtPrice range.");let t=e.bitLength()-1,n=new B(t-64),o=Ei(n,32,128),s=new B("8000000000000000","hex"),r=0,a=new B(0),c=t>=64?e.shrn(t-63):e.shln(63-t);for(;s.gt(new B(0))&&r<In;){c=c.mul(c);let y=c.shrn(127);c=c.shrn(63+y.toNumber()),a=a.add(s.mul(y)),s=s.shrn(1),r+=1}let u=a.shrn(32),b=o.add(u).mul(new B(Un)),m=Et(b.sub(new B(hn)),64,128).toNumber(),p=Et(b.add(new B(On)),64,128).toNumber();return m==p?m:N.getSqrtPriceX64FromTick(p).lte(e)?p:m}},Me=class{static getTickWithPriceAndTickspacing(e,t,n,o){let r=N.getTickFromSqrtPriceX64(N.priceToSqrtPriceX64(e,n,o))/t;return r<0?r=Math.floor(r):r=Math.ceil(r),r*t}static roundPriceWithTickspacing(e,t,n,o){let s=Me.getTickWithPriceAndTickspacing(e,t,n,o),r=N.getSqrtPriceX64FromTick(s);return N.sqrtPriceX64ToPrice(r,n,o)}},I=class{static addDelta(e,t){return e.add(t)}static getTokenAmountAFromLiquidity(e,t,n,o){if(e.gt(t)&&([e,t]=[t,e]),!e.gt(L))throw new Error("sqrtPriceX64A must greater than 0");let s=n.ushln(Je),r=t.sub(e);return o?w.mulDivRoundingUp(w.mulDivCeil(s,r,t),H,e):w.mulDivFloor(s,r,t).div(e)}static getTokenAmountBFromLiquidity(e,t,n,o){if(e.gt(t)&&([e,t]=[t,e]),!e.gt(L))throw new Error("sqrtPriceX64A must greater than 0");return o?w.mulDivCeil(n,t.sub(e),be):w.mulDivFloor(n,t.sub(e),be)}static getLiquidityFromTokenAmountA(e,t,n,o){e.gt(t)&&([e,t]=[t,e]);let s=n.mul(e).mul(t),r=t.sub(e),a=s.div(r);return o?w.mulDivRoundingUp(a,H,ht):a.shrn(Je)}static getLiquidityFromTokenAmountB(e,t,n){return e.gt(t)&&([e,t]=[t,e]),w.mulDivFloor(n,ht,t.sub(e))}static getLiquidityFromTokenAmounts(e,t,n,o,s){if(t.gt(n)&&([t,n]=[n,t]),e.lte(t))return I.getLiquidityFromTokenAmountA(t,n,o,!1);if(e.lt(n)){let r=I.getLiquidityFromTokenAmountA(e,n,o,!1),a=I.getLiquidityFromTokenAmountB(t,e,s);return r.lt(a)?r:a}else return I.getLiquidityFromTokenAmountB(t,n,s)}static getAmountsFromLiquidity(e,t,n,o,s){if(t.gt(n)&&([t,n]=[n,t]),e.lte(t))return{amountA:I.getTokenAmountAFromLiquidity(t,n,o,s),amountB:new B(0)};if(e.lt(n)){let r=I.getTokenAmountAFromLiquidity(e,n,o,s),a=I.getTokenAmountBFromLiquidity(t,e,o,s);return{amountA:r,amountB:a}}else return{amountA:new B(0),amountB:I.getTokenAmountBFromLiquidity(t,n,o,s)}}static getAmountsFromLiquidityWithSlippage(e,t,n,o,s,r,a){let{amountA:c,amountB:u}=I.getAmountsFromLiquidity(e,t,n,o,r),l=s?1+a:1-a,b=c.muln(l),m=u.muln(l);return{amountSlippageA:b,amountSlippageB:m}}},Ve=class{static swapCompute(e,t,n,o,s,r,a,c,u,l,b,m){if(l.eq(L))throw new Error("amountSpecified must not be 0");if(m||(m=o?Re.add(H):Ne.sub(H)),o){if(m.lt(Re))throw new Error("sqrtPriceX64 must greater than MIN_SQRT_PRICE_X64");if(m.gte(u))throw new Error("sqrtPriceX64 must smaller than current")}else{if(m.gt(Ne))throw new Error("sqrtPriceX64 must smaller than MAX_SQRT_PRICE_X64");if(m.lte(u))throw new Error("sqrtPriceX64 must greater than current")}let p=l.gt(L),y={amountSpecifiedRemaining:l,amountCalculated:L,sqrtPriceX64:u,tick:a,accounts:[],liquidity:r,feeAmount:new B(0)},S=0;for(;!y.amountSpecifiedRemaining.eq(L)&&y.sqrtPriceX64!=m&&y.tick<Ze&&y.tick>Ke;){if(S>10)throw Error("liquidity limit");let f={};f.sqrtPriceStartX64=y.sqrtPriceX64;let{nextTick:g,tickArrayAddress:C,tickArrayStartTickIndex:T}=ft.nextInitializedTick(e,t,n,y.tick,c,o);f.tickNext=g.tick,f.initialized=g.liquidityGross.gtn(0),b!==T&&C&&(y.accounts.push(C),b=T),f.tickNext<Ke?f.tickNext=Ke:f.tickNext>Ze&&(f.tickNext=Ze),f.sqrtPriceNextX64=N.getSqrtPriceX64FromTick(f.tickNext);let A;if(o&&f.sqrtPriceNextX64.lt(m)||!o&&f.sqrtPriceNextX64.gt(m)?A=m:A=f.sqrtPriceNextX64,[y.sqrtPriceX64,f.amountIn,f.amountOut,f.feeAmount]=Ve.swapStepCompute(y.sqrtPriceX64,A,y.liquidity,y.amountSpecifiedRemaining,s),y.feeAmount=y.feeAmount.add(f.feeAmount),p?(y.amountSpecifiedRemaining=y.amountSpecifiedRemaining.sub(f.amountIn.add(f.feeAmount)),y.amountCalculated=y.amountCalculated.sub(f.amountOut)):(y.amountSpecifiedRemaining=y.amountSpecifiedRemaining.add(f.amountOut),y.amountCalculated=y.amountCalculated.add(f.amountIn.add(f.feeAmount))),y.sqrtPriceX64.eq(f.sqrtPriceNextX64)){if(f.initialized){let k=g.liquidityNet;o&&(k=k.mul(Le)),y.liquidity=I.addDelta(y.liquidity,k)}y.tick=o?f.tickNext-1:f.tickNext}else y.sqrtPriceX64!=f.sqrtPriceStartX64&&(y.tick=N.getTickFromSqrtPriceX64(y.sqrtPriceX64));++S}return{amountCalculated:y.amountCalculated,feeAmount:y.feeAmount,sqrtPriceX64:y.sqrtPriceX64,liquidity:y.liquidity,tickCurrent:y.tick,accounts:y.accounts}}static swapStepCompute(e,t,n,o,s){let r={sqrtPriceX64Next:new B(0),amountIn:new B(0),amountOut:new B(0),feeAmount:new B(0)},a=e.gte(t),c=o.gte(L);if(c){let l=w.mulDivFloor(o,St.sub(new B(s.toString())),St);r.amountIn=a?I.getTokenAmountAFromLiquidity(t,e,n,!0):I.getTokenAmountBFromLiquidity(e,t,n,!0),l.gte(r.amountIn)?r.sqrtPriceX64Next=t:r.sqrtPriceX64Next=N.getNextSqrtPriceX64FromInput(e,n,l,a)}else r.amountOut=a?I.getTokenAmountBFromLiquidity(t,e,n,!1):I.getTokenAmountAFromLiquidity(e,t,n,!1),o.mul(Le).gte(r.amountOut)?r.sqrtPriceX64Next=t:r.sqrtPriceX64Next=N.getNextSqrtPriceX64FromOutput(e,n,o.mul(Le),a);let u=t.eq(r.sqrtPriceX64Next);return a?(u&&c||(r.amountIn=I.getTokenAmountAFromLiquidity(r.sqrtPriceX64Next,e,n,!0)),u&&!c||(r.amountOut=I.getTokenAmountBFromLiquidity(r.sqrtPriceX64Next,e,n,!1))):(r.amountIn=u&&c?r.amountIn:I.getTokenAmountBFromLiquidity(e,r.sqrtPriceX64Next,n,!0),r.amountOut=u&&!c?r.amountOut:I.getTokenAmountAFromLiquidity(e,r.sqrtPriceX64Next,n,!1)),!c&&r.amountOut.gt(o.mul(Le))&&(r.amountOut=o.mul(Le)),c&&!r.sqrtPriceX64Next.eq(t)?r.feeAmount=o.sub(r.amountIn):r.feeAmount=w.mulDivCeil(r.amountIn,new B(s),St.sub(new B(s))),[r.sqrtPriceX64Next,r.amountIn,r.amountOut,r.feeAmount]}};import{PublicKey as Ki}from"@solana/web3.js";import Mi from"bn.js";var et=class{static getOutputAmountAndRemainAccounts(e,t,n,o,s){let r=n.equals(e.mintA.mint),a=[],{isExist:c,startIndex:u,nextAccountMeta:l}=this.getFirstInitializedTickArray(e,r);if(!c||u===void 0||!l)throw new Error("Invalid tick array");a.push(l);let{amountCalculated:b,accounts:m,sqrtPriceX64:p,feeAmount:y}=Ve.swapCompute(e.programId,e.id,t,r,e.ammConfig.tradeFeeRate,e.liquidity,e.tickCurrent,e.tickSpacing,e.sqrtPriceX64,o,u,s);return a.push(...m),{expectedAmountOut:b.mul(Le),remainingAccounts:a,executionPrice:p,feeAmount:y}}static getFirstInitializedTickArray(e,t){let n=R.mergeTickArrayBitmap(e.tickArrayBitmap),{isInitialized:o,startIndex:s}=R.checkTickArrayIsInitialized(n,e.tickCurrent,e.tickSpacing);if(o){let{publicKey:c}=z(e.programId,e.id,s);return{isExist:!0,startIndex:s,nextAccountMeta:c}}let{isExist:r,nextStartIndex:a}=this.nextInitializedTickArrayStartIndex(e,t);if(r){let{publicKey:c}=z(e.programId,e.id,a);return{isExist:!0,startIndex:a,nextAccountMeta:c}}return{isExist:!1,nextAccountMeta:void 0,startIndex:void 0}}static nextInitializedTickArrayStartIndex(e,t){let n=R.mergeTickArrayBitmap(e.tickArrayBitmap),o=R.getTickArrayOffsetInBitmapByTick(e.tickCurrent,e.tickSpacing),s=t?R.searchLowBitFromStart(n,o-1,0,1,e.tickSpacing):R.searchHightBitFromStart(n,o,1024,1,e.tickSpacing);return s.length>0?{isExist:!0,nextStartIndex:s[0]}:{isExist:!1,nextStartIndex:0}}static updatePoolRewardInfos({chainTime:e,poolLiquidity:t,rewardInfos:n}){let o=[];for(let s of n){let r=re(U({},s),{perSecond:w.x64ToDecimal(s.emissionsPerSecondX64),remainingRewards:void 0});if(r.tokenMint.equals(Ki.default))continue;if(e<=r.openTime.toNumber()||t.eq(L)){o.push(r);continue}let a=new Mi(Math.min(r.endTime.toNumber(),e)),c=a.sub(r.lastUpdateTime),u=w.mulDivFloor(c,r.emissionsPerSecondX64,t),l=r.rewardGrowthGlobalX64.add(u),b=w.mulDivFloor(c,r.emissionsPerSecondX64,be),m=r.rewardTotalEmissioned.add(b);o.push(re(U({},r),{rewardGrowthGlobalX64:l,rewardTotalEmissioned:m,lastUpdateTime:a}))}return o}};import _e from"bn.js";var tt=class{static getfeeGrowthInside(e,t,n){let o=new _e(0),s=new _e(0);e.tickCurrent>=t.tick?(o=t.feeGrowthOutsideX64A,s=t.feeGrowthOutsideX64B):(o=e.feeGrowthGlobalX64A.sub(t.feeGrowthOutsideX64A),s=e.feeGrowthGlobalX64B.sub(t.feeGrowthOutsideX64B));let r=new _e(0),a=new _e(0);e.tickCurrent<n.tick?(r=n.feeGrowthOutsideX64A,a=n.feeGrowthOutsideX64B):(r=e.feeGrowthGlobalX64A.sub(n.feeGrowthOutsideX64A),a=e.feeGrowthGlobalX64B.sub(n.feeGrowthOutsideX64B));let c=w.wrappingSubU128(w.wrappingSubU128(e.feeGrowthGlobalX64A,o),r),u=w.wrappingSubU128(w.wrappingSubU128(e.feeGrowthGlobalX64B,s),a);return{feeGrowthInsideX64A:c,feeGrowthInsideBX64:u}}static GetPositionFees(e,t,n,o){let{feeGrowthInsideX64A:s,feeGrowthInsideBX64:r}=this.getfeeGrowthInside(e,n,o),a=w.mulDivFloor(w.wrappingSubU128(s,t.feeGrowthInsideLastX64A),t.liquidity,be),c=t.tokenFeesOwedA.add(a),u=w.mulDivFloor(w.wrappingSubU128(r,t.feeGrowthInsideLastX64B),t.liquidity,be),l=t.tokenFeesOwedB.add(u);return{tokenFeeAmountA:c,tokenFeeAmountB:l}}static GetPositionRewards(e,t,n,o){let s=[],r=this.getRewardGrowthInside(e.tickCurrent,n,o,e.rewardInfos);for(let a=0;a<r.length;a++){let c=r[a],u=t.rewardInfos[a],l=w.wrappingSubU128(c,u.growthInsideLastX64),b=w.mulDivFloor(l,t.liquidity,be),m=u.rewardAmountOwed.add(b);s.push(m)}return s}static getRewardGrowthInside(e,t,n,o){let s=[];for(let r=0;r<o.length;r++){let a=new _e(0);t.liquidityGross.eqn(0)?a=o[r].rewardGrowthGlobalX64:e<t.tick?a=o[r].rewardGrowthGlobalX64.sub(t.rewardGrowthsOutsideX64[r]):a=t.rewardGrowthsOutsideX64[r];let c=new _e(0);n.liquidityGross.eqn(0)||(e<n.tick?c=n.rewardGrowthsOutsideX64[r]:c=o[r].rewardGrowthGlobalX64.sub(n.rewardGrowthsOutsideX64[r])),s.push(w.wrappingSubU128(w.wrappingSubU128(o[r].rewardGrowthGlobalX64,a),c))}return s}};var $=_.from("AmmV3"),At=class extends bt{static makeCreatePoolTransaction(c){return h(this,arguments,function*({connection:e,programId:t,owner:n,mint1:o,mint2:s,ammConfig:r,initialPrice:a}){let[u,l,b]=o.mint._bn.gt(s.mint._bn)?[s,o,new M(1).div(a)]:[o,s,a],m=N.priceToSqrtPriceX64(b,u.decimals,l.decimals),p=new ae;p.add(se());let y=yield this.makeCreatePoolInstructions({connection:e,programId:t,owner:n,mintA:u,mintB:l,ammConfigId:r.id,initialPriceX64:m});return p.add(...y.instructions),{signers:y.signers,transaction:p,mockPoolInfo:{id:y.address.poolId,mintA:{mint:u.mint,vault:y.address.mintAVault,decimals:u.decimals},mintB:{mint:l.mint,vault:y.address.mintBVault,decimals:l.decimals},ammConfig:r,observationId:y.address.observationId,creator:n,programId:t,version:6,tickSpacing:r.tickSpacing,liquidity:L,sqrtPriceX64:m,currentPrice:b,tickCurrent:0,observationIndex:0,observationUpdateDuration:0,feeGrowthGlobalX64A:L,feeGrowthGlobalX64B:L,protocolFeesTokenA:L,protocolFeesTokenB:L,swapInAmountTokenA:L,swapOutAmountTokenB:L,swapInAmountTokenB:L,swapOutAmountTokenA:L,tickArrayBitmap:[],rewardInfos:[],day:{volume:0,volumeFee:0,feeA:0,feeB:0,feeApr:0,rewardApr:{A:0,B:0,C:0},apr:0,priceMax:0,priceMin:0},week:{volume:0,volumeFee:0,feeA:0,feeB:0,feeApr:0,rewardApr:{A:0,B:0,C:0},apr:0,priceMax:0,priceMin:0},month:{volume:0,volumeFee:0,feeA:0,feeB:0,feeApr:0,rewardApr:{A:0,B:0,C:0},apr:0,priceMax:0,priceMin:0},tvl:0}}})}static makeOpenPositionTransaction(u){return h(this,arguments,function*({connection:e,poolInfo:t,ownerInfo:n,tickLower:o,tickUpper:s,liquidity:r,slippage:a,associatedOnly:c=!0}){let l=[],b=[],m=[],{amountSlippageA:p,amountSlippageB:y}=I.getAmountsFromLiquidityWithSlippage(t.sqrtPriceX64,N.getSqrtPriceX64FromTick(o),N.getSqrtPriceX64FromTick(s),r,!0,!0,a),S=n.useSOLBalance&&t.mintA.mint.equals(x.WSOL.mint),f=n.useSOLBalance&&t.mintB.mint.equals(x.WSOL.mint),g=yield this._selectOrCreateTokenAccount({mint:t.mintA.mint,tokenAccounts:S?[]:n.tokenAccounts,owner:n.wallet,createInfo:S?{connection:e,payer:n.feePayer,amount:p,frontInstructions:l,endInstructions:b,signers:m}:void 0,associatedOnly:S?!1:c}),C=yield this._selectOrCreateTokenAccount({mint:t.mintB.mint,tokenAccounts:f?[]:n.tokenAccounts,owner:n.wallet,createInfo:f?{connection:e,payer:n.feePayer,amount:y,frontInstructions:l,endInstructions:b,signers:m}:void 0,associatedOnly:f?!1:c});$.assertArgument(g!==void 0&&C!==void 0,"cannot found target token accounts","tokenAccounts",n.tokenAccounts);let T=new ae;T.add(se());let A=this.makeOpenPositionInstructions({poolInfo:t,ownerInfo:re(U({},n),{tokenAccountA:g,tokenAccountB:C}),tickLower:o,tickUpper:s,liquidity:r,amountSlippageA:p,amountSlippageB:y});return T.add(...l,...A.instructions,...b),{signers:[...m,...A.signers],transaction:T,address:U({},A.address)}})}static makeIncreaseLiquidityTransaction(a){return h(this,arguments,function*({connection:e,poolInfo:t,ownerPosition:n,ownerInfo:o,liquidity:s,slippage:r}){let c=[],u=[],l=[],{amountSlippageA:b,amountSlippageB:m}=I.getAmountsFromLiquidityWithSlippage(t.sqrtPriceX64,N.getSqrtPriceX64FromTick(n.tickLower),N.getSqrtPriceX64FromTick(n.tickUpper),s,!0,!0,r),p,y;t.mintA.mint.equals(new ge(J.mint))&&o.useSOLBalance?p=yield this._handleTokenAccount({connection:e,side:"in",amount:b,mint:t.mintA.mint,tokenAccount:null,owner:o.wallet,payer:o.feePayer,frontInstructions:c,endInstructions:u,signers:l,bypassAssociatedCheck:!0}):p=this._selectTokenAccount({tokenAccounts:o.tokenAccounts,mint:t.mintA.mint,owner:o.wallet,config:{associatedOnly:!1}}),t.mintB.mint.equals(new ge(J.mint))&&o.useSOLBalance?y=yield this._handleTokenAccount({connection:e,side:"in",amount:m,mint:t.mintB.mint,tokenAccount:null,owner:o.wallet,payer:o.feePayer,frontInstructions:c,endInstructions:u,signers:l,bypassAssociatedCheck:!0}):y=this._selectTokenAccount({tokenAccounts:o.tokenAccounts,mint:t.mintB.mint,owner:o.wallet,config:{associatedOnly:!1}}),$.assertArgument(!!p||!!y,"cannot found target token accounts","tokenAccounts",o.tokenAccounts);let S=new ae;S.add(se());let f=this.makeIncreaseLiquidityInstructions({poolInfo:t,ownerPosition:n,ownerInfo:{wallet:o.wallet,tokenAccountA:p,tokenAccountB:y},liquidity:s,amountSlippageA:b,amountSlippageB:m});return S.add(...c,...f.instructions,...u),{signers:[...l,...f.signers],transaction:S,address:U({},f.address)}})}static makeDecreaseLiquidityTransaction(l){return h(this,arguments,function*({connection:e,poolInfo:t,ownerPosition:n,ownerInfo:o,liquidity:s,amountMinA:r,amountMinB:a,slippage:c,associatedOnly:u=!0}){let b=[],m=[],p=[],y,S;if(r!==void 0&&a!==void 0)y=r,S=a;else{let{amountSlippageA:E,amountSlippageB:v}=I.getAmountsFromLiquidityWithSlippage(t.sqrtPriceX64,N.getSqrtPriceX64FromTick(n.tickLower),N.getSqrtPriceX64FromTick(n.tickUpper),s,!1,!0,c!=null?c:0);y=E,S=v}let f=o.useSOLBalance&&t.mintA.mint.equals(x.WSOL.mint),g=o.useSOLBalance&&t.mintB.mint.equals(x.WSOL.mint),C=yield this._selectOrCreateTokenAccount({mint:t.mintA.mint,tokenAccounts:f?[]:o.tokenAccounts,owner:o.wallet,createInfo:{connection:e,payer:o.feePayer,amount:0,frontInstructions:b,signers:p},associatedOnly:f?!1:u}),T=yield this._selectOrCreateTokenAccount({mint:t.mintB.mint,tokenAccounts:g?[]:o.tokenAccounts,owner:o.wallet,createInfo:{connection:e,payer:o.feePayer,amount:0,frontInstructions:b,signers:p},associatedOnly:g?!1:u}),A=[];for(let E of t.rewardInfos){let v=o.useSOLBalance&&E.tokenMint.equals(x.WSOL.mint),ee=yield this._selectOrCreateTokenAccount({mint:E.tokenMint,tokenAccounts:v?[]:o.tokenAccounts,owner:o.wallet,createInfo:{connection:e,payer:o.feePayer,amount:0,frontInstructions:b,endInstructions:v?m:[],signers:p},associatedOnly:v?!1:u});A.push(ee)}$.assertArgument(!!C||!!T,"cannot found target token accounts","tokenAccounts",o.tokenAccounts);let k=new ae;k.add(se());let X=this.makeDecreaseLiquidityInstructions({poolInfo:t,ownerPosition:n,ownerInfo:{wallet:o.wallet,tokenAccountA:C,tokenAccountB:T,rewardAccounts:A},liquidity:s,amountMinA:y,amountMinB:S});return k.add(...b,...X.instructions,...m),o.closePosition&&k.add(...this.makeClosePositionInstructions({poolInfo:t,ownerInfo:o,ownerPosition:n}).instructions),{signers:[...p,...X.signers],transaction:k,address:U({},X.address)}})}static makeSwapBaseInTransaction(u){return h(this,arguments,function*({connection:e,poolInfo:t,ownerInfo:n,inputMint:o,amountIn:s,amountOutMin:r,priceLimit:a,remainingAccounts:c}){let l=[],b=[],m=[],p;!a||a.equals(new M(0))?p=o.equals(t.mintA.mint)?Re.add(H):Ne.sub(H):p=N.priceToSqrtPriceX64(a,t.mintA.decimals,t.mintB.decimals);let y=t.mintA.mint.equals(o),S,f;t.mintA.mint.equals(new ge(J.mint))&&n.useSOLBalance?S=yield this._handleTokenAccount({connection:e,side:"in",amount:y?s:0,mint:t.mintA.mint,tokenAccount:null,owner:n.wallet,payer:n.feePayer,frontInstructions:l,endInstructions:b,signers:m,bypassAssociatedCheck:!0}):S=this._selectTokenAccount({tokenAccounts:n.tokenAccounts,mint:t.mintA.mint,owner:n.wallet,config:{associatedOnly:!1}}),t.mintB.mint.equals(new ge(J.mint))&&n.useSOLBalance?f=yield this._handleTokenAccount({connection:e,side:"in",amount:y?0:s,mint:t.mintB.mint,tokenAccount:null,owner:n.wallet,payer:n.feePayer,frontInstructions:l,endInstructions:b,signers:m,bypassAssociatedCheck:!0}):f=this._selectTokenAccount({tokenAccounts:n.tokenAccounts,mint:t.mintB.mint,owner:n.wallet,config:{associatedOnly:!1}}),$.assertArgument(!!S||!!f,"cannot found target token accounts","tokenAccounts",n.tokenAccounts);let g=new ae;g.add(se());let C=this.makeSwapBaseInInstructions({poolInfo:t,ownerInfo:{wallet:n.wallet,tokenAccountA:S,tokenAccountB:f},inputMint:o,amountIn:s,amountOutMin:r,sqrtPriceLimitX64:p,remainingAccounts:c});return g.add(...l,...C.instructions,...b),{signers:[...m,...C.signers],transaction:g,address:U({},C.address)}})}static makeCLosePositionTransaction({poolInfo:e,ownerPosition:t,ownerInfo:n}){let o=this.makeClosePositionInstructions({poolInfo:e,ownerInfo:n,ownerPosition:t}),s=new ae;return s.add(...o.instructions),{signers:o.signers,transaction:s,address:U({},o.address)}}static makeInitRewardTransaction(r){return h(this,arguments,function*({connection:e,poolInfo:t,ownerInfo:n,rewardInfo:o,associatedOnly:s=!0}){$.assertArgument(o.endTime>o.openTime,"reward time error","rewardInfo",o);let a=[],c=[],u=[],l=n.useSOLBalance&&o.mint.equals(x.WSOL.mint),b=yield this._selectOrCreateTokenAccount({mint:o.mint,tokenAccounts:l?[]:n.tokenAccounts,owner:n.wallet,createInfo:l?{connection:e,payer:n.feePayer,amount:new Z(new M(o.perSecond.sub(o.endTime-o.openTime).toFixed(0)).gte(o.perSecond.sub(o.endTime-o.openTime))?o.perSecond.sub(o.endTime-o.openTime).toFixed(0):o.perSecond.sub(o.endTime-o.openTime).add(1).toFixed(0)),frontInstructions:a,endInstructions:c,signers:u}:void 0,associatedOnly:l?!1:s});$.assertArgument(b,"no money","ownerRewardAccount",n.tokenAccounts);let m=new ae;m.add(se());let p=this.makeInitRewardInstructions({poolInfo:t,ownerInfo:{wallet:n.wallet,tokenAccount:b},rewardInfo:{mint:o.mint,openTime:o.openTime,endTime:o.endTime,emissionsPerSecondX64:w.decimalToX64(o.perSecond)}});return m.add(...a,...p.instructions,...c),{signers:[...u,...p.signers],transaction:m,address:U({},p.address)}})}static makeInitRewardsTransaction(r){return h(this,arguments,function*({connection:e,poolInfo:t,ownerInfo:n,rewardInfos:o,associatedOnly:s=!0}){for(let m of o)$.assertArgument(m.endTime>m.openTime,"reward time error","rewardInfo",m);let a=new ae;a.add(se());let c=[],u=[],l=[],b=[];for(let m of o){let p=n.useSOLBalance&&m.mint.equals(x.WSOL.mint),y=yield this._selectOrCreateTokenAccount({mint:m.mint,tokenAccounts:p?[]:n.tokenAccounts,owner:n.wallet,createInfo:p?{connection:e,payer:n.feePayer,amount:new Z(new M(m.perSecond.sub(m.endTime-m.openTime).toFixed(0)).gte(m.perSecond.sub(m.endTime-m.openTime))?m.perSecond.sub(m.endTime-m.openTime).toFixed(0):m.perSecond.sub(m.endTime-m.openTime).add(1).toFixed(0)),frontInstructions:c,endInstructions:u,signers:b}:void 0,associatedOnly:p?!1:s});$.assertArgument(y,"no money","ownerRewardAccount",n.tokenAccounts);let S=this.makeInitRewardInstructions({poolInfo:t,ownerInfo:{wallet:n.wallet,tokenAccount:y},rewardInfo:{mint:m.mint,openTime:m.openTime,endTime:m.endTime,emissionsPerSecondX64:w.decimalToX64(m.perSecond)}});l.push(...S.instructions)}return a.add(...c,...l,...u),{signers:[...b],transaction:a,address:{}}})}static makeSetRewardTransaction(r){return h(this,arguments,function*({connection:e,poolInfo:t,ownerInfo:n,rewardInfo:o,associatedOnly:s=!0}){$.assertArgument(o.endTime>o.openTime,"reward time error","rewardInfo",o);let a=[],c=[],u=[],l=n.useSOLBalance&&o.mint.equals(x.WSOL.mint),b=yield this._selectOrCreateTokenAccount({mint:o.mint,tokenAccounts:l?[]:n.tokenAccounts,owner:n.wallet,createInfo:l?{connection:e,payer:n.feePayer,amount:new Z(new M(o.perSecond.sub(o.endTime-o.openTime).toFixed(0)).gte(o.perSecond.sub(o.endTime-o.openTime))?o.perSecond.sub(o.endTime-o.openTime).toFixed(0):o.perSecond.sub(o.endTime-o.openTime).add(1).toFixed(0)),frontInstructions:a,endInstructions:c,signers:u}:void 0,associatedOnly:l?!1:s});$.assertArgument(b,"no money","ownerRewardAccount",n.tokenAccounts);let m=new ae;m.add(se());let p=this.makeSetRewardInstructions({poolInfo:t,ownerInfo:{wallet:n.wallet,tokenAccount:b},rewardInfo:{mint:o.mint,openTime:o.openTime,endTime:o.endTime,emissionsPerSecondX64:w.decimalToX64(o.perSecond)}});return m.add(...a,...p.instructions,...c),{signers:[...u,...p.signers],transaction:m,address:U({},p.address)}})}static makeSetRewardsTransaction(r){return h(this,arguments,function*({connection:e,poolInfo:t,ownerInfo:n,rewardInfos:o,associatedOnly:s=!0}){let a=[],c=[],u=[],l=[],b=new ae;b.add(se());for(let m of o){$.assertArgument(m.endTime>m.openTime,"reward time error","rewardInfo",m);let p=n.useSOLBalance&&m.mint.equals(x.WSOL.mint),y=yield this._selectOrCreateTokenAccount({mint:m.mint,tokenAccounts:p?[]:n.tokenAccounts,owner:n.wallet,createInfo:p?{connection:e,payer:n.feePayer,amount:new Z(new M(m.perSecond.sub(m.endTime-m.openTime).toFixed(0)).gte(m.perSecond.sub(m.endTime-m.openTime))?m.perSecond.sub(m.endTime-m.openTime).toFixed(0):m.perSecond.sub(m.endTime-m.openTime).add(1).toFixed(0)),frontInstructions:a,endInstructions:c,signers:l}:void 0,associatedOnly:p?!1:s});$.assertArgument(y,"no money","ownerRewardAccount",n.tokenAccounts);let S=this.makeSetRewardInstructions({poolInfo:t,ownerInfo:{wallet:n.wallet,tokenAccount:y},rewardInfo:{mint:m.mint,openTime:m.openTime,endTime:m.endTime,emissionsPerSecondX64:w.decimalToX64(m.perSecond)}});u.push(...S.instructions)}return b.add(...a,...u,...c),{signers:[...l],transaction:b,address:{}}})}static makeCollectRewardTransaction(r){return h(this,arguments,function*({connection:e,poolInfo:t,ownerInfo:n,rewardMint:o,associatedOnly:s=!0}){let a=[],c=[],u=[],l=n.useSOLBalance&&o.equals(x.WSOL.mint),b=yield this._selectOrCreateTokenAccount({mint:o,tokenAccounts:l?[]:n.tokenAccounts,owner:n.wallet,createInfo:{connection:e,payer:n.feePayer,amount:0,frontInstructions:a,endInstructions:l?c:[],signers:u},associatedOnly:l?!1:s});$.assertArgument(b,"no money","ownerRewardAccount",n.tokenAccounts);let m=new ae;m.add(se());let p=this.makeCollectRewardInstructions({poolInfo:t,ownerInfo:{wallet:n.wallet,tokenAccount:b},rewardMint:o});return m.add(...a,...p.instructions,...c),{signers:[...u,...p.signers],transaction:m,address:U({},p.address)}})}static makeCollectRewardsTransaction(r){return h(this,arguments,function*({connection:e,poolInfo:t,ownerInfo:n,rewardMints:o,associatedOnly:s=!0}){let a=[],c=[],u=[],l=new ae;l.add(se());let b=[];for(let m of o){let p=n.useSOLBalance&&m.equals(x.WSOL.mint),y=yield this._selectOrCreateTokenAccount({mint:m,tokenAccounts:p?[]:n.tokenAccounts,owner:n.wallet,createInfo:{connection:e,payer:n.feePayer,amount:0,frontInstructions:a,endInstructions:p?c:[],signers:b},associatedOnly:p?!1:s});$.assertArgument(y,"no money","ownerRewardAccount",n.tokenAccounts);let S=this.makeCollectRewardInstructions({poolInfo:t,ownerInfo:{wallet:n.wallet,tokenAccount:y},rewardMint:m});u.push(...S.instructions)}return l.add(...a,...u,...c),{signers:[...b],transaction:l,address:{}}})}static makeHarvestAllRewardTransaction(s){return h(this,arguments,function*({connection:e,fetchPoolInfos:t,ownerInfo:n,associatedOnly:o=!0}){var p,y,S;let r={};for(let f of n.tokenAccounts)o?we(n.wallet,f.accountInfo.mint).publicKey.equals(f.pubkey)&&(r[f.accountInfo.mint.toString()]=f.pubkey):r[f.accountInfo.mint.toString()]=f.pubkey;let a=[],c=[],u=[],l=[];for(let f of Object.values(t)){if(f.positionAccount===void 0||!f.positionAccount.find(E=>!E.tokenFeeAmountA.isZero()||!E.tokenFeeAmountB.isZero()||E.rewardInfos.find(v=>!v.pendingReward.isZero())))continue;let g=f.state,C=n.useSOLBalance&&g.mintA.mint.equals(x.WSOL.mint),T=n.useSOLBalance&&g.mintB.mint.equals(x.WSOL.mint),A=(p=r[g.mintA.mint.toString()])!=null?p:yield this._selectOrCreateTokenAccount({mint:g.mintA.mint,tokenAccounts:C?[]:n.tokenAccounts,owner:n.wallet,createInfo:{connection:e,payer:n.feePayer,amount:0,frontInstructions:a,signers:l},associatedOnly:C?!1:o}),k=(y=r[g.mintB.mint.toString()])!=null?y:yield this._selectOrCreateTokenAccount({mint:g.mintB.mint,tokenAccounts:T?[]:n.tokenAccounts,owner:n.wallet,createInfo:{connection:e,payer:n.feePayer,amount:0,frontInstructions:a,signers:l},associatedOnly:T?!1:o});r[g.mintA.mint.toString()]=A,r[g.mintB.mint.toString()]=k;let X=[];for(let E of g.rewardInfos){let v=n.useSOLBalance&&E.tokenMint.equals(x.WSOL.mint),ee=(S=r[E.tokenMint.toString()])!=null?S:yield this._selectOrCreateTokenAccount({mint:E.tokenMint,tokenAccounts:v?[]:n.tokenAccounts,owner:n.wallet,createInfo:{connection:e,payer:n.feePayer,amount:0,frontInstructions:a,endInstructions:v?c:[],signers:l},associatedOnly:v?!1:o});r[E.tokenMint.toString()]=ee,X.push(ee)}for(let E of f.positionAccount)u.push(...this.makeDecreaseLiquidityInstructions({poolInfo:g,ownerPosition:E,ownerInfo:{wallet:n.wallet,tokenAccountA:A,tokenAccountB:k,rewardAccounts:X},liquidity:L,amountMinA:L,amountMinB:L}).instructions)}let b=[...a,...u,...c];return{transactions:wt({instructions:b,signers:l,payer:n.wallet}),address:{}}})}static makeCreatePoolInstructions(c){return h(this,arguments,function*({connection:e,programId:t,owner:n,mintA:o,mintB:s,ammConfigId:r,initialPriceX64:a}){let u=new En,l=[Vi.createAccount({fromPubkey:n,newAccountPubkey:u.publicKey,lamports:yield e.getMinimumBalanceForRentExemption(Ut.span),space:Ut.span,programId:t})],b=mn(t,r,o.mint,s.mint).publicKey,m=Dt(t,b,o.mint).publicKey,p=Dt(t,b,s.mint).publicKey;return l.push(yn(t,b,n,r,u.publicKey,o.mint,m,s.mint,p,a)),{signers:[u],instructions:l,address:{poolId:b,observationId:u.publicKey,mintAVault:m,mintBVault:p}}})}static makeOpenPositionInstructions({poolInfo:e,ownerInfo:t,tickLower:n,tickUpper:o,liquidity:s,amountSlippageA:r,amountSlippageB:a}){let c=[],u=new En;c.push(u);let l=R.getTickArrayStartIndexByTick(n,e.ammConfig.tickSpacing),b=R.getTickArrayStartIndexByTick(o,e.ammConfig.tickSpacing),{publicKey:m}=z(e.programId,e.id,l),{publicKey:p}=z(e.programId,e.id,b),{publicKey:y}=we(t.wallet,u.publicKey),{publicKey:S}=dn(u.publicKey),{publicKey:f}=Ee(e.programId,u.publicKey),{publicKey:g}=dt(e.programId,e.id,n,o),C=Sn(e.programId,t.feePayer,e.id,t.wallet,u.publicKey,y,S,g,m,p,f,t.tokenAccountA,t.tokenAccountB,e.mintA.vault,e.mintB.vault,n,o,l,b,s,r,a);return{signers:[u],instructions:[C],address:{}}}static makeIncreaseLiquidityInstructions({poolInfo:e,ownerPosition:t,ownerInfo:n,liquidity:o,amountSlippageA:s,amountSlippageB:r}){let a=R.getTickArrayStartIndexByTick(t.tickLower,e.ammConfig.tickSpacing),c=R.getTickArrayStartIndexByTick(t.tickUpper,e.ammConfig.tickSpacing),{publicKey:u}=z(e.programId,e.id,a),{publicKey:l}=z(e.programId,e.id,c),{publicKey:b}=we(n.wallet,t.nftMint),{publicKey:m}=Ee(e.programId,t.nftMint),{publicKey:p}=dt(e.programId,e.id,t.tickLower,t.tickUpper),y=[];return y.push(An(e.programId,n.wallet,b,m,e.id,p,u,l,n.tokenAccountA,n.tokenAccountB,e.mintA.vault,e.mintB.vault,o,s,r)),{signers:[],instructions:y,address:{}}}static makeDecreaseLiquidityInstructions({poolInfo:e,ownerPosition:t,ownerInfo:n,liquidity:o,amountMinA:s,amountMinB:r}){let a=R.getTickArrayStartIndexByTick(t.tickLower,e.ammConfig.tickSpacing),c=R.getTickArrayStartIndexByTick(t.tickUpper,e.ammConfig.tickSpacing),{publicKey:u}=z(e.programId,e.id,a),{publicKey:l}=z(e.programId,e.id,c),{publicKey:b}=we(n.wallet,t.nftMint),{publicKey:m}=Ee(e.programId,t.nftMint),{publicKey:p}=dt(e.programId,e.id,t.tickLower,t.tickUpper),y=[];for(let f=0;f<e.rewardInfos.length;f++)y.push({poolRewardVault:e.rewardInfos[f].tokenVault,ownerRewardVault:n.rewardAccounts[f]});let S=[];return S.push(gn(e.programId,n.wallet,b,m,e.id,p,u,l,n.tokenAccountA,n.tokenAccountB,e.mintA.vault,e.mintB.vault,y,o,s,r)),{signers:[],instructions:S,address:{}}}static makeClosePositionInstructions({poolInfo:e,ownerInfo:t,ownerPosition:n}){let{publicKey:o}=we(t.wallet,n.nftMint),{publicKey:s}=Ee(e.programId,n.nftMint),r=[];return r.push(fn(e.programId,t.wallet,n.nftMint,o,s)),{signers:[],instructions:r,address:{}}}static makeSwapBaseInInstructions({poolInfo:e,ownerInfo:t,inputMint:n,amountIn:o,amountOutMin:s,sqrtPriceLimitX64:r,remainingAccounts:a}){let c=e.mintA.mint.equals(n),u=[Pn(e.programId,t.wallet,e.id,e.ammConfig.id,c?t.tokenAccountA:t.tokenAccountB,c?t.tokenAccountB:t.tokenAccountA,c?e.mintA.vault:e.mintB.vault,c?e.mintB.vault:e.mintA.vault,a,e.observationId,o,s,r,!0)];return{signers:[],instructions:u,address:{}}}static makeInitRewardInstructions({poolInfo:e,ownerInfo:t,rewardInfo:n}){let o=ln(e.programId,e.id,n.mint).publicKey,s=pt(e.programId).publicKey,r=[Tn(e.programId,t.wallet,e.id,s,e.ammConfig.id,t.tokenAccount,n.mint,o,n.openTime,n.endTime,n.emissionsPerSecondX64)];return{signers:[],instructions:r,address:{}}}static makeSetRewardInstructions({poolInfo:e,ownerInfo:t,rewardInfo:n}){let o,s;for(let c=0;c<e.rewardInfos.length;c++)e.rewardInfos[c].tokenMint.equals(n.mint)&&(o=c,s=e.rewardInfos[c].tokenVault);$.assertArgument(o!==void 0&&s!==void 0,"reward mint check error","no reward mint",e.rewardInfos);let r=pt(e.programId).publicKey,a=[kn(e.programId,t.wallet,e.id,r,e.ammConfig.id,t.tokenAccount,s,o,n.openTime,n.endTime,n.emissionsPerSecondX64)];return{signers:[],instructions:a,address:{}}}static makeCollectRewardInstructions({poolInfo:e,ownerInfo:t,rewardMint:n}){let o,s;for(let a=0;a<e.rewardInfos.length;a++)e.rewardInfos[a].tokenMint.equals(n)&&(o=a,s=e.rewardInfos[a].tokenVault);$.assertArgument(o!==void 0&&s!==void 0,"reward mint check error","no reward mint",e.rewardInfos);let r=[wn(e.programId,t.wallet,e.id,t.tokenAccount,s,o)];return{signers:[],instructions:r,address:{}}}static getLiquidityAmountOutFromAmountIn({poolInfo:e,inputA:t,tickLower:n,tickUpper:o,amount:s,slippage:r,add:a}){let c=e.sqrtPriceX64,u=N.getSqrtPriceX64FromTick(n),l=N.getSqrtPriceX64FromTick(o),b=a?1-r:1+r,m=s.mul(new Z(Math.floor(b*1e6))).div(new Z(1e6)),p;if(c.lte(u))p=t?I.getLiquidityFromTokenAmountA(u,l,m,!a):new Z(0);else if(c.lte(l)){let f=I.getLiquidityFromTokenAmountA(c,l,m,!a),g=I.getLiquidityFromTokenAmountB(u,c,m);p=t?f:g}else p=t?new Z(0):I.getLiquidityFromTokenAmountB(u,l,m);let y=I.getAmountsFromLiquidityWithSlippage(e.sqrtPriceX64,u,l,p,a,!a,r),S=I.getAmountsFromLiquidity(e.sqrtPriceX64,u,l,p,!a);return U(U({liquidity:p},y),S)}static getAmountsFromLiquidity({poolInfo:e,ownerPosition:t,liquidity:n,slippage:o,add:s}){let r=N.getSqrtPriceX64FromTick(t.tickLower),a=N.getSqrtPriceX64FromTick(t.tickUpper);return I.getAmountsFromLiquidityWithSlippage(e.sqrtPriceX64,r,a,n,s,s,o)}static getPriceAndTick({poolInfo:e,price:t,baseIn:n}){let o=n?t:new M(1).div(t),s=Me.getTickWithPriceAndTickspacing(o,e.ammConfig.tickSpacing,e.mintA.decimals,e.mintB.decimals),r=N.getSqrtPriceX64FromTick(s),a=N.sqrtPriceX64ToPrice(r,e.mintA.decimals,e.mintB.decimals);return n?{tick:s,price:a}:{tick:s,price:new M(1).div(a)}}static getTickPrice({poolInfo:e,tick:t,baseIn:n}){let o=N.getSqrtPriceX64FromTick(t),s=N.sqrtPriceX64ToPrice(o,e.mintA.decimals,e.mintB.decimals);return n?{tick:t,price:s,tickSqrtPriceX64:o}:{tick:t,price:new M(1).div(s),tickSqrtPriceX64:o}}static computeAmountOutFormat({poolInfo:e,tickArrayCache:t,amountIn:n,currencyOut:o,slippage:s}){let r=n instanceof ue,a=(r?n.token:x.WSOL).mint,c=n.raw,u=s.numerator.toNumber()/s.denominator.toNumber(),{amountOut:l,minAmountOut:b,currentPrice:m,executionPrice:p,priceImpact:y,fee:S,remainingAccounts:f}=At.computeAmountOut({poolInfo:e,tickArrayCache:t,baseMint:a,amountIn:c,slippage:u}),g=o instanceof x?new ue(o,l):new ce(o,l),C=o instanceof x?new ue(o,b):new ce(o,b),T=new ye(r?n.token:n.currency,new Z(10).pow(new Z(20+(r?n.token:n.currency).decimals)),o instanceof x?o:x.WSOL,m.mul(new M(gt(10,20+(o instanceof x?o:x.WSOL).decimals))).toFixed(0)),A=new ye(r?n.token:n.currency,new Z(10).pow(new Z(20+(r?n.token:n.currency).decimals)),o instanceof x?o:x.WSOL,p.mul(new M(gt(10,20+(o instanceof x?o:x.WSOL).decimals))).toFixed(0)),k=r?new ue(n.token,S):new ce(n.currency,S);return{amountOut:g,minAmountOut:C,currentPrice:T,executionPrice:A,priceImpact:y,fee:k,remainingAccounts:f}}static computeAmountOut({poolInfo:e,tickArrayCache:t,baseMint:n,amountIn:o,slippage:s,priceLimit:r=new M(0)}){let a;r.equals(new M(0))?a=n.equals(e.mintA.mint)?Re.add(H):Ne.sub(H):a=N.priceToSqrtPriceX64(r,e.mintA.decimals,e.mintB.decimals);let{expectedAmountOut:c,remainingAccounts:u,executionPrice:l,feeAmount:b}=et.getOutputAmountAndRemainAccounts(e,t,n,o,a),m=N.sqrtPriceX64ToPrice(l,e.mintA.decimals,e.mintB.decimals),p=n.equals(e.mintA.mint)?m:new M(1).div(m),y=c.mul(new Z(Math.floor((1-s)*1e10))).div(new Z(1e10)),S=e.mintA.mint.equals(n)?e.currentPrice:new M(1).div(e.currentPrice),f=new Ge(parseInt(String(Math.abs(parseFloat(p.toFixed())-parseFloat(S.toFixed()))*1e9)),parseInt(String(parseFloat(S.toFixed())*1e9)));return{amountOut:c,minAmountOut:y,currentPrice:e.currentPrice,executionPrice:p,priceImpact:f,fee:b,remainingAccounts:u}}static estimateAprsForPriceRangeMultiplier({poolInfo:e,aprType:t,positionTickLowerIndex:n,positionTickUpperIndex:o}){let s=e[t],r=this.getTickPrice({poolInfo:e,tick:n,baseIn:!0}).price.toNumber(),a=this.getTickPrice({poolInfo:e,tick:o,baseIn:!0}).price.toNumber(),c=Math.max(r,s.priceMin),l=Math.min(a,s.priceMax)-c,b=a-r,m=s.priceMax-s.priceMin,p;return l<=0?p=0:b===l?p=m/l:m===l?p=l/b:p=l/m*(l/b),{feeApr:s.feeApr*p,rewardsApr:[s.rewardApr.A*p,s.rewardApr.B*p,s.rewardApr.C*p],apr:s.apr*p}}static estimateAprsForPriceRangeDelta({poolInfo:e,aprType:t,mintPrice:n,rewardMintDecimals:o,liquidity:s,positionTickLowerIndex:r,positionTickUpperIndex:a,chainTime:c}){let u=t==="day"?1:t==="week"?7:t==="month"?30:0,l=e[t],b=n[e.mintA.mint.toString()],m=n[e.mintB.mint.toString()],p=e.mintA.decimals,y=e.mintB.decimals;if(!l||!b||!m)return{feeApr:0,rewardsApr:[0,0,0],apr:0};let S=N.getSqrtPriceX64FromTick(r),f=N.getSqrtPriceX64FromTick(a),{amountSlippageA:g,amountSlippageB:C}=I.getAmountsFromLiquidityWithSlippage(e.sqrtPriceX64,S,f,e.liquidity,!1,!1,0),{amountSlippageA:T,amountSlippageB:A}=I.getAmountsFromLiquidityWithSlippage(e.sqrtPriceX64,S,f,s,!1,!1,0),k=new M(g.toString()).div(new M(10).pow(p)).mul(b.toFixed(p)).add(new M(C.toString()).div(new M(10).pow(y)).mul(m.toFixed(y))),X=new M(T.toString()).div(new M(10).pow(p)).mul(b.toFixed(p)).add(new M(A.toString()).div(new M(10).pow(y)).mul(m.toFixed(y))),E=X.div(k.add(X)).div(X),ee=new M(l.volumeFee).mul(365).div(u).mul(E).mul(100).toNumber(),De=3600*24*365,Be=e.rewardInfos.map(ne=>{let le=o[ne.tokenMint.toString()],Pe=n[ne.tokenMint.toString()];return c<ne.openTime.toNumber()||c>ne.endTime.toNumber()||ne.perSecond.equals(0)||!Pe||le===void 0?0:new M(Pe.toFixed(le)).mul(ne.perSecond.mul(De)).div(new M(10).pow(le)).mul(E).mul(100).toNumber()});return{feeApr:ee,rewardsApr:Be,apr:ee+Be.reduce((ne,le)=>ne+le,0)}}static fetchMultiplePoolInfos(r){return h(this,arguments,function*({connection:e,poolKeys:t,ownerInfo:n,chainTime:o,batchRequest:s=!1}){var b;let a=yield Te(e,t.map(m=>new ge(m.id)),{batchRequest:s}),c=[],u={},l=[];for(let m=0;m<t.length;m++){let p=t[m],y=a[m];if(y===null)continue;let S=Bn.decode(y.data);u[p.id]={state:{id:new ge(p.id),mintA:{mint:S.mintA,vault:S.vaultA,decimals:S.mintDecimalsA},mintB:{mint:S.mintB,vault:S.vaultB,decimals:S.mintDecimalsB},observationId:S.observationId,ammConfig:re(U({},p.ammConfig),{id:new ge(p.ammConfig.id)}),creator:S.creator,programId:y.owner,version:6,tickSpacing:S.tickSpacing,liquidity:S.liquidity,sqrtPriceX64:S.sqrtPriceX64,currentPrice:N.sqrtPriceX64ToPrice(S.sqrtPriceX64,S.mintDecimalsA,S.mintDecimalsB),tickCurrent:S.tickCurrent,observationIndex:S.observationIndex,observationUpdateDuration:S.observationUpdateDuration,feeGrowthGlobalX64A:S.feeGrowthGlobalX64A,feeGrowthGlobalX64B:S.feeGrowthGlobalX64B,protocolFeesTokenA:S.protocolFeesTokenA,protocolFeesTokenB:S.protocolFeesTokenB,swapInAmountTokenA:S.swapInAmountTokenA,swapOutAmountTokenB:S.swapOutAmountTokenB,swapInAmountTokenB:S.swapInAmountTokenB,swapOutAmountTokenA:S.swapOutAmountTokenA,tickArrayBitmap:S.tickArrayBitmap,rewardInfos:et.updatePoolRewardInfos({chainTime:o,poolLiquidity:S.liquidity,rewardInfos:S.rewardInfos.filter(f=>!f.tokenMint.equals(ge.default))}),day:p.day,week:p.week,month:p.month,tvl:p.tvl}},n&&l.push(...u[p.id].state.rewardInfos.filter(f=>f.creator.equals(n.wallet))),c.find(f=>f.equals(y.owner))||c.push(y.owner)}if(n){let m=n.tokenAccounts.map(T=>T.accountInfo.mint),p=[];for(let T of m)for(let A of c)p.push(Ee(A,T).publicKey);let y=yield Te(e,p,{batchRequest:s}),S={};for(let T of y){if(T===null)continue;let A=xn.decode(T.data),k=A.poolId.toString(),X=u[k];if(X===void 0)continue;let E=X.state,v=this.getTickPrice({poolInfo:E,tick:A.tickLower,baseIn:!0}),ee=this.getTickPrice({poolInfo:E,tick:A.tickUpper,baseIn:!0}),{amountA:De,amountB:Be}=I.getAmountsFromLiquidity(E.sqrtPriceX64,v.tickSqrtPriceX64,ee.tickSqrtPriceX64,A.liquidity,!1),ne=1/(1-Math.sqrt(Math.sqrt(v.price.div(ee.price).toNumber())));u[k].positionAccount=[...(b=u[k].positionAccount)!=null?b:[],{poolId:A.poolId,nftMint:A.nftMint,priceLower:v.price,priceUpper:ee.price,amountA:De,amountB:Be,tickLower:A.tickLower,tickUpper:A.tickUpper,liquidity:A.liquidity,feeGrowthInsideLastX64A:A.feeGrowthInsideLastX64A,feeGrowthInsideLastX64B:A.feeGrowthInsideLastX64B,tokenFeesOwedA:A.tokenFeesOwedA,tokenFeesOwedB:A.tokenFeesOwedB,rewardInfos:A.rewardInfos.map(xe=>re(U({},xe),{pendingReward:new Z(0)})),leverage:ne,tokenFeeAmountA:new Z(0),tokenFeeAmountB:new Z(0)}];let le=R.getTickArrayAddressByTick(u[k].state.programId,A.poolId,A.tickLower,u[k].state.tickSpacing),Pe=R.getTickArrayAddressByTick(u[k].state.programId,A.poolId,A.tickUpper,u[k].state.tickSpacing);S[`${u[k].state.programId.toString()}-${A.poolId.toString()}-${A.tickLower}`]=le,S[`${u[k].state.programId.toString()}-${A.poolId.toString()}-${A.tickUpper}`]=Pe}let f=Object.values(S),g=yield Te(e,f,{batchRequest:s}),C={};for(let T=0;T<f.length;T++){let A=g[T];if(A===null)continue;let k=f[T].toString();C[k]=je.decode(A.data)}for(let{state:T,positionAccount:A}of Object.values(u))if(!!A)for(let k of A){let X=`${T.programId.toString()}-${T.id.toString()}-${k.tickLower}`,E=`${T.programId.toString()}-${T.id.toString()}-${k.tickUpper}`,v=C[S[X].toString()],ee=C[S[E].toString()],De=v.ticks[R.getTickOffsetInArray(k.tickLower,T.tickSpacing)],Be=ee.ticks[R.getTickOffsetInArray(k.tickUpper,T.tickSpacing)],{tokenFeeAmountA:ne,tokenFeeAmountB:le}=tt.GetPositionFees(T,k,De,Be),Pe=tt.GetPositionRewards(T,k,De,Be);k.tokenFeeAmountA=ne.gte(L)?ne:L,k.tokenFeeAmountB=le.gte(L)?le:L;for(let xe=0;xe<Pe.length;xe++)k.rewardInfos[xe].pendingReward=Pe[xe].gte(L)?Pe[xe]:L}}if(l.length>0){let m=l.map(S=>S.tokenVault),p=yield Te(e,m,{batchRequest:s}),y={};for(let S=0;S<m.length;S++){let f=m[S].toString(),g=p[S];if(g===null)continue;let C=Qe.decode(g.data);y[f]=C.amount}for(let S of l){let f=y[S.tokenVault.toString()];S.remainingRewards=f!==void 0?f.sub(S.rewardTotalEmissioned):L}}return u})}static fetchMultiplePoolTickArrays(o){return h(this,arguments,function*({connection:e,poolKeys:t,batchRequest:n}){let s={},r=[];for(let u of t){let l=R.mergeTickArrayBitmap(u.tickArrayBitmap),b=R.getTickArrayStartIndexByTick(u.tickCurrent,u.tickSpacing),m=R.getInitializedTickArrayInRange(l,u.tickSpacing,b,Math.floor(Ot/2));for(let p of m){let{publicKey:y}=z(u.programId,u.id,p);r.push({pubkey:y}),s[y.toString()]=u.id}}let a=yield Jt(e,r,{batchRequest:n}),c={};for(let u of a){if(!u.accountInfo)continue;let l=s[u.pubkey.toString()];if(!l)continue;c[l]===void 0&&(c[l]={});let b=je.decode(u.accountInfo.data);c[l][b.startTickIndex]=re(U({},b),{address:u.pubkey})}return c})}static getWhiteListMint(n){return h(this,arguments,function*({connection:e,programId:t}){let o=yield e.getAccountInfo(pt(t).publicKey);return o?Cn.decode(o.data).whitelistMints.filter(r=>!r.equals(ge.default)):[]})}};export{At as AmmV3};
//# sourceMappingURL=ammV3.mjs.map